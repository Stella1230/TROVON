struct V_1 * T_1 F_1 ( int V_2 )
{
struct V_1 * V_3 ;
static int V_4 ;
int V_5 = - V_6 ;
if ( ! V_7 && ! V_8 )
return F_2 ( - V_6 ) ;
switch( V_9 -> V_10 ) {
case V_11 | V_12 :
case V_11 | V_13 :
case V_14 | V_15 :
break;
default:
return F_2 ( - V_6 ) ;
}
if ( V_4 )
return F_2 ( - V_6 ) ;
V_3 = F_3 ( sizeof( struct V_16 ) ) ;
if ( ! V_3 )
return F_2 ( - V_17 ) ;
if ( V_2 >= 0 ) {
sprintf ( V_3 -> V_18 , L_1 , V_2 ) ;
F_4 ( V_3 ) ;
}
if ( ! F_5 ( V_3 ) )
goto V_19;
V_5 = F_6 ( V_3 ) ;
if ( V_5 )
goto V_20;
V_4 = 1 ;
return V_3 ;
V_20:
#ifdef F_7
F_8 ( ( void V_21 * ) V_3 -> V_22 ) ;
#endif
V_19:
F_9 ( V_3 ) ;
return F_2 ( V_5 ) ;
}
static int T_1 F_5 ( struct V_1 * V_3 )
{
unsigned long V_23 ;
struct V_16 * V_24 ;
int V_25 ;
static int V_26 ;
volatile unsigned short * V_27 ;
unsigned short V_28 , V_29 ;
#ifdef F_7
V_23 = ( unsigned long ) F_10 ( V_30 , V_31 ) ;
if ( ! V_23 )
return 0 ;
#else
V_23 = V_32 ;
#endif
V_27 = ( volatile unsigned short * ) V_23 ;
V_28 = V_27 [ 0 ] ;
V_29 = V_27 [ 1 ] ;
V_27 [ 1 ] = V_33 ;
V_27 [ 0 ] = V_34 | V_35 ;
if( V_27 [ 0 ] != V_35 ) {
V_27 [ 0 ] = V_28 ;
V_27 [ 1 ] = V_29 ;
#ifdef F_7
F_8 ( ( void V_21 * ) V_23 ) ;
#endif
return 0 ;
}
V_24 = F_11 ( V_3 ) ;
V_36 = F_12 ( sizeof( struct V_37 ) , 0x10000 ) ;
if ( V_36 == NULL ) {
#ifdef F_7
F_8 ( ( void V_21 * ) V_23 ) ;
#endif
F_13 ( V_38 L_2 ) ;
return 0 ;
}
V_24 -> V_39 = ( volatile unsigned short * ) V_23 ;
V_3 -> V_22 = ( unsigned long ) V_23 ;
F_14 ( V_33 ) = V_35 ;
if ( F_15 ( V_40 , V_41 , V_42 , L_3 , V_3 ) < 0 ) {
#ifdef F_7
F_8 ( ( void V_21 * ) V_23 ) ;
#endif
F_16 ( ( void * ) V_36 ) ;
F_13 ( V_38 L_4 ) ;
return 0 ;
}
V_3 -> V_43 = ( unsigned short ) V_40 ;
F_13 ( L_5 ,
V_3 -> V_18 ,
( unsigned long ) V_23 ,
( unsigned long ) V_36 ,
V_3 -> V_43 ) ;
for( V_25 = 0 ; V_25 < 6 ; V_25 ++ )
V_3 -> V_44 [ V_25 ] = V_9 -> V_45 [ V_25 ] ;
V_36 -> V_46 . V_47 [ 0 ] = V_3 -> V_44 [ 1 ] ;
V_36 -> V_46 . V_47 [ 1 ] = V_3 -> V_44 [ 0 ] ;
V_36 -> V_46 . V_47 [ 2 ] = V_3 -> V_44 [ 3 ] ;
V_36 -> V_46 . V_47 [ 3 ] = V_3 -> V_44 [ 2 ] ;
V_36 -> V_46 . V_47 [ 4 ] = V_3 -> V_44 [ 5 ] ;
V_36 -> V_46 . V_47 [ 5 ] = V_3 -> V_44 [ 4 ] ;
F_13 ( L_6 , V_3 -> V_44 ) ;
V_36 -> V_46 . V_48 = 0x0000 ;
V_36 -> V_46 . V_49 [ 0 ] = 0x00000000 ;
V_36 -> V_46 . V_49 [ 1 ] = 0x00000000 ;
V_36 -> V_46 . V_50 = F_17 ( V_36 -> V_51 ) ;
V_36 -> V_46 . V_52 = ( V_53 << 13 ) |
( F_17 ( V_36 -> V_51 ) >> 16 ) ;
V_36 -> V_46 . V_54 = F_17 ( V_36 -> V_55 ) ;
V_36 -> V_46 . V_56 = ( V_57 << 13 ) |
( F_17 ( V_36 -> V_55 ) >> 16 ) ;
F_18 ( 2 , ( L_7 ,
F_17 ( & ( V_36 -> V_46 ) ) , F_17 ( V_36 -> V_51 ) ,
( F_17 ( V_36 -> V_55 ) ) ) ) ;
if ( V_26 ++ == 0 )
F_13 ( V_58 ) ;
V_3 -> V_59 = & V_60 ;
F_19 ( V_61 , & V_3 -> V_62 ) ;
return 1 ;
}
static int F_20 ( struct V_1 * V_3 )
{
struct V_16 * V_24 = F_11 ( V_3 ) ;
int V_25 ;
F_18 ( 2 , ( L_8 , V_3 -> V_18 ) ) ;
F_14 ( V_33 ) = V_35 ;
F_21 ( V_3 ) ;
F_14 ( V_33 ) = V_34 ;
V_25 = 1000000 ;
while ( -- V_25 > 0 )
if ( V_63 & V_64 )
break;
if ( V_25 <= 0 || ( V_63 & V_65 ) ) {
F_18 ( 2 , ( L_9 ,
V_3 -> V_18 , V_25 , V_63 ) ) ;
V_63 = V_35 ;
return - V_66 ;
}
V_63 = V_64 | V_67 | V_68 ;
F_22 ( V_3 ) ;
F_18 ( 2 , ( L_10 , V_3 -> V_18 , V_63 ) ) ;
return 0 ;
}
static void F_21 ( struct V_1 * V_3 )
{
struct V_16 * V_24 = F_11 ( V_3 ) ;
int V_25 ;
V_24 -> V_69 = 0 ;
V_24 -> V_70 = 0 ;
V_24 -> V_71 = V_24 -> V_72 = 0 ;
V_24 -> V_73 = V_24 -> V_74 = 0 ;
for( V_25 = 0 ; V_25 < V_75 ; V_25 ++ ) {
V_36 -> V_55 [ V_25 ] . V_76 = F_17 ( V_36 -> V_77 [ V_25 ] ) ;
V_36 -> V_55 [ V_25 ] . V_78 = 0 ;
V_36 -> V_55 [ V_25 ] . V_79 =
( F_17 ( V_36 -> V_77 [ V_25 ] ) ) >> 16 ;
V_36 -> V_55 [ V_25 ] . V_80 = 0 ;
V_36 -> V_55 [ V_25 ] . V_81 = 0 ;
}
for( V_25 = 0 ; V_25 < V_82 ; V_25 ++ ) {
V_36 -> V_51 [ V_25 ] . V_76 = F_17 ( V_36 -> V_83 [ V_25 ] ) ;
V_36 -> V_51 [ V_25 ] . V_78 = V_84 ;
V_36 -> V_51 [ V_25 ] . V_79 =
( F_17 ( V_36 -> V_83 [ V_25 ] ) ) >> 16 ;
V_36 -> V_51 [ V_25 ] . V_85 = - V_86 | 0xf000 ;
V_36 -> V_51 [ V_25 ] . V_87 = 0 ;
}
V_36 -> V_46 . V_47 [ 0 ] = V_3 -> V_44 [ 1 ] ;
V_36 -> V_46 . V_47 [ 1 ] = V_3 -> V_44 [ 0 ] ;
V_36 -> V_46 . V_47 [ 2 ] = V_3 -> V_44 [ 3 ] ;
V_36 -> V_46 . V_47 [ 3 ] = V_3 -> V_44 [ 2 ] ;
V_36 -> V_46 . V_47 [ 4 ] = V_3 -> V_44 [ 5 ] ;
V_36 -> V_46 . V_47 [ 5 ] = V_3 -> V_44 [ 4 ] ;
V_36 -> V_46 . V_48 = 0x0000 ;
V_36 -> V_46 . V_49 [ 0 ] = 0x00000000 ;
V_36 -> V_46 . V_49 [ 1 ] = 0x00000000 ;
V_36 -> V_46 . V_50 = F_17 ( V_36 -> V_51 ) ;
V_36 -> V_46 . V_52 = ( V_53 << 13 ) |
( F_17 ( V_36 -> V_51 ) >> 16 ) ;
V_36 -> V_46 . V_54 = F_17 ( V_36 -> V_55 ) ;
V_36 -> V_46 . V_56 = ( V_57 << 13 ) |
( F_17 ( V_36 -> V_55 ) >> 16 ) ;
F_14 ( V_88 ) = F_17 ( & ( V_36 -> V_46 ) ) ;
F_14 ( V_89 ) = F_17 ( & ( V_36 -> V_46 ) ) >> 16 ;
#ifdef F_23
F_14 ( V_90 ) = V_91 | V_92 | V_93 ;
#else
F_14 ( V_90 ) = V_91 ;
#endif
}
static int F_24 ( struct V_94 * V_95 , struct V_1 * V_3 )
{
struct V_16 * V_24 = F_11 ( V_3 ) ;
int V_96 , V_97 ;
struct V_98 * V_99 ;
unsigned long V_100 ;
F_18 ( 1 , ( L_11 ,
V_3 -> V_18 ) ) ;
if ( F_25 ( V_3 ) ) {
int V_101 = V_102 - F_26 ( V_3 ) ;
if ( V_101 < V_103 / 5 )
return V_104 ;
F_18 ( 1 , ( L_12 ,
V_3 -> V_18 , V_63 ) ) ;
V_63 = V_35 ;
F_14 ( V_90 ) = V_91 ;
V_3 -> V_105 . V_106 ++ ;
if( V_107 >= 2 ) {
int V_25 ;
F_13 ( L_13 ,
V_24 -> V_74 , V_24 -> V_72 ,
V_24 -> V_70 ? L_14 : L_15 ,
V_24 -> V_71 ) ;
for( V_25 = 0 ; V_25 < V_82 ; V_25 ++ )
F_13 ( L_16 ,
V_25 , V_36 -> V_51 [ V_25 ] . V_76 ,
- V_36 -> V_51 [ V_25 ] . V_85 ,
V_36 -> V_51 [ V_25 ] . V_87 ) ;
for( V_25 = 0 ; V_25 < V_75 ; V_25 ++ )
F_13 ( L_17 ,
V_25 , V_36 -> V_55 [ V_25 ] . V_76 ,
- V_36 -> V_55 [ V_25 ] . V_80 ,
V_36 -> V_55 [ V_25 ] . V_81 ) ;
}
F_21 ( V_3 ) ;
F_14 ( V_33 ) = V_68 | V_34 | V_67 ;
F_22 ( V_3 ) ;
return V_108 ;
}
F_27 ( V_3 ) ;
if ( F_28 ( 0 , ( void * ) & V_24 -> V_69 ) != 0 ) {
F_13 ( L_18 , V_3 -> V_18 ) ;
return V_104 ;
}
V_109 = V_33 ;
F_18 ( 2 , ( L_19 ,
V_3 -> V_18 , V_63 ) ) ;
#ifdef F_23
if( ! ( V_63 & V_34 ) ) {
F_18 ( 1 , ( L_20 ) ) ;
F_14 ( V_33 ) = V_35 ;
F_21 ( V_3 ) ;
F_14 ( V_33 ) = V_34 | V_67 ;
}
#endif
#if 0
if (lance_debug >= 2) {
printk( "%s: TX pkt %d type 0x%04x"
" from %s to %s"
" data at 0x%08x len %d\n",
dev->name, lp->new_tx, ((u_short *)skb->data)[6],
DEV_ADDR(&skb->data[6]), DEV_ADDR(skb->data),
(int)skb->data, (int)skb->len );
}
#endif
F_29 ( V_100 ) ;
V_96 = V_24 -> V_72 ;
V_99 = & ( V_36 -> V_55 [ V_96 ] ) ;
V_97 = ( V_110 < V_95 -> V_97 ) ? V_95 -> V_97 : V_110 ;
V_99 -> V_80 = ( - V_97 ) | 0xf000 ;
V_99 -> V_81 = 0 ;
F_30 ( V_95 , F_31 ( V_99 ) , V_95 -> V_97 ) ;
if ( V_97 != V_95 -> V_97 )
memset ( F_31 ( V_99 ) + V_95 -> V_97 , 0 , V_97 - V_95 -> V_97 ) ;
V_99 -> V_78 = V_111 | V_112 | V_113 ;
V_24 -> V_72 = ( V_24 -> V_72 + 1 ) & V_114 ;
V_3 -> V_105 . V_115 += V_95 -> V_97 ;
F_14 ( V_33 ) = V_68 | V_116 | V_67 ;
V_109 = V_33 ;
F_18 ( 2 , ( L_21 ,
V_3 -> V_18 , V_63 ) ) ;
F_32 ( V_95 ) ;
V_24 -> V_69 = 0 ;
if ( ( V_36 -> V_55 [ ( V_96 + 1 ) & V_114 ] . V_78 & V_117 ) ==
V_118 )
F_22 ( V_3 ) ;
F_33 ( V_100 ) ;
return V_108 ;
}
static T_2 V_41 ( int V_43 , void * V_119 )
{
struct V_1 * V_3 = V_119 ;
struct V_16 * V_24 = F_11 ( V_3 ) ;
int V_120 ;
static int V_121 ;
if ( V_3 == NULL ) {
F_18 ( 1 , ( L_22 ) ) ;
return V_122 ;
}
if ( V_121 )
F_18 ( 2 , ( L_23 , V_3 -> V_18 ) ) ;
V_121 = 1 ;
V_123:
F_34 () ;
V_109 = V_33 ;
V_120 = V_63 ;
V_63 = V_120 & ( V_124 | V_125 | V_64 ) ;
if( V_120 & V_65 )
V_63 = V_126 | V_127 | V_128 | V_129 ;
F_18 ( 2 , ( L_24 ,
V_3 -> V_18 , V_120 , V_63 ) ) ;
if ( V_120 & V_124 ) {
int V_74 = V_24 -> V_74 ;
while( V_74 != V_24 -> V_72 ) {
struct V_98 * V_99 = & ( V_36 -> V_55 [ V_74 ] ) ;
F_18 ( 3 , ( L_25 , V_74 ) ) ;
if ( V_99 -> V_78 & V_111 )
break;
if ( V_99 -> V_78 & V_130 ) {
int V_131 = V_99 -> V_81 ;
V_3 -> V_105 . V_106 ++ ;
if ( V_131 & V_132 ) V_3 -> V_105 . V_133 ++ ;
if ( V_131 & V_134 ) V_3 -> V_105 . V_135 ++ ;
if ( V_131 & V_136 ) V_3 -> V_105 . V_137 ++ ;
if ( V_131 & ( V_138 | V_139 ) ) {
V_3 -> V_105 . V_140 ++ ;
F_13 ( L_26 ,
V_3 -> V_18 ) ;
F_14 ( V_33 ) = V_35 ;
F_14 ( V_90 ) = V_91 ;
F_21 ( V_3 ) ;
F_14 ( V_33 ) = V_67 | V_68 ;
return V_141 ;
}
} else if( V_99 -> V_78 & ( V_112 | V_113 ) ) {
V_99 -> V_78 &= ~ ( V_112 | V_113 ) ;
if( V_99 -> V_78 & ( V_142 | V_143 ) )
V_3 -> V_105 . V_144 ++ ;
V_3 -> V_105 . V_145 ++ ;
F_18 ( 3 , ( L_27 , V_74 ) ) ;
}
V_74 = ( V_74 + 1 ) & V_114 ;
}
V_24 -> V_74 = V_74 ;
}
if ( F_25 ( V_3 ) ) {
F_22 ( V_3 ) ;
F_35 ( V_3 ) ;
}
if ( V_120 & V_125 )
F_36 ( V_3 ) ;
if ( V_120 & V_126 ) V_3 -> V_105 . V_106 ++ ;
if ( V_120 & V_129 ) V_3 -> V_105 . V_146 ++ ;
if ( V_120 & V_127 ) {
F_18 ( 1 , ( L_28
L_29 , V_3 -> V_18 , V_120 ) ) ;
F_14 ( V_33 ) = V_35 ;
F_14 ( V_90 ) = V_91 ;
F_21 ( V_3 ) ;
F_14 ( V_33 ) = V_67 | V_68 ;
}
F_14 ( V_33 ) = V_68 ;
if( V_63 & ( V_125 | V_124 ) ) {
F_18 ( 2 , ( L_30 , V_63 ) ) ;
goto V_123;
}
F_18 ( 2 , ( L_31 ,
V_3 -> V_18 , V_63 ) ) ;
V_121 = 0 ;
return V_141 ;
}
static int F_36 ( struct V_1 * V_3 )
{
struct V_16 * V_24 = F_11 ( V_3 ) ;
int V_96 = V_24 -> V_71 ;
while( ( V_36 -> V_51 [ V_96 ] . V_78 & V_147 ) == V_148 ) {
struct V_149 * V_99 = & ( V_36 -> V_51 [ V_96 ] ) ;
int V_131 = V_99 -> V_78 ;
if ( V_131 != ( V_150 | V_151 ) ) {
if ( V_131 & V_150 )
V_3 -> V_105 . V_146 ++ ;
if ( V_131 & V_152 ) V_3 -> V_105 . V_153 ++ ;
if ( V_131 & V_154 ) V_3 -> V_105 . V_155 ++ ;
if ( V_131 & V_156 ) V_3 -> V_105 . V_157 ++ ;
if ( V_131 & V_158 ) V_3 -> V_105 . V_159 ++ ;
V_99 -> V_78 &= ( V_150 | V_151 ) ;
} else {
short V_160 = ( V_99 -> V_87 & 0xfff ) - 4 ;
struct V_94 * V_95 ;
if ( V_160 < 60 ) {
F_13 ( L_32 , V_3 -> V_18 ) ;
V_3 -> V_105 . V_146 ++ ;
}
else {
V_95 = F_37 ( V_3 , V_160 + 2 ) ;
if ( V_95 == NULL ) {
V_3 -> V_105 . V_161 ++ ;
V_99 -> V_87 = 0 ;
V_99 -> V_78 |= V_84 ;
V_24 -> V_71 = ( V_24 -> V_71 + 1 ) &
V_162 ;
}
#if 0
if (lance_debug >= 3) {
u_char *data = PKTBUF_ADDR(head);
printk("%s: RX pkt %d type 0x%04x"
" from %pM to %pM",
dev->name, lp->new_tx, ((u_short *)data)[6],
&data[6], data);
printk(" data %02x %02x %02x %02x %02x %02x %02x %02x "
"len %d at %08x\n",
data[15], data[16], data[17], data[18],
data[19], data[20], data[21], data[22],
pkt_len, data);
}
#endif
if ( V_107 >= 3 ) {
T_3 * V_163 = F_31 ( V_99 ) ;
F_13 ( L_33 , V_3 -> V_18 , V_96 , ( ( V_164 * ) V_163 ) [ 6 ] , V_160 ) ;
}
F_38 ( V_95 , 2 ) ;
F_39 ( V_95 , V_160 ) ;
F_40 ( V_95 ,
F_31 ( V_99 ) ,
V_160 ) ;
V_95 -> V_165 = F_41 ( V_95 , V_3 ) ;
F_42 ( V_95 ) ;
V_3 -> V_105 . V_166 ++ ;
V_3 -> V_105 . V_167 += V_160 ;
}
}
V_99 -> V_87 = 0 ;
V_99 -> V_78 = V_84 ;
V_96 = V_24 -> V_71 = ( V_24 -> V_71 + 1 ) & V_162 ;
}
return 0 ;
}
static int F_43 ( struct V_1 * V_3 )
{
struct V_16 * V_24 = F_11 ( V_3 ) ;
F_27 ( V_3 ) ;
V_109 = V_33 ;
F_18 ( 2 , ( L_34 ,
V_3 -> V_18 , V_63 ) ) ;
V_63 = V_35 ;
return 0 ;
}
static void F_44 ( struct V_1 * V_3 )
{
struct V_16 * V_24 = F_11 ( V_3 ) ;
if( F_25 ( V_3 ) )
return;
V_63 = V_35 ;
if ( V_3 -> V_100 & V_168 ) {
F_18 ( 3 , ( L_35 , V_3 -> V_18 ) ) ;
F_14 ( V_169 ) = 0x8000 ;
} else {
short V_170 [ 4 ] ;
int V_171 = F_45 ( V_3 ) ;
int V_25 ;
memset ( V_170 , ( V_171 == 0 ) ? 0 : - 1 ,
sizeof( V_170 ) ) ;
for( V_25 = 0 ; V_25 < 4 ; V_25 ++ )
F_14 ( V_172 + V_25 ) = V_170 [ V_25 ] ;
F_14 ( V_169 ) = 0 ;
}
F_14 ( V_90 ) = V_91 ;
F_14 ( V_33 ) = V_64 | V_68 | V_67 ;
}
int T_1 F_46 ( void )
{
V_173 = F_1 ( - 1 ) ;
return F_47 ( V_173 ) ;
}
void T_4 F_48 ( void )
{
F_49 ( V_173 ) ;
#ifdef F_7
F_8 ( ( void V_21 * ) V_173 -> V_22 ) ;
#endif
F_9 ( V_173 ) ;
}
