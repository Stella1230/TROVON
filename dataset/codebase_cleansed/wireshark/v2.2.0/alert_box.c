void\r\nfailure_alert_box(const char *msg_format, ...)\r\n{\r\nva_list ap;\r\nva_start(ap, msg_format);\r\nvsimple_error_message_box(msg_format, ap);\r\nva_end(ap);\r\n}\r\nvoid\r\nvfailure_alert_box(const char *msg_format, va_list ap)\r\n{\r\nvsimple_error_message_box(msg_format, ap);\r\n}\r\nvoid\r\nopen_failure_alert_box(const char *filename, int err, gboolean for_writing)\r\n{\r\ngchar *display_basename;\r\ndisplay_basename = g_filename_display_basename(filename);\r\nsimple_message_box(ESD_TYPE_ERROR, NULL, NULL,\r\nfile_open_error_message(err, for_writing),\r\ndisplay_basename);\r\ng_free(display_basename);\r\n}\r\nvoid\r\nread_failure_alert_box(const char *filename, int err)\r\n{\r\ngchar *display_basename;\r\ndisplay_basename = g_filename_display_basename(filename);\r\nsimple_message_box(ESD_TYPE_ERROR, NULL, NULL,\r\n"An error occurred while reading from the file \"%s\": %s.",\r\ndisplay_basename, g_strerror(err));\r\ng_free(display_basename);\r\n}\r\nvoid\r\nwrite_failure_alert_box(const char *filename, int err)\r\n{\r\ngchar *display_basename;\r\ndisplay_basename = g_filename_display_basename(filename);\r\nif (err < 0) {\r\nswitch (err) {\r\ncase WTAP_ERR_SHORT_WRITE:\r\nsimple_message_box(ESD_TYPE_ERROR, NULL, NULL,\r\n"A full write couldn't be done to the file \"%s\".",\r\ndisplay_basename);\r\nbreak;\r\ndefault:\r\nsimple_message_box(ESD_TYPE_ERROR, NULL, NULL,\r\n"An error occurred while writing to the file \"%s\": %s.",\r\ndisplay_basename, wtap_strerror(err));\r\nbreak;\r\n}\r\n} else {\r\nsimple_message_box(ESD_TYPE_ERROR, NULL, NULL,\r\nfile_write_error_message(err), display_basename);\r\n}\r\ng_free(display_basename);\r\n}
