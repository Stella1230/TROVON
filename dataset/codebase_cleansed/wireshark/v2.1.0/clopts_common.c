int\r\nget_natural_int(const char *string, const char *name)\r\n{\r\nlong number;\r\nchar *p;\r\nnumber = strtol(string, &p, 10);\r\nif (p == string || *p != '\0') {\r\ncmdarg_err("The specified %s \"%s\" isn't a decimal number", name, string);\r\nexit(1);\r\n}\r\nif (number < 0) {\r\ncmdarg_err("The specified %s \"%s\" is a negative number", name, string);\r\nexit(1);\r\n}\r\nif (number > INT_MAX) {\r\ncmdarg_err("The specified %s \"%s\" is too large (greater than %d)",\r\nname, string, INT_MAX);\r\nexit(1);\r\n}\r\nreturn (int)number;\r\n}\r\nint\r\nget_positive_int(const char *string, const char *name)\r\n{\r\nint number;\r\nnumber = get_natural_int(string, name);\r\nif (number == 0) {\r\ncmdarg_err("The specified %s is zero", name);\r\nexit(1);\r\n}\r\nreturn number;\r\n}
