void init_report_err(void (*report_failure_fcn_p)(const char *, va_list),\r\nvoid (*report_open_failure_fcn_p)(const char *, int, gboolean),\r\nvoid (*report_read_failure_fcn_p)(const char *, int),\r\nvoid (*report_write_failure_fcn_p)(const char *, int))\r\n{\r\nreport_failure_func = report_failure_fcn_p;\r\nreport_open_failure_func = report_open_failure_fcn_p;\r\nreport_read_failure_func = report_read_failure_fcn_p;\r\nreport_write_failure_func = report_write_failure_fcn_p;\r\n}\r\nvoid\r\nreport_failure(const char *msg_format, ...)\r\n{\r\nva_list ap;\r\nva_start(ap, msg_format);\r\n(*report_failure_func)(msg_format, ap);\r\nva_end(ap);\r\n}\r\nvoid\r\nreport_open_failure(const char *filename, int err,\r\ngboolean for_writing)\r\n{\r\n(*report_open_failure_func)(filename, err, for_writing);\r\n}\r\nvoid\r\nreport_read_failure(const char *filename, int err)\r\n{\r\n(*report_read_failure_func)(filename, err);\r\n}\r\nvoid\r\nreport_write_failure(const char *filename, int err)\r\n{\r\n(*report_write_failure_func)(filename, err);\r\n}
