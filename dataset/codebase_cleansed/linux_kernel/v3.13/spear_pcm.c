static struct dma_chan *spear_pcm_request_chan(struct snd_soc_pcm_runtime *rtd,\r\nstruct snd_pcm_substream *substream)\r\n{\r\nstruct spear_dma_data *dma_data;\r\ndma_data = snd_soc_dai_get_dma_data(rtd->cpu_dai, substream);\r\nreturn snd_dmaengine_pcm_request_channel(dma_data->filter, dma_data);\r\n}\r\nstatic int spear_soc_platform_probe(struct platform_device *pdev)\r\n{\r\nreturn snd_dmaengine_pcm_register(&pdev->dev,\r\n&spear_dmaengine_pcm_config,\r\nSND_DMAENGINE_PCM_FLAG_NO_DT |\r\nSND_DMAENGINE_PCM_FLAG_COMPAT);\r\n}\r\nstatic int spear_soc_platform_remove(struct platform_device *pdev)\r\n{\r\nsnd_dmaengine_pcm_unregister(&pdev->dev);\r\nreturn 0;\r\n}
