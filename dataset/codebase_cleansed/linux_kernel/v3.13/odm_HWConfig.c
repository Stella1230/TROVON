static u8 odm_QueryRxPwrPercentage(s8 AntPower)\r\n{\r\nif ((AntPower <= -100) || (AntPower >= 20))\r\nreturn 0;\r\nelse if (AntPower >= 0)\r\nreturn 100;\r\nelse\r\nreturn 100+AntPower;\r\n}\r\nstatic s32 odm_sig_patch_lenove(struct odm_dm_struct *dm_odm, s32 CurrSig)\r\n{\r\nreturn 0;\r\n}\r\nstatic s32 odm_sig_patch_netcore(struct odm_dm_struct *dm_odm, s32 CurrSig)\r\n{\r\nreturn 0;\r\n}\r\nstatic s32 odm_SignalScaleMapping_92CSeries(struct odm_dm_struct *dm_odm, s32 CurrSig)\r\n{\r\ns32 RetSig = 0;\r\nif ((dm_odm->SupportInterface == ODM_ITRF_USB) ||\r\n(dm_odm->SupportInterface == ODM_ITRF_SDIO)) {\r\nif (CurrSig >= 51 && CurrSig <= 100)\r\nRetSig = 100;\r\nelse if (CurrSig >= 41 && CurrSig <= 50)\r\nRetSig = 80 + ((CurrSig - 40)*2);\r\nelse if (CurrSig >= 31 && CurrSig <= 40)\r\nRetSig = 66 + (CurrSig - 30);\r\nelse if (CurrSig >= 21 && CurrSig <= 30)\r\nRetSig = 54 + (CurrSig - 20);\r\nelse if (CurrSig >= 10 && CurrSig <= 20)\r\nRetSig = 42 + (((CurrSig - 10) * 2) / 3);\r\nelse if (CurrSig >= 5 && CurrSig <= 9)\r\nRetSig = 22 + (((CurrSig - 5) * 3) / 2);\r\nelse if (CurrSig >= 1 && CurrSig <= 4)\r\nRetSig = 6 + (((CurrSig - 1) * 3) / 2);\r\nelse\r\nRetSig = CurrSig;\r\n}\r\nreturn RetSig;\r\n}\r\nstatic s32 odm_SignalScaleMapping(struct odm_dm_struct *dm_odm, s32 CurrSig)\r\n{\r\nif ((dm_odm->SupportPlatform == ODM_MP) &&\r\n(dm_odm->SupportInterface != ODM_ITRF_PCIE) &&\r\n(dm_odm->PatchID == 10))\r\nreturn odm_sig_patch_netcore(dm_odm, CurrSig);\r\nelse if ((dm_odm->SupportPlatform == ODM_MP) &&\r\n(dm_odm->SupportInterface == ODM_ITRF_PCIE) &&\r\n(dm_odm->PatchID == 19))\r\nreturn odm_sig_patch_lenove(dm_odm, CurrSig);\r\nelse\r\nreturn odm_SignalScaleMapping_92CSeries(dm_odm, CurrSig);\r\n}\r\nstatic u8 odm_SQ_process_patch_RT_CID_819x_Lenovo(struct odm_dm_struct *dm_odm,\r\nu8 isCCKrate, u8 PWDB_ALL, u8 path, u8 RSSI)\r\n{\r\nreturn 0;\r\n}\r\nstatic u8 odm_EVMdbToPercentage(s8 Value)\r\n{\r\ns8 ret_val;\r\nret_val = Value;\r\nif (ret_val >= 0)\r\nret_val = 0;\r\nif (ret_val <= -33)\r\nret_val = -33;\r\nret_val = 0 - ret_val;\r\nret_val *= 3;\r\nif (ret_val == 99)\r\nret_val = 100;\r\nreturn ret_val;\r\n}\r\nstatic void odm_RxPhyStatus92CSeries_Parsing(struct odm_dm_struct *dm_odm,\r\nstruct odm_phy_status_info *pPhyInfo,\r\nu8 *pPhyStatus,\r\nstruct odm_per_pkt_info *pPktinfo)\r\n{\r\nstruct sw_ant_switch *pDM_SWAT_Table = &dm_odm->DM_SWAT_Table;\r\nu8 i, Max_spatial_stream;\r\ns8 rx_pwr[4], rx_pwr_all = 0;\r\nu8 EVM, PWDB_ALL = 0, PWDB_ALL_BT;\r\nu8 RSSI, total_rssi = 0;\r\nu8 isCCKrate = 0;\r\nu8 rf_rx_num = 0;\r\nu8 cck_highpwr = 0;\r\nu8 LNA_idx, VGA_idx;\r\nstruct phy_status_rpt *pPhyStaRpt = (struct phy_status_rpt *)pPhyStatus;\r\nisCCKrate = ((pPktinfo->Rate >= DESC92C_RATE1M) && (pPktinfo->Rate <= DESC92C_RATE11M)) ? true : false;\r\npPhyInfo->RxMIMOSignalQuality[ODM_RF_PATH_A] = -1;\r\npPhyInfo->RxMIMOSignalQuality[ODM_RF_PATH_B] = -1;\r\nif (isCCKrate) {\r\nu8 report;\r\nu8 cck_agc_rpt;\r\ndm_odm->PhyDbgInfo.NumQryPhyStatusCCK++;\r\ncck_highpwr = dm_odm->bCckHighPower;\r\ncck_agc_rpt = pPhyStaRpt->cck_agc_rpt_ofdm_cfosho_a ;\r\nif (dm_odm->SupportICType & (ODM_RTL8188E|ODM_RTL8812)) {\r\nLNA_idx = ((cck_agc_rpt & 0xE0) >> 5);\r\nVGA_idx = (cck_agc_rpt & 0x1F);\r\nswitch (LNA_idx) {\r\ncase 7:\r\nif (VGA_idx <= 27)\r\nrx_pwr_all = -100 + 2*(27-VGA_idx);\r\nelse\r\nrx_pwr_all = -100;\r\nbreak;\r\ncase 6:\r\nrx_pwr_all = -48 + 2*(2-VGA_idx);\r\nbreak;\r\ncase 5:\r\nrx_pwr_all = -42 + 2*(7-VGA_idx);\r\nbreak;\r\ncase 4:\r\nrx_pwr_all = -36 + 2*(7-VGA_idx);\r\nbreak;\r\ncase 3:\r\nrx_pwr_all = -24 + 2*(7-VGA_idx);\r\nbreak;\r\ncase 2:\r\nif (cck_highpwr)\r\nrx_pwr_all = -12 + 2*(5-VGA_idx);\r\nelse\r\nrx_pwr_all = -6 + 2*(5-VGA_idx);\r\nbreak;\r\ncase 1:\r\nrx_pwr_all = 8-2*VGA_idx;\r\nbreak;\r\ncase 0:\r\nrx_pwr_all = 14-2*VGA_idx;\r\nbreak;\r\ndefault:\r\nbreak;\r\n}\r\nrx_pwr_all += 6;\r\nPWDB_ALL = odm_QueryRxPwrPercentage(rx_pwr_all);\r\nif (!cck_highpwr) {\r\nif (PWDB_ALL >= 80)\r\nPWDB_ALL = ((PWDB_ALL-80)<<1)+((PWDB_ALL-80)>>1)+80;\r\nelse if ((PWDB_ALL <= 78) && (PWDB_ALL >= 20))\r\nPWDB_ALL += 3;\r\nif (PWDB_ALL > 100)\r\nPWDB_ALL = 100;\r\n}\r\n} else {\r\nif (!cck_highpwr) {\r\nreport = (cck_agc_rpt & 0xc0)>>6;\r\nswitch (report) {\r\ncase 0x3:\r\nrx_pwr_all = -46 - (cck_agc_rpt & 0x3e);\r\nbreak;\r\ncase 0x2:\r\nrx_pwr_all = -26 - (cck_agc_rpt & 0x3e);\r\nbreak;\r\ncase 0x1:\r\nrx_pwr_all = -12 - (cck_agc_rpt & 0x3e);\r\nbreak;\r\ncase 0x0:\r\nrx_pwr_all = 16 - (cck_agc_rpt & 0x3e);\r\nbreak;\r\n}\r\n} else {\r\nreport = (cck_agc_rpt & 0x60)>>5;\r\nswitch (report) {\r\ncase 0x3:\r\nrx_pwr_all = -46 - ((cck_agc_rpt & 0x1f)<<1) ;\r\nbreak;\r\ncase 0x2:\r\nrx_pwr_all = -26 - ((cck_agc_rpt & 0x1f)<<1);\r\nbreak;\r\ncase 0x1:\r\nrx_pwr_all = -12 - ((cck_agc_rpt & 0x1f)<<1);\r\nbreak;\r\ncase 0x0:\r\nrx_pwr_all = 16 - ((cck_agc_rpt & 0x1f)<<1);\r\nbreak;\r\n}\r\n}\r\nPWDB_ALL = odm_QueryRxPwrPercentage(rx_pwr_all);\r\nif (dm_odm->BoardType == ODM_BOARD_HIGHPWR) {\r\nif ((cck_agc_rpt>>7) == 0) {\r\nPWDB_ALL = (PWDB_ALL > 94) ? 100 : (PWDB_ALL+6);\r\n} else {\r\nif (PWDB_ALL > 38)\r\nPWDB_ALL -= 16;\r\nelse\r\nPWDB_ALL = (PWDB_ALL <= 16) ? (PWDB_ALL>>2) : (PWDB_ALL-12);\r\n}\r\nif (PWDB_ALL > 25 && PWDB_ALL <= 60)\r\nPWDB_ALL += 6;\r\n} else {\r\nif (PWDB_ALL > 99)\r\nPWDB_ALL -= 8;\r\nelse if (PWDB_ALL > 50 && PWDB_ALL <= 68)\r\nPWDB_ALL += 4;\r\n}\r\n}\r\npPhyInfo->RxPWDBAll = PWDB_ALL;\r\npPhyInfo->BTRxRSSIPercentage = PWDB_ALL;\r\npPhyInfo->RecvSignalPower = rx_pwr_all;\r\nif (pPktinfo->bPacketMatchBSSID) {\r\nu8 SQ, SQ_rpt;\r\nif ((dm_odm->SupportPlatform == ODM_MP) && (dm_odm->PatchID == 19)) {\r\nSQ = odm_SQ_process_patch_RT_CID_819x_Lenovo(dm_odm, isCCKrate, PWDB_ALL, 0, 0);\r\n} else if (pPhyInfo->RxPWDBAll > 40 && !dm_odm->bInHctTest) {\r\nSQ = 100;\r\n} else {\r\nSQ_rpt = pPhyStaRpt->cck_sig_qual_ofdm_pwdb_all;\r\nif (SQ_rpt > 64)\r\nSQ = 0;\r\nelse if (SQ_rpt < 20)\r\nSQ = 100;\r\nelse\r\nSQ = ((64-SQ_rpt) * 100) / 44;\r\n}\r\npPhyInfo->SignalQuality = SQ;\r\npPhyInfo->RxMIMOSignalQuality[ODM_RF_PATH_A] = SQ;\r\npPhyInfo->RxMIMOSignalQuality[ODM_RF_PATH_B] = -1;\r\n}\r\n} else {\r\ndm_odm->PhyDbgInfo.NumQryPhyStatusOFDM++;\r\nfor (i = ODM_RF_PATH_A; i < ODM_RF_PATH_MAX; i++) {\r\nif (dm_odm->RFPathRxEnable & BIT(i))\r\nrf_rx_num++;\r\nrx_pwr[i] = ((pPhyStaRpt->path_agc[i].gain & 0x3F)*2) - 110;\r\npPhyInfo->RxPwr[i] = rx_pwr[i];\r\nRSSI = odm_QueryRxPwrPercentage(rx_pwr[i]);\r\ntotal_rssi += RSSI;\r\nif (dm_odm->BoardType == ODM_BOARD_HIGHPWR) {\r\nif ((pPhyStaRpt->path_agc[i].trsw) == 1)\r\nRSSI = (RSSI > 94) ? 100 : (RSSI + 6);\r\nelse\r\nRSSI = (RSSI <= 16) ? (RSSI >> 3) : (RSSI - 16);\r\nif ((RSSI <= 34) && (RSSI >= 4))\r\nRSSI -= 4;\r\n}\r\npPhyInfo->RxMIMOSignalStrength[i] = (u8)RSSI;\r\npPhyInfo->RxSNR[i] = (s32)(pPhyStaRpt->path_rxsnr[i]/2);\r\ndm_odm->PhyDbgInfo.RxSNRdB[i] = (s32)(pPhyStaRpt->path_rxsnr[i]/2);\r\nif (pPktinfo->bPacketMatchBSSID) {\r\nif ((dm_odm->SupportPlatform == ODM_MP) && (dm_odm->PatchID == 19)) {\r\nif (i == ODM_RF_PATH_A)\r\npPhyInfo->SignalQuality = odm_SQ_process_patch_RT_CID_819x_Lenovo(dm_odm, isCCKrate, PWDB_ALL, i, RSSI);\r\n}\r\n}\r\n}\r\nrx_pwr_all = (((pPhyStaRpt->cck_sig_qual_ofdm_pwdb_all) >> 1) & 0x7f) - 110;\r\nPWDB_ALL = odm_QueryRxPwrPercentage(rx_pwr_all);\r\nPWDB_ALL_BT = PWDB_ALL;\r\npPhyInfo->RxPWDBAll = PWDB_ALL;\r\npPhyInfo->BTRxRSSIPercentage = PWDB_ALL_BT;\r\npPhyInfo->RxPower = rx_pwr_all;\r\npPhyInfo->RecvSignalPower = rx_pwr_all;\r\nif ((dm_odm->SupportPlatform == ODM_MP) && (dm_odm->PatchID == 19)) {\r\n} else {\r\nif (pPktinfo->Rate >= DESC92C_RATEMCS8 && pPktinfo->Rate <= DESC92C_RATEMCS15)\r\nMax_spatial_stream = 2;\r\nelse\r\nMax_spatial_stream = 1;\r\nfor (i = 0; i < Max_spatial_stream; i++) {\r\nEVM = odm_EVMdbToPercentage((pPhyStaRpt->stream_rxevm[i]));\r\nif (pPktinfo->bPacketMatchBSSID) {\r\nif (i == ODM_RF_PATH_A)\r\npPhyInfo->SignalQuality = (u8)(EVM & 0xff);\r\npPhyInfo->RxMIMOSignalQuality[i] = (u8)(EVM & 0xff);\r\n}\r\n}\r\n}\r\n}\r\nif (isCCKrate) {\r\npPhyInfo->SignalStrength = (u8)(odm_SignalScaleMapping(dm_odm, PWDB_ALL));\r\n} else {\r\nif (rf_rx_num != 0)\r\npPhyInfo->SignalStrength = (u8)(odm_SignalScaleMapping(dm_odm, total_rssi /= rf_rx_num));\r\n}\r\npDM_SWAT_Table->antsel = pPhyStaRpt->ant_sel;\r\ndm_odm->DM_FatTable.antsel_rx_keep_0 = pPhyStaRpt->ant_sel;\r\ndm_odm->DM_FatTable.antsel_rx_keep_1 = pPhyStaRpt->ant_sel_b;\r\ndm_odm->DM_FatTable.antsel_rx_keep_2 = pPhyStaRpt->antsel_rx_keep_2;\r\n}\r\nvoid odm_Init_RSSIForDM(struct odm_dm_struct *dm_odm)\r\n{\r\n}\r\nstatic void odm_Process_RSSIForDM(struct odm_dm_struct *dm_odm,\r\nstruct odm_phy_status_info *pPhyInfo,\r\nstruct odm_per_pkt_info *pPktinfo)\r\n{\r\ns32 UndecoratedSmoothedPWDB, UndecoratedSmoothedCCK;\r\ns32 UndecoratedSmoothedOFDM, RSSI_Ave;\r\nu8 isCCKrate = 0;\r\nu8 RSSI_max, RSSI_min, i;\r\nu32 OFDM_pkt = 0;\r\nu32 Weighting = 0;\r\nstruct sta_info *pEntry;\r\nif (pPktinfo->StationID == 0xFF)\r\nreturn;\r\npEntry = dm_odm->pODM_StaInfo[pPktinfo->StationID];\r\nif (!IS_STA_VALID(pEntry))\r\nreturn;\r\nif ((!pPktinfo->bPacketMatchBSSID))\r\nreturn;\r\nisCCKrate = ((pPktinfo->Rate >= DESC92C_RATE1M) && (pPktinfo->Rate <= DESC92C_RATE11M)) ? true : false;\r\nif (dm_odm->SupportICType == ODM_RTL8188E) {\r\nu8 antsel_tr_mux;\r\nstruct fast_ant_train *pDM_FatTable = &dm_odm->DM_FatTable;\r\nif (dm_odm->AntDivType == CG_TRX_SMART_ANTDIV) {\r\nif (pDM_FatTable->FAT_State == FAT_TRAINING_STATE) {\r\nif (pPktinfo->bPacketToSelf) {\r\nantsel_tr_mux = (pDM_FatTable->antsel_rx_keep_2<<2) |\r\n(pDM_FatTable->antsel_rx_keep_1<<1) |\r\npDM_FatTable->antsel_rx_keep_0;\r\npDM_FatTable->antSumRSSI[antsel_tr_mux] += pPhyInfo->RxPWDBAll;\r\npDM_FatTable->antRSSIcnt[antsel_tr_mux]++;\r\n}\r\n}\r\n} else if ((dm_odm->AntDivType == CG_TRX_HW_ANTDIV) || (dm_odm->AntDivType == CGCS_RX_HW_ANTDIV)) {\r\nif (pPktinfo->bPacketToSelf || pPktinfo->bPacketBeacon) {\r\nantsel_tr_mux = (pDM_FatTable->antsel_rx_keep_2<<2) |\r\n(pDM_FatTable->antsel_rx_keep_1<<1) | pDM_FatTable->antsel_rx_keep_0;\r\nODM_AntselStatistics_88E(dm_odm, antsel_tr_mux, pPktinfo->StationID, pPhyInfo->RxPWDBAll);\r\n}\r\n}\r\n}\r\nUndecoratedSmoothedCCK = pEntry->rssi_stat.UndecoratedSmoothedCCK;\r\nUndecoratedSmoothedOFDM = pEntry->rssi_stat.UndecoratedSmoothedOFDM;\r\nUndecoratedSmoothedPWDB = pEntry->rssi_stat.UndecoratedSmoothedPWDB;\r\nif (pPktinfo->bPacketToSelf || pPktinfo->bPacketBeacon) {\r\nif (!isCCKrate) {\r\nif (pPhyInfo->RxMIMOSignalStrength[ODM_RF_PATH_B] == 0) {\r\nRSSI_Ave = pPhyInfo->RxMIMOSignalStrength[ODM_RF_PATH_A];\r\n} else {\r\nif (pPhyInfo->RxMIMOSignalStrength[ODM_RF_PATH_A] > pPhyInfo->RxMIMOSignalStrength[ODM_RF_PATH_B]) {\r\nRSSI_max = pPhyInfo->RxMIMOSignalStrength[ODM_RF_PATH_A];\r\nRSSI_min = pPhyInfo->RxMIMOSignalStrength[ODM_RF_PATH_B];\r\n} else {\r\nRSSI_max = pPhyInfo->RxMIMOSignalStrength[ODM_RF_PATH_B];\r\nRSSI_min = pPhyInfo->RxMIMOSignalStrength[ODM_RF_PATH_A];\r\n}\r\nif ((RSSI_max - RSSI_min) < 3)\r\nRSSI_Ave = RSSI_max;\r\nelse if ((RSSI_max - RSSI_min) < 6)\r\nRSSI_Ave = RSSI_max - 1;\r\nelse if ((RSSI_max - RSSI_min) < 10)\r\nRSSI_Ave = RSSI_max - 2;\r\nelse\r\nRSSI_Ave = RSSI_max - 3;\r\n}\r\nif (UndecoratedSmoothedOFDM <= 0) {\r\nUndecoratedSmoothedOFDM = pPhyInfo->RxPWDBAll;\r\n} else {\r\nif (pPhyInfo->RxPWDBAll > (u32)UndecoratedSmoothedOFDM) {\r\nUndecoratedSmoothedOFDM =\r\n(((UndecoratedSmoothedOFDM)*(Rx_Smooth_Factor-1)) +\r\n(RSSI_Ave)) / (Rx_Smooth_Factor);\r\nUndecoratedSmoothedOFDM = UndecoratedSmoothedOFDM + 1;\r\n} else {\r\nUndecoratedSmoothedOFDM =\r\n(((UndecoratedSmoothedOFDM)*(Rx_Smooth_Factor-1)) +\r\n(RSSI_Ave)) / (Rx_Smooth_Factor);\r\n}\r\n}\r\npEntry->rssi_stat.PacketMap = (pEntry->rssi_stat.PacketMap<<1) | BIT0;\r\n} else {\r\nRSSI_Ave = pPhyInfo->RxPWDBAll;\r\nif (UndecoratedSmoothedCCK <= 0) {\r\nUndecoratedSmoothedCCK = pPhyInfo->RxPWDBAll;\r\n} else {\r\nif (pPhyInfo->RxPWDBAll > (u32)UndecoratedSmoothedCCK) {\r\nUndecoratedSmoothedCCK =\r\n((UndecoratedSmoothedCCK * (Rx_Smooth_Factor-1)) +\r\npPhyInfo->RxPWDBAll) / Rx_Smooth_Factor;\r\nUndecoratedSmoothedCCK = UndecoratedSmoothedCCK + 1;\r\n} else {\r\nUndecoratedSmoothedCCK =\r\n((UndecoratedSmoothedCCK * (Rx_Smooth_Factor-1)) +\r\npPhyInfo->RxPWDBAll) / Rx_Smooth_Factor;\r\n}\r\n}\r\npEntry->rssi_stat.PacketMap = pEntry->rssi_stat.PacketMap<<1;\r\n}\r\nif (pEntry->rssi_stat.ValidBit >= 64)\r\npEntry->rssi_stat.ValidBit = 64;\r\nelse\r\npEntry->rssi_stat.ValidBit++;\r\nfor (i = 0; i < pEntry->rssi_stat.ValidBit; i++)\r\nOFDM_pkt += (u8)(pEntry->rssi_stat.PacketMap>>i)&BIT0;\r\nif (pEntry->rssi_stat.ValidBit == 64) {\r\nWeighting = ((OFDM_pkt<<4) > 64) ? 64 : (OFDM_pkt<<4);\r\nUndecoratedSmoothedPWDB = (Weighting*UndecoratedSmoothedOFDM+(64-Weighting)*UndecoratedSmoothedCCK)>>6;\r\n} else {\r\nif (pEntry->rssi_stat.ValidBit != 0)\r\nUndecoratedSmoothedPWDB = (OFDM_pkt * UndecoratedSmoothedOFDM +\r\n(pEntry->rssi_stat.ValidBit-OFDM_pkt) *\r\nUndecoratedSmoothedCCK)/pEntry->rssi_stat.ValidBit;\r\nelse\r\nUndecoratedSmoothedPWDB = 0;\r\n}\r\npEntry->rssi_stat.UndecoratedSmoothedCCK = UndecoratedSmoothedCCK;\r\npEntry->rssi_stat.UndecoratedSmoothedOFDM = UndecoratedSmoothedOFDM;\r\npEntry->rssi_stat.UndecoratedSmoothedPWDB = UndecoratedSmoothedPWDB;\r\n}\r\n}\r\nstatic void ODM_PhyStatusQuery_92CSeries(struct odm_dm_struct *dm_odm,\r\nstruct odm_phy_status_info *pPhyInfo,\r\nu8 *pPhyStatus,\r\nstruct odm_per_pkt_info *pPktinfo)\r\n{\r\nodm_RxPhyStatus92CSeries_Parsing(dm_odm, pPhyInfo, pPhyStatus,\r\npPktinfo);\r\nif (dm_odm->RSSI_test) {\r\nif (pPktinfo->bPacketToSelf || pPktinfo->bPacketBeacon)\r\nODM_SwAntDivChkPerPktRssi(dm_odm, pPktinfo->StationID, pPhyInfo);\r\n} else {\r\nodm_Process_RSSIForDM(dm_odm, pPhyInfo, pPktinfo);\r\n}\r\n}\r\nvoid ODM_PhyStatusQuery(struct odm_dm_struct *dm_odm,\r\nstruct odm_phy_status_info *pPhyInfo,\r\nu8 *pPhyStatus, struct odm_per_pkt_info *pPktinfo)\r\n{\r\nODM_PhyStatusQuery_92CSeries(dm_odm, pPhyInfo, pPhyStatus, pPktinfo);\r\n}\r\nvoid ODM_MacStatusQuery(struct odm_dm_struct *dm_odm, u8 *mac_stat,\r\nu8 macid, bool pkt_match_bssid,\r\nbool pkttoself, bool pkt_beacon)\r\n{\r\n}\r\nenum HAL_STATUS ODM_ConfigRFWithHeaderFile(struct odm_dm_struct *dm_odm,\r\nenum ODM_RF_RADIO_PATH content,\r\nenum ODM_RF_RADIO_PATH rfpath)\r\n{\r\nODM_RT_TRACE(dm_odm, ODM_COMP_INIT, ODM_DBG_LOUD, ("===>ODM_ConfigRFWithHeaderFile\n"));\r\nif (dm_odm->SupportICType == ODM_RTL8188E) {\r\nif (rfpath == ODM_RF_PATH_A)\r\nREAD_AND_CONFIG(8188E, _RadioA_1T_);\r\nODM_RT_TRACE(dm_odm, ODM_COMP_INIT, ODM_DBG_LOUD, (" ===> ODM_ConfigRFWithHeaderFile() Radio_A:Rtl8188ERadioA_1TArray\n"));\r\nODM_RT_TRACE(dm_odm, ODM_COMP_INIT, ODM_DBG_LOUD, (" ===> ODM_ConfigRFWithHeaderFile() Radio_B:Rtl8188ERadioB_1TArray\n"));\r\n}\r\nODM_RT_TRACE(dm_odm, ODM_COMP_INIT, ODM_DBG_TRACE, ("ODM_ConfigRFWithHeaderFile: Radio No %x\n", rfpath));\r\nreturn HAL_STATUS_SUCCESS;\r\n}\r\nenum HAL_STATUS ODM_ConfigBBWithHeaderFile(struct odm_dm_struct *dm_odm,\r\nenum odm_bb_config_type config_tp)\r\n{\r\nif (dm_odm->SupportICType == ODM_RTL8188E) {\r\nif (config_tp == CONFIG_BB_PHY_REG) {\r\nREAD_AND_CONFIG(8188E, _PHY_REG_1T_);\r\n} else if (config_tp == CONFIG_BB_AGC_TAB) {\r\nREAD_AND_CONFIG(8188E, _AGC_TAB_1T_);\r\n} else if (config_tp == CONFIG_BB_PHY_REG_PG) {\r\nREAD_AND_CONFIG(8188E, _PHY_REG_PG_);\r\nODM_RT_TRACE(dm_odm, ODM_COMP_INIT, ODM_DBG_LOUD,\r\n(" ===> phy_ConfigBBWithHeaderFile() agc:Rtl8188EPHY_REG_PGArray\n"));\r\n}\r\n}\r\nreturn HAL_STATUS_SUCCESS;\r\n}\r\nenum HAL_STATUS ODM_ConfigMACWithHeaderFile(struct odm_dm_struct *dm_odm)\r\n{\r\nu8 result = HAL_STATUS_SUCCESS;\r\nif (dm_odm->SupportICType == ODM_RTL8188E)\r\nresult = READ_AND_CONFIG(8188E, _MAC_REG_);\r\nreturn result;\r\n}
