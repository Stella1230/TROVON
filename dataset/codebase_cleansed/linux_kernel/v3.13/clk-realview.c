void __init realview_clk_init(void __iomem *sysbase, bool is_pb1176)\r\n{\r\nstruct clk *clk;\r\nclk = clk_register_fixed_rate(NULL, "apb_pclk", NULL, CLK_IS_ROOT, 0);\r\nclk_register_clkdev(clk, "apb_pclk", NULL);\r\nclk = clk_register_fixed_rate(NULL, "clk24mhz", NULL, CLK_IS_ROOT,\r\n24000000);\r\nclk_register_clkdev(clk, NULL, "dev:uart0");\r\nclk_register_clkdev(clk, NULL, "dev:uart1");\r\nclk_register_clkdev(clk, NULL, "dev:uart2");\r\nclk_register_clkdev(clk, NULL, "fpga:kmi0");\r\nclk_register_clkdev(clk, NULL, "fpga:kmi1");\r\nclk_register_clkdev(clk, NULL, "fpga:mmc0");\r\nclk_register_clkdev(clk, NULL, "dev:ssp0");\r\nif (is_pb1176) {\r\nclk_register_clkdev(clk, NULL, "dev:uart3");\r\nclk_register_clkdev(clk, NULL, "dev:uart4");\r\n} else\r\nclk_register_clkdev(clk, NULL, "fpga:uart3");\r\nclk = clk_register_fixed_rate(NULL, "clk1mhz", NULL, CLK_IS_ROOT,\r\n1000000);\r\nclk_register_clkdev(clk, NULL, "sp804");\r\nif (is_pb1176)\r\nclk = icst_clk_register(NULL, &realview_osc0_desc, sysbase);\r\nelse\r\nclk = icst_clk_register(NULL, &realview_osc4_desc, sysbase);\r\nclk_register_clkdev(clk, NULL, "dev:clcd");\r\nclk_register_clkdev(clk, NULL, "issp:clcd");\r\n}
