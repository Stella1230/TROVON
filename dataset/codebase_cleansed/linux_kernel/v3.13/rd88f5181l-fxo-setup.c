static void __init rd88f5181l_fxo_init(void)\r\n{\r\norion5x_init();\r\norion5x_mpp_conf(rd88f5181l_fxo_mpp_modes);\r\norion5x_ehci0_init();\r\norion5x_eth_init(&rd88f5181l_fxo_eth_data);\r\norion5x_eth_switch_init(&rd88f5181l_fxo_switch_plat_data, NO_IRQ);\r\norion5x_uart0_init();\r\nmvebu_mbus_add_window_by_id(ORION_MBUS_DEVBUS_BOOT_TARGET,\r\nORION_MBUS_DEVBUS_BOOT_ATTR,\r\nRD88F5181L_FXO_NOR_BOOT_BASE,\r\nRD88F5181L_FXO_NOR_BOOT_SIZE);\r\nplatform_device_register(&rd88f5181l_fxo_nor_boot_flash);\r\n}\r\nstatic int __init\r\nrd88f5181l_fxo_pci_map_irq(const struct pci_dev *dev, u8 slot, u8 pin)\r\n{\r\nint irq;\r\nirq = orion5x_pci_map_irq(dev, slot, pin);\r\nif (irq != -1)\r\nreturn irq;\r\nreturn gpio_to_irq(1);\r\n}\r\nstatic int __init rd88f5181l_fxo_pci_init(void)\r\n{\r\nif (machine_is_rd88f5181l_fxo()) {\r\norion5x_pci_set_cardbus_mode();\r\npci_common_init(&rd88f5181l_fxo_pci);\r\n}\r\nreturn 0;\r\n}
