void rtw_hal_chip_configure(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.intf_chip_configure)\r\nadapt->HalFunc.intf_chip_configure(adapt);\r\n}\r\nvoid rtw_hal_read_chip_info(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.read_adapter_info)\r\nadapt->HalFunc.read_adapter_info(adapt);\r\n}\r\nvoid rtw_hal_read_chip_version(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.read_chip_version)\r\nadapt->HalFunc.read_chip_version(adapt);\r\n}\r\nvoid rtw_hal_def_value_init(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.init_default_value)\r\nadapt->HalFunc.init_default_value(adapt);\r\n}\r\nvoid rtw_hal_free_data(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.free_hal_data)\r\nadapt->HalFunc.free_hal_data(adapt);\r\n}\r\nvoid rtw_hal_dm_init(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.dm_init)\r\nadapt->HalFunc.dm_init(adapt);\r\n}\r\nvoid rtw_hal_dm_deinit(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.dm_deinit)\r\nadapt->HalFunc.dm_deinit(adapt);\r\n}\r\nvoid rtw_hal_sw_led_init(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.InitSwLeds)\r\nadapt->HalFunc.InitSwLeds(adapt);\r\n}\r\nvoid rtw_hal_sw_led_deinit(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.DeInitSwLeds)\r\nadapt->HalFunc.DeInitSwLeds(adapt);\r\n}\r\nu32 rtw_hal_power_on(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.hal_power_on)\r\nreturn adapt->HalFunc.hal_power_on(adapt);\r\nreturn _FAIL;\r\n}\r\nuint rtw_hal_init(struct adapter *adapt)\r\n{\r\nuint status = _SUCCESS;\r\nadapt->hw_init_completed = false;\r\nstatus = adapt->HalFunc.hal_init(adapt);\r\nif (status == _SUCCESS) {\r\nadapt->hw_init_completed = true;\r\nif (adapt->registrypriv.notch_filter == 1)\r\nrtw_hal_notch_filter(adapt, 1);\r\nrtw_hal_reset_security_engine(adapt);\r\n} else {\r\nadapt->hw_init_completed = false;\r\nDBG_88E("rtw_hal_init: hal__init fail\n");\r\n}\r\nRT_TRACE(_module_hal_init_c_, _drv_err_,\r\n("-rtl871x_hal_init:status=0x%x\n", status));\r\nreturn status;\r\n}\r\nuint rtw_hal_deinit(struct adapter *adapt)\r\n{\r\nuint status = _SUCCESS;\r\n_func_enter_;\r\nstatus = adapt->HalFunc.hal_deinit(adapt);\r\nif (status == _SUCCESS)\r\nadapt->hw_init_completed = false;\r\nelse\r\nDBG_88E("\n rtw_hal_deinit: hal_init fail\n");\r\n_func_exit_;\r\nreturn status;\r\n}\r\nvoid rtw_hal_set_hwreg(struct adapter *adapt, u8 variable, u8 *val)\r\n{\r\nif (adapt->HalFunc.SetHwRegHandler)\r\nadapt->HalFunc.SetHwRegHandler(adapt, variable, val);\r\n}\r\nvoid rtw_hal_get_hwreg(struct adapter *adapt, u8 variable, u8 *val)\r\n{\r\nif (adapt->HalFunc.GetHwRegHandler)\r\nadapt->HalFunc.GetHwRegHandler(adapt, variable, val);\r\n}\r\nu8 rtw_hal_set_def_var(struct adapter *adapt, enum hal_def_variable var,\r\nvoid *val)\r\n{\r\nif (adapt->HalFunc.SetHalDefVarHandler)\r\nreturn adapt->HalFunc.SetHalDefVarHandler(adapt, var, val);\r\nreturn _FAIL;\r\n}\r\nu8 rtw_hal_get_def_var(struct adapter *adapt,\r\nenum hal_def_variable var, void *val)\r\n{\r\nif (adapt->HalFunc.GetHalDefVarHandler)\r\nreturn adapt->HalFunc.GetHalDefVarHandler(adapt, var, val);\r\nreturn _FAIL;\r\n}\r\nvoid rtw_hal_set_odm_var(struct adapter *adapt,\r\nenum hal_odm_variable var, void *val1,\r\nbool set)\r\n{\r\nif (adapt->HalFunc.SetHalODMVarHandler)\r\nadapt->HalFunc.SetHalODMVarHandler(adapt, var,\r\nval1, set);\r\n}\r\nvoid rtw_hal_get_odm_var(struct adapter *adapt,\r\nenum hal_odm_variable var, void *val1,\r\nbool set)\r\n{\r\nif (adapt->HalFunc.GetHalODMVarHandler)\r\nadapt->HalFunc.GetHalODMVarHandler(adapt, var,\r\nval1, set);\r\n}\r\nvoid rtw_hal_enable_interrupt(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.enable_interrupt)\r\nadapt->HalFunc.enable_interrupt(adapt);\r\nelse\r\nDBG_88E("%s: HalFunc.enable_interrupt is NULL!\n", __func__);\r\n}\r\nvoid rtw_hal_disable_interrupt(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.disable_interrupt)\r\nadapt->HalFunc.disable_interrupt(adapt);\r\nelse\r\nDBG_88E("%s: HalFunc.disable_interrupt is NULL!\n", __func__);\r\n}\r\nu32 rtw_hal_inirp_init(struct adapter *adapt)\r\n{\r\nu32 rst = _FAIL;\r\nif (adapt->HalFunc.inirp_init)\r\nrst = adapt->HalFunc.inirp_init(adapt);\r\nelse\r\nDBG_88E(" %s HalFunc.inirp_init is NULL!!!\n", __func__);\r\nreturn rst;\r\n}\r\nu32 rtw_hal_inirp_deinit(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.inirp_deinit)\r\nreturn adapt->HalFunc.inirp_deinit(adapt);\r\nreturn _FAIL;\r\n}\r\nu8 rtw_hal_intf_ps_func(struct adapter *adapt,\r\nenum hal_intf_ps_func efunc_id, u8 *val)\r\n{\r\nif (adapt->HalFunc.interface_ps_func)\r\nreturn adapt->HalFunc.interface_ps_func(adapt, efunc_id,\r\nval);\r\nreturn _FAIL;\r\n}\r\ns32 rtw_hal_xmit(struct adapter *adapt, struct xmit_frame *pxmitframe)\r\n{\r\nif (adapt->HalFunc.hal_xmit)\r\nreturn adapt->HalFunc.hal_xmit(adapt, pxmitframe);\r\nreturn false;\r\n}\r\ns32 rtw_hal_mgnt_xmit(struct adapter *adapt, struct xmit_frame *pmgntframe)\r\n{\r\ns32 ret = _FAIL;\r\nif (adapt->HalFunc.mgnt_xmit)\r\nret = adapt->HalFunc.mgnt_xmit(adapt, pmgntframe);\r\nreturn ret;\r\n}\r\ns32 rtw_hal_init_xmit_priv(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.init_xmit_priv != NULL)\r\nreturn adapt->HalFunc.init_xmit_priv(adapt);\r\nreturn _FAIL;\r\n}\r\nvoid rtw_hal_free_xmit_priv(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.free_xmit_priv != NULL)\r\nadapt->HalFunc.free_xmit_priv(adapt);\r\n}\r\ns32 rtw_hal_init_recv_priv(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.init_recv_priv)\r\nreturn adapt->HalFunc.init_recv_priv(adapt);\r\nreturn _FAIL;\r\n}\r\nvoid rtw_hal_free_recv_priv(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.free_recv_priv)\r\nadapt->HalFunc.free_recv_priv(adapt);\r\n}\r\nvoid rtw_hal_update_ra_mask(struct adapter *adapt, u32 mac_id, u8 rssi_level)\r\n{\r\nstruct mlme_priv *pmlmepriv = &(adapt->mlmepriv);\r\nif (check_fwstate(pmlmepriv, WIFI_AP_STATE) == true) {\r\n#ifdef CONFIG_88EU_AP_MODE\r\nstruct sta_info *psta = NULL;\r\nstruct sta_priv *pstapriv = &adapt->stapriv;\r\nif ((mac_id-1) > 0)\r\npsta = pstapriv->sta_aid[(mac_id-1) - 1];\r\nif (psta)\r\nadd_RATid(adapt, psta, 0);\r\n#endif\r\n} else {\r\nif (adapt->HalFunc.UpdateRAMaskHandler)\r\nadapt->HalFunc.UpdateRAMaskHandler(adapt, mac_id,\r\nrssi_level);\r\n}\r\n}\r\nvoid rtw_hal_add_ra_tid(struct adapter *adapt, u32 bitmap, u8 arg,\r\nu8 rssi_level)\r\n{\r\nif (adapt->HalFunc.Add_RateATid)\r\nadapt->HalFunc.Add_RateATid(adapt, bitmap, arg,\r\nrssi_level);\r\n}\r\nvoid rtw_hal_start_thread(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.run_thread)\r\nadapt->HalFunc.run_thread(adapt);\r\n}\r\nvoid rtw_hal_stop_thread(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.cancel_thread)\r\nadapt->HalFunc.cancel_thread(adapt);\r\n}\r\nu32 rtw_hal_read_bbreg(struct adapter *adapt, u32 regaddr, u32 bitmask)\r\n{\r\nu32 data = 0;\r\nif (adapt->HalFunc.read_bbreg)\r\ndata = adapt->HalFunc.read_bbreg(adapt, regaddr, bitmask);\r\nreturn data;\r\n}\r\nvoid rtw_hal_write_bbreg(struct adapter *adapt, u32 regaddr, u32 bitmask,\r\nu32 data)\r\n{\r\nif (adapt->HalFunc.write_bbreg)\r\nadapt->HalFunc.write_bbreg(adapt, regaddr, bitmask, data);\r\n}\r\nu32 rtw_hal_read_rfreg(struct adapter *adapt, enum rf_radio_path rfpath,\r\nu32 regaddr, u32 bitmask)\r\n{\r\nu32 data = 0;\r\nif (adapt->HalFunc.read_rfreg)\r\ndata = adapt->HalFunc.read_rfreg(adapt, rfpath, regaddr,\r\nbitmask);\r\nreturn data;\r\n}\r\nvoid rtw_hal_write_rfreg(struct adapter *adapt, enum rf_radio_path rfpath,\r\nu32 regaddr, u32 bitmask, u32 data)\r\n{\r\nif (adapt->HalFunc.write_rfreg)\r\nadapt->HalFunc.write_rfreg(adapt, rfpath, regaddr,\r\nbitmask, data);\r\n}\r\ns32 rtw_hal_interrupt_handler(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.interrupt_handler)\r\nreturn adapt->HalFunc.interrupt_handler(adapt);\r\nreturn _FAIL;\r\n}\r\nvoid rtw_hal_set_bwmode(struct adapter *adapt,\r\nenum ht_channel_width bandwidth, u8 offset)\r\n{\r\nif (adapt->HalFunc.set_bwmode_handler)\r\nadapt->HalFunc.set_bwmode_handler(adapt, bandwidth,\r\noffset);\r\n}\r\nvoid rtw_hal_set_chan(struct adapter *adapt, u8 channel)\r\n{\r\nif (adapt->HalFunc.set_channel_handler)\r\nadapt->HalFunc.set_channel_handler(adapt, channel);\r\n}\r\nvoid rtw_hal_dm_watchdog(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.hal_dm_watchdog)\r\nadapt->HalFunc.hal_dm_watchdog(adapt);\r\n}\r\nvoid rtw_hal_bcn_related_reg_setting(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.SetBeaconRelatedRegistersHandler)\r\nadapt->HalFunc.SetBeaconRelatedRegistersHandler(adapt);\r\n}\r\nu8 rtw_hal_antdiv_before_linked(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.AntDivBeforeLinkHandler)\r\nreturn adapt->HalFunc.AntDivBeforeLinkHandler(adapt);\r\nreturn false;\r\n}\r\nvoid rtw_hal_antdiv_rssi_compared(struct adapter *adapt,\r\nstruct wlan_bssid_ex *dst,\r\nstruct wlan_bssid_ex *src)\r\n{\r\nif (adapt->HalFunc.AntDivCompareHandler)\r\nadapt->HalFunc.AntDivCompareHandler(adapt, dst, src);\r\n}\r\nvoid rtw_hal_sreset_init(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.sreset_init_value)\r\nadapt->HalFunc.sreset_init_value(adapt);\r\n}\r\nvoid rtw_hal_sreset_reset(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.silentreset)\r\nadapt->HalFunc.silentreset(adapt);\r\n}\r\nvoid rtw_hal_sreset_reset_value(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.sreset_reset_value)\r\nadapt->HalFunc.sreset_reset_value(adapt);\r\n}\r\nvoid rtw_hal_sreset_xmit_status_check(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.sreset_xmit_status_check)\r\nadapt->HalFunc.sreset_xmit_status_check(adapt);\r\n}\r\nvoid rtw_hal_sreset_linked_status_check(struct adapter *adapt)\r\n{\r\nif (adapt->HalFunc.sreset_linked_status_check)\r\nadapt->HalFunc.sreset_linked_status_check(adapt);\r\n}\r\nu8 rtw_hal_sreset_get_wifi_status(struct adapter *adapt)\r\n{\r\nu8 status = 0;\r\nif (adapt->HalFunc.sreset_get_wifi_status)\r\nstatus = adapt->HalFunc.sreset_get_wifi_status(adapt);\r\nreturn status;\r\n}\r\nint rtw_hal_iol_cmd(struct adapter *adapter, struct xmit_frame *xmit_frame,\r\nu32 max_wating_ms, u32 bndy_cnt)\r\n{\r\nif (adapter->HalFunc.IOL_exec_cmds_sync)\r\nreturn adapter->HalFunc.IOL_exec_cmds_sync(adapter, xmit_frame,\r\nmax_wating_ms,\r\nbndy_cnt);\r\nreturn _FAIL;\r\n}\r\nvoid rtw_hal_notch_filter(struct adapter *adapter, bool enable)\r\n{\r\nif (adapter->HalFunc.hal_notch_filter)\r\nadapter->HalFunc.hal_notch_filter(adapter, enable);\r\n}\r\nvoid rtw_hal_reset_security_engine(struct adapter *adapter)\r\n{\r\nif (adapter->HalFunc.hal_reset_security_engine)\r\nadapter->HalFunc.hal_reset_security_engine(adapter);\r\n}\r\ns32 rtw_hal_c2h_handler(struct adapter *adapter, struct c2h_evt_hdr *c2h_evt)\r\n{\r\ns32 ret = _FAIL;\r\nif (adapter->HalFunc.c2h_handler)\r\nret = adapter->HalFunc.c2h_handler(adapter, c2h_evt);\r\nreturn ret;\r\n}\r\nc2h_id_filter rtw_hal_c2h_id_filter_ccx(struct adapter *adapter)\r\n{\r\nreturn adapter->HalFunc.c2h_id_filter_ccx;\r\n}
