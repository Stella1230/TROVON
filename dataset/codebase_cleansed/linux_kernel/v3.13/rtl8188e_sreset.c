void rtl8188e_silentreset_for_specific_platform(struct adapter *padapter)\r\n{\r\n}\r\nvoid rtl8188e_sreset_xmit_status_check(struct adapter *padapter)\r\n{\r\nstruct hal_data_8188e *pHalData = GET_HAL_DATA(padapter);\r\nstruct sreset_priv *psrtpriv = &pHalData->srestpriv;\r\nunsigned long current_time;\r\nstruct xmit_priv *pxmitpriv = &padapter->xmitpriv;\r\nunsigned int diff_time;\r\nu32 txdma_status;\r\ntxdma_status = rtw_read32(padapter, REG_TXDMA_STATUS);\r\nif (txdma_status != 0x00) {\r\nDBG_88E("%s REG_TXDMA_STATUS:0x%08x\n", __func__, txdma_status);\r\nrtw_write32(padapter, REG_TXDMA_STATUS, txdma_status);\r\nrtl8188e_silentreset_for_specific_platform(padapter);\r\n}\r\ncurrent_time = rtw_get_current_time();\r\nif (0 == pxmitpriv->free_xmitbuf_cnt) {\r\ndiff_time = jiffies_to_msecs(current_time - psrtpriv->last_tx_time);\r\nif (diff_time > 2000) {\r\nif (psrtpriv->last_tx_complete_time == 0) {\r\npsrtpriv->last_tx_complete_time = current_time;\r\n} else {\r\ndiff_time = jiffies_to_msecs(current_time - psrtpriv->last_tx_complete_time);\r\nif (diff_time > 4000) {\r\nDBG_88E("%s tx hang\n", __func__);\r\nrtl8188e_silentreset_for_specific_platform(padapter);\r\n}\r\n}\r\n}\r\n}\r\n}\r\nvoid rtl8188e_sreset_linked_status_check(struct adapter *padapter)\r\n{\r\nu32 rx_dma_status = 0;\r\nu8 fw_status = 0;\r\nrx_dma_status = rtw_read32(padapter, REG_RXDMA_STATUS);\r\nif (rx_dma_status != 0x00) {\r\nDBG_88E("%s REG_RXDMA_STATUS:0x%08x\n", __func__, rx_dma_status);\r\nrtw_write32(padapter, REG_RXDMA_STATUS, rx_dma_status);\r\n}\r\nfw_status = rtw_read8(padapter, REG_FMETHR);\r\nif (fw_status != 0x00) {\r\nif (fw_status == 1)\r\nDBG_88E("%s REG_FW_STATUS (0x%02x), Read_Efuse_Fail !!\n", __func__, fw_status);\r\nelse if (fw_status == 2)\r\nDBG_88E("%s REG_FW_STATUS (0x%02x), Condition_No_Match !!\n", __func__, fw_status);\r\n}\r\n}
