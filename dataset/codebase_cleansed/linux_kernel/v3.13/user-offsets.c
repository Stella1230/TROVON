void foo(void)\r\n{\r\n#ifdef __i386__\r\nDEFINE_LONGS(HOST_FP_SIZE, sizeof(struct user_fpregs_struct));\r\nDEFINE_LONGS(HOST_FPX_SIZE, sizeof(struct user_fpxregs_struct));\r\nDEFINE(HOST_IP, EIP);\r\nDEFINE(HOST_SP, UESP);\r\nDEFINE(HOST_EFLAGS, EFL);\r\nDEFINE(HOST_AX, EAX);\r\nDEFINE(HOST_BX, EBX);\r\nDEFINE(HOST_CX, ECX);\r\nDEFINE(HOST_DX, EDX);\r\nDEFINE(HOST_SI, ESI);\r\nDEFINE(HOST_DI, EDI);\r\nDEFINE(HOST_BP, EBP);\r\nDEFINE(HOST_CS, CS);\r\nDEFINE(HOST_SS, SS);\r\nDEFINE(HOST_DS, DS);\r\nDEFINE(HOST_FS, FS);\r\nDEFINE(HOST_ES, ES);\r\nDEFINE(HOST_GS, GS);\r\nDEFINE(HOST_ORIG_AX, ORIG_EAX);\r\n#else\r\nDEFINE(HOST_FP_SIZE, sizeof(struct _fpstate) / sizeof(unsigned long));\r\nDEFINE_LONGS(HOST_BX, RBX);\r\nDEFINE_LONGS(HOST_CX, RCX);\r\nDEFINE_LONGS(HOST_DI, RDI);\r\nDEFINE_LONGS(HOST_SI, RSI);\r\nDEFINE_LONGS(HOST_DX, RDX);\r\nDEFINE_LONGS(HOST_BP, RBP);\r\nDEFINE_LONGS(HOST_AX, RAX);\r\nDEFINE_LONGS(HOST_R8, R8);\r\nDEFINE_LONGS(HOST_R9, R9);\r\nDEFINE_LONGS(HOST_R10, R10);\r\nDEFINE_LONGS(HOST_R11, R11);\r\nDEFINE_LONGS(HOST_R12, R12);\r\nDEFINE_LONGS(HOST_R13, R13);\r\nDEFINE_LONGS(HOST_R14, R14);\r\nDEFINE_LONGS(HOST_R15, R15);\r\nDEFINE_LONGS(HOST_ORIG_AX, ORIG_RAX);\r\nDEFINE_LONGS(HOST_CS, CS);\r\nDEFINE_LONGS(HOST_SS, SS);\r\nDEFINE_LONGS(HOST_EFLAGS, EFLAGS);\r\n#if 0\r\nDEFINE_LONGS(HOST_FS, FS);\r\nDEFINE_LONGS(HOST_GS, GS);\r\nDEFINE_LONGS(HOST_DS, DS);\r\nDEFINE_LONGS(HOST_ES, ES);\r\n#endif\r\nDEFINE_LONGS(HOST_IP, RIP);\r\nDEFINE_LONGS(HOST_SP, RSP);\r\n#endif\r\nDEFINE(UM_FRAME_SIZE, sizeof(struct user_regs_struct));\r\nDEFINE(UM_POLLIN, POLLIN);\r\nDEFINE(UM_POLLPRI, POLLPRI);\r\nDEFINE(UM_POLLOUT, POLLOUT);\r\nDEFINE(UM_PROT_READ, PROT_READ);\r\nDEFINE(UM_PROT_WRITE, PROT_WRITE);\r\nDEFINE(UM_PROT_EXEC, PROT_EXEC);\r\nDEFINE(__NR_syscall_max, sizeof(syscalls) - 1);\r\nDEFINE(NR_syscalls, sizeof(syscalls));\r\n}
