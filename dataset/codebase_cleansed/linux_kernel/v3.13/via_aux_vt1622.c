static void probe(struct via_aux_bus *bus, u8 addr)\r\n{\r\nstruct via_aux_drv drv = {\r\n.bus = bus,\r\n.addr = addr,\r\n.name = name};\r\nu8 tmp;\r\nif (!via_aux_read(&drv, 0x1B, &tmp, 1) || tmp != 0x03)\r\nreturn;\r\nprintk(KERN_INFO "viafb: Found %s at address 0x%x\n", name, addr);\r\nvia_aux_add(&drv);\r\n}\r\nvoid via_aux_vt1622_probe(struct via_aux_bus *bus)\r\n{\r\nprobe(bus, 0x20);\r\nprobe(bus, 0x21);\r\n}
