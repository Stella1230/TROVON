static int __init sh7750_devices_setup(void)\r\n{\r\nif (mach_is_rts7751r2d()) {\r\nplatform_device_register(&scif_device);\r\n} else {\r\nplatform_device_register(&sci_device);\r\nplatform_device_register(&scif_device);\r\n}\r\nreturn platform_add_devices(sh7750_devices,\r\nARRAY_SIZE(sh7750_devices));\r\n}\r\nvoid __init plat_early_device_setup(void)\r\n{\r\nstruct platform_device *dev[1];\r\nif (mach_is_rts7751r2d()) {\r\nscif_platform_data.scscr |= SCSCR_CKE1;\r\ndev[0] = &scif_device;\r\nearly_platform_add_devices(dev, 1);\r\n} else {\r\ndev[0] = &sci_device;\r\nearly_platform_add_devices(dev, 1);\r\ndev[0] = &scif_device;\r\nearly_platform_add_devices(dev, 1);\r\n}\r\nearly_platform_add_devices(sh7750_early_devices,\r\nARRAY_SIZE(sh7750_early_devices));\r\n}\r\nvoid __init plat_irq_setup(void)\r\n{\r\nregister_intc_controller(&intc_desc);\r\nregister_intc_controller(&intc_desc_dma4);\r\n}\r\nvoid __init plat_irq_setup(void)\r\n{\r\nregister_intc_controller(&intc_desc);\r\nregister_intc_controller(&intc_desc_dma8);\r\nregister_intc_controller(&intc_desc_tmu34);\r\n}\r\nvoid __init plat_irq_setup(void)\r\n{\r\nregister_intc_controller(&intc_desc);\r\nregister_intc_controller(&intc_desc_dma4);\r\nregister_intc_controller(&intc_desc_tmu34);\r\nregister_intc_controller(&intc_desc_pci);\r\n}\r\nvoid __init plat_irq_setup(void)\r\n{\r\nregister_intc_controller(&intc_desc);\r\nregister_intc_controller(&intc_desc_dma8);\r\nregister_intc_controller(&intc_desc_tmu34);\r\nregister_intc_controller(&intc_desc_pci);\r\n}\r\nvoid __init plat_irq_setup_pins(int mode)\r\n{\r\n#if defined(CONFIG_CPU_SUBTYPE_SH7750) || defined(CONFIG_CPU_SUBTYPE_SH7091)\r\nBUG();\r\nreturn;\r\n#endif\r\nswitch (mode) {\r\ncase IRQ_MODE_IRQ:\r\n__raw_writew(__raw_readw(INTC_ICR) | INTC_ICR_IRLM, INTC_ICR);\r\nregister_intc_controller(&intc_desc_irlm);\r\nbreak;\r\ndefault:\r\nBUG();\r\n}\r\n}
