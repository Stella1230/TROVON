static int lcd_power_on(struct lcd_device *ld, int enable)\r\n{\r\nreturn 1;\r\n}\r\nstatic int reset_lcd(struct lcd_device *ld)\r\n{\r\nstatic unsigned int first = 1;\r\nint reset_gpio = -1;\r\nreset_gpio = S5PV210_MP05(5);\r\nif (first) {\r\ngpio_request(reset_gpio, "MLCD_RST");\r\nfirst = 0;\r\n}\r\ngpio_direction_output(reset_gpio, 1);\r\nreturn 1;\r\n}\r\nstatic void __init goni_radio_init(void)\r\n{\r\nint gpio;\r\ngpio = S5PV210_GPJ2(4);\r\ngpio_request(gpio, "FM_INT");\r\ns3c_gpio_cfgpin(gpio, S3C_GPIO_SFN(0xf));\r\ni2c1_devs[0].irq = gpio_to_irq(gpio);\r\ngpio = S5PV210_GPJ2(5);\r\ngpio_request_one(gpio, GPIOF_OUT_INIT_HIGH, "FM_RST");\r\n}\r\nstatic void __init goni_tsp_init(void)\r\n{\r\nint gpio;\r\ngpio = S5PV210_GPJ1(3);\r\ngpio_request_one(gpio, GPIOF_OUT_INIT_HIGH, "TSP_LDO_ON");\r\ngpio_export(gpio, 0);\r\ngpio = S5PV210_GPJ0(5);\r\ngpio_request(gpio, "TSP_INT");\r\ns5p_register_gpio_interrupt(gpio);\r\ns3c_gpio_cfgpin(gpio, S3C_GPIO_SFN(0xf));\r\ns3c_gpio_setpull(gpio, S3C_GPIO_PULL_UP);\r\ni2c2_devs[0].irq = gpio_to_irq(gpio);\r\n}\r\nstatic void goni_camera_init(void)\r\n{\r\ns5pv210_fimc_setup_gpio(S5P_CAMPORT_A);\r\ns5p_gpio_set_drvstr(S5PV210_GPE1(3), S5P_GPIO_DRVSTR_LV4);\r\n}\r\nstatic void __init goni_pmic_init(void)\r\n{\r\ns3c_gpio_cfgpin(S5PV210_GPH0(7), S3C_GPIO_SFN(0xf));\r\ns3c_gpio_setpull(S5PV210_GPH0(7), S3C_GPIO_PULL_UP);\r\ns3c_gpio_cfgpin(S5PV210_GPH2(6), S3C_GPIO_SFN(0xf));\r\ns3c_gpio_setpull(S5PV210_GPH2(6), S3C_GPIO_PULL_UP);\r\n}\r\nstatic void goni_setup_sdhci(void)\r\n{\r\ns3c_sdhci0_set_platdata(&goni_hsmmc0_data);\r\ns3c_sdhci1_set_platdata(&goni_hsmmc1_data);\r\ns3c_sdhci2_set_platdata(&goni_hsmmc2_data);\r\n}\r\nstatic void __init goni_sound_init(void)\r\n{\r\n__raw_writel(__raw_readl(S5P_OTHERS) | (0x3 << 8), S5P_OTHERS);\r\n}\r\nstatic void __init goni_map_io(void)\r\n{\r\ns5pv210_init_io(NULL, 0);\r\ns3c24xx_init_clocks(clk_xusbxti.rate);\r\ns3c24xx_init_uarts(goni_uartcfgs, ARRAY_SIZE(goni_uartcfgs));\r\nsamsung_set_timer_source(SAMSUNG_PWM3, SAMSUNG_PWM4);\r\n}\r\nstatic void __init goni_reserve(void)\r\n{\r\ns5p_mfc_reserve_mem(0x43000000, 8 << 20, 0x51000000, 8 << 20);\r\n}\r\nstatic void __init goni_machine_init(void)\r\n{\r\ngoni_radio_init();\r\ns3c_i2c0_set_platdata(NULL);\r\ns3c_i2c1_set_platdata(NULL);\r\ni2c_register_board_info(1, i2c1_devs, ARRAY_SIZE(i2c1_devs));\r\ngoni_tsp_init();\r\ns3c_i2c2_set_platdata(&i2c2_data);\r\ni2c_register_board_info(2, i2c2_devs, ARRAY_SIZE(i2c2_devs));\r\ngoni_pmic_init();\r\ni2c_register_board_info(AP_I2C_GPIO_PMIC_BUS_4, i2c_gpio_pmic_devs,\r\nARRAY_SIZE(i2c_gpio_pmic_devs));\r\ngoni_setup_sdhci();\r\ngoni_sound_init();\r\ni2c_register_board_info(AP_I2C_GPIO_BUS_5, i2c_gpio5_devs,\r\nARRAY_SIZE(i2c_gpio5_devs));\r\ns3c_fb_set_platdata(&goni_lcd_pdata);\r\ns3c_set_platdata(&goni_fimc_md_platdata, sizeof(goni_fimc_md_platdata),\r\n&s5p_device_fimc_md);\r\ns3c_hsotg_set_platdata(&goni_hsotg_pdata);\r\ngoni_camera_init();\r\nspi_register_board_info(spi_board_info, ARRAY_SIZE(spi_board_info));\r\nsamsung_keypad_set_platdata(&keypad_data);\r\nplatform_add_devices(goni_devices, ARRAY_SIZE(goni_devices));\r\n}
