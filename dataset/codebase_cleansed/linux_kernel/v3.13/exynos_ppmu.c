void exynos_ppmu_reset(void __iomem *ppmu_base)\r\n{\r\n__raw_writel(PPMU_CYCLE_RESET | PPMU_COUNTER_RESET, ppmu_base);\r\n__raw_writel(PPMU_ENABLE_CYCLE |\r\nPPMU_ENABLE_COUNT0 |\r\nPPMU_ENABLE_COUNT1 |\r\nPPMU_ENABLE_COUNT2 |\r\nPPMU_ENABLE_COUNT3,\r\nppmu_base + PPMU_CNTENS);\r\n}\r\nvoid exynos_ppmu_setevent(void __iomem *ppmu_base, unsigned int ch,\r\nunsigned int evt)\r\n{\r\n__raw_writel(evt, ppmu_base + PPMU_BEVTSEL(ch));\r\n}\r\nvoid exynos_ppmu_start(void __iomem *ppmu_base)\r\n{\r\n__raw_writel(PPMU_ENABLE, ppmu_base);\r\n}\r\nvoid exynos_ppmu_stop(void __iomem *ppmu_base)\r\n{\r\n__raw_writel(PPMU_DISABLE, ppmu_base);\r\n}\r\nunsigned int exynos_ppmu_read(void __iomem *ppmu_base, unsigned int ch)\r\n{\r\nunsigned int total;\r\nif (ch == PPMU_PMNCNT3)\r\ntotal = ((__raw_readl(ppmu_base + PMCNT_OFFSET(ch)) << 8) |\r\n__raw_readl(ppmu_base + PMCNT_OFFSET(ch + 1)));\r\nelse\r\ntotal = __raw_readl(ppmu_base + PMCNT_OFFSET(ch));\r\nreturn total;\r\n}
