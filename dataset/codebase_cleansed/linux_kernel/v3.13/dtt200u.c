static int dtt200u_power_ctrl(struct dvb_usb_device *d, int onoff)\r\n{\r\nu8 b = SET_INIT;\r\nif (onoff)\r\ndvb_usb_generic_write(d,&b,2);\r\nreturn 0;\r\n}\r\nstatic int dtt200u_streaming_ctrl(struct dvb_usb_adapter *adap, int onoff)\r\n{\r\nu8 b_streaming[2] = { SET_STREAMING, onoff };\r\nu8 b_rst_pid = RESET_PID_FILTER;\r\ndvb_usb_generic_write(adap->dev, b_streaming, 2);\r\nif (onoff == 0)\r\ndvb_usb_generic_write(adap->dev, &b_rst_pid, 1);\r\nreturn 0;\r\n}\r\nstatic int dtt200u_pid_filter(struct dvb_usb_adapter *adap, int index, u16 pid, int onoff)\r\n{\r\nu8 b_pid[4];\r\npid = onoff ? pid : 0;\r\nb_pid[0] = SET_PID_FILTER;\r\nb_pid[1] = index;\r\nb_pid[2] = pid & 0xff;\r\nb_pid[3] = (pid >> 8) & 0x1f;\r\nreturn dvb_usb_generic_write(adap->dev, b_pid, 4);\r\n}\r\nstatic int dtt200u_rc_query(struct dvb_usb_device *d, u32 *event, int *state)\r\n{\r\nu8 key[5],cmd = GET_RC_CODE;\r\ndvb_usb_generic_rw(d,&cmd,1,key,5,0);\r\ndvb_usb_nec_rc_key_to_event(d,key,event,state);\r\nif (key[0] != 0)\r\ndeb_info("key: %*ph\n", 5, key);\r\nreturn 0;\r\n}\r\nstatic int dtt200u_frontend_attach(struct dvb_usb_adapter *adap)\r\n{\r\nadap->fe_adap[0].fe = dtt200u_fe_attach(adap->dev);\r\nreturn 0;\r\n}\r\nstatic int dtt200u_usb_probe(struct usb_interface *intf,\r\nconst struct usb_device_id *id)\r\n{\r\nif (0 == dvb_usb_device_init(intf, &dtt200u_properties,\r\nTHIS_MODULE, NULL, adapter_nr) ||\r\n0 == dvb_usb_device_init(intf, &wt220u_properties,\r\nTHIS_MODULE, NULL, adapter_nr) ||\r\n0 == dvb_usb_device_init(intf, &wt220u_fc_properties,\r\nTHIS_MODULE, NULL, adapter_nr) ||\r\n0 == dvb_usb_device_init(intf, &wt220u_zl0353_properties,\r\nTHIS_MODULE, NULL, adapter_nr) ||\r\n0 == dvb_usb_device_init(intf, &wt220u_miglia_properties,\r\nTHIS_MODULE, NULL, adapter_nr))\r\nreturn 0;\r\nreturn -ENODEV;\r\n}
