static void nop_helpline__pop(void)\r\n{\r\n}\r\nstatic void nop_helpline__push(const char *msg __maybe_unused)\r\n{\r\n}\r\nstatic int nop_helpline__show(const char *fmt __maybe_unused,\r\nva_list ap __maybe_unused)\r\n{\r\nreturn 0;\r\n}\r\nvoid ui_helpline__pop(void)\r\n{\r\nhelpline_fns->pop();\r\n}\r\nvoid ui_helpline__push(const char *msg)\r\n{\r\nhelpline_fns->push(msg);\r\n}\r\nvoid ui_helpline__vpush(const char *fmt, va_list ap)\r\n{\r\nchar *s;\r\nif (vasprintf(&s, fmt, ap) < 0)\r\nvfprintf(stderr, fmt, ap);\r\nelse {\r\nui_helpline__push(s);\r\nfree(s);\r\n}\r\n}\r\nvoid ui_helpline__fpush(const char *fmt, ...)\r\n{\r\nva_list ap;\r\nva_start(ap, fmt);\r\nui_helpline__vpush(fmt, ap);\r\nva_end(ap);\r\n}\r\nvoid ui_helpline__puts(const char *msg)\r\n{\r\nui_helpline__pop();\r\nui_helpline__push(msg);\r\n}\r\nint ui_helpline__vshow(const char *fmt, va_list ap)\r\n{\r\nreturn helpline_fns->show(fmt, ap);\r\n}
