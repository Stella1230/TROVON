static int ac97_bus_match(struct device *dev, struct device_driver *drv)\r\n{\r\nreturn 1;\r\n}\r\nstatic int ac97_bus_suspend(struct device *dev, pm_message_t state)\r\n{\r\nint ret = 0;\r\nif (dev->driver && dev->driver->suspend)\r\nret = dev->driver->suspend(dev, state);\r\nreturn ret;\r\n}\r\nstatic int ac97_bus_resume(struct device *dev)\r\n{\r\nint ret = 0;\r\nif (dev->driver && dev->driver->resume)\r\nret = dev->driver->resume(dev);\r\nreturn ret;\r\n}\r\nstatic int __init ac97_bus_init(void)\r\n{\r\nreturn bus_register(&ac97_bus_type);\r\n}\r\nstatic void __exit ac97_bus_exit(void)\r\n{\r\nbus_unregister(&ac97_bus_type);\r\n}
