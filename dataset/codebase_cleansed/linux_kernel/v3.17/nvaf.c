static u64\r\nnvaf_devinit_disable(struct nouveau_devinit *devinit)\r\n{\r\nstruct nv50_devinit_priv *priv = (void *)devinit;\r\nu32 r001540 = nv_rd32(priv, 0x001540);\r\nu32 r00154c = nv_rd32(priv, 0x00154c);\r\nu64 disable = 0;\r\nif (!(r001540 & 0x40000000)) {\r\ndisable |= (1ULL << NVDEV_ENGINE_VP);\r\ndisable |= (1ULL << NVDEV_ENGINE_PPP);\r\n}\r\nif (!(r00154c & 0x00000004))\r\ndisable |= (1ULL << NVDEV_ENGINE_DISP);\r\nif (!(r00154c & 0x00000020))\r\ndisable |= (1ULL << NVDEV_ENGINE_BSP);\r\nif (!(r00154c & 0x00000040))\r\ndisable |= (1ULL << NVDEV_ENGINE_VIC);\r\nif (!(r00154c & 0x00000200))\r\ndisable |= (1ULL << NVDEV_ENGINE_COPY0);\r\nreturn disable;\r\n}
