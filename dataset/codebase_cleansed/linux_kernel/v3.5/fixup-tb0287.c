int __init pcibios_map_irq(const struct pci_dev *dev, u8 slot, u8 pin)\r\n{\r\nunsigned char bus;\r\nint irq = -1;\r\nbus = dev->bus->number;\r\nif (bus == 0) {\r\nswitch (slot) {\r\ncase 16:\r\nirq = TB0287_SM501_IRQ;\r\nbreak;\r\ncase 17:\r\nirq = TB0287_SIL680A_IRQ;\r\nbreak;\r\ndefault:\r\nbreak;\r\n}\r\n} else if (bus == 1) {\r\nswitch (PCI_SLOT(dev->devfn)) {\r\ncase 0:\r\nirq = TB0287_PCI_SLOT_IRQ;\r\nbreak;\r\ncase 2:\r\ncase 3:\r\nirq = TB0287_RTL8110_IRQ;\r\nbreak;\r\ndefault:\r\nbreak;\r\n}\r\n} else if (bus > 1) {\r\nirq = TB0287_PCI_SLOT_IRQ;\r\n}\r\nreturn irq;\r\n}\r\nint pcibios_plat_dev_init(struct pci_dev *dev)\r\n{\r\nreturn 0;\r\n}
