int s3c2440_set_dsc(unsigned int pin, unsigned int value)\r\n{\r\nvoid __iomem *base;\r\nunsigned long val;\r\nunsigned long flags;\r\nunsigned long mask;\r\nbase = (pin & S3C2440_SELECT_DSC1) ? S3C2440_DSC1 : S3C2440_DSC0;\r\nmask = 3 << S3C2440_DSC_GETSHIFT(pin);\r\nlocal_irq_save(flags);\r\nval = __raw_readl(base);\r\nval &= ~mask;\r\nval |= value & mask;\r\n__raw_writel(val, base);\r\nlocal_irq_restore(flags);\r\nreturn 0;\r\n}
