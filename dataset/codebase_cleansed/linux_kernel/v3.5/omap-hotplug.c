int platform_cpu_kill(unsigned int cpu)\r\n{\r\nreturn 1;\r\n}\r\nvoid __ref platform_cpu_die(unsigned int cpu)\r\n{\r\nunsigned int this_cpu;\r\nflush_cache_all();\r\ndsb();\r\nif (omap_modify_auxcoreboot0(0x0, 0x200) != 0x0)\r\npr_err("Secure clear status failed\n");\r\nfor (;;) {\r\nomap4_hotplug_cpu(cpu, PWRDM_POWER_OFF);\r\nthis_cpu = smp_processor_id();\r\nif (omap_read_auxcoreboot0() == this_cpu) {\r\nbreak;\r\n}\r\npr_debug("CPU%u: spurious wakeup call\n", cpu);\r\n}\r\n}\r\nint platform_cpu_disable(unsigned int cpu)\r\n{\r\nreturn cpu == 0 ? -EPERM : 0;\r\n}
