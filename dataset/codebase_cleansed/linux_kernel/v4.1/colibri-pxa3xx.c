void __init colibri_pxa3xx_init_eth(struct ax_plat_data *plat_data)\r\n{\r\nint i;\r\nu64 serial = ((u64) system_serial_high << 32) | system_serial_low;\r\nfor (i = 0; i < ETHER_ADDR_LEN; i++) {\r\nether_mac_addr[i] = serial & 0xff;\r\nserial >>= 8;\r\n}\r\nif (is_valid_ether_addr(ether_mac_addr)) {\r\nplat_data->flags |= AXFLG_MAC_FROMPLATFORM;\r\nplat_data->mac_addr = ether_mac_addr;\r\nprintk(KERN_INFO "%s(): taking MAC from serial boot tag\n",\r\n__func__);\r\n} else {\r\nplat_data->flags |= AXFLG_MAC_FROMDEV;\r\nprintk(KERN_INFO "%s(): no valid serial boot tag found, "\r\n"taking MAC from device\n", __func__);\r\n}\r\n}\r\nstatic void colibri_lcd_backlight(int on)\r\n{\r\ngpio_set_value(lcd_bl_pin, !!on);\r\n}\r\nvoid __init colibri_pxa3xx_init_lcd(int bl_pin)\r\n{\r\nlcd_bl_pin = bl_pin;\r\ngpio_request(bl_pin, "lcd backlight");\r\ngpio_direction_output(bl_pin, 0);\r\npxa_set_fb_info(NULL, &sharp_lq43_info);\r\n}\r\nvoid __init colibri_pxa3xx_init_nand(void)\r\n{\r\npxa3xx_set_nand_info(&colibri_nand_info);\r\n}
