static int\r\ngm204_i2c_pad_fini(struct nvkm_object *object, bool suspend)\r\n{\r\nstruct nvkm_i2c *i2c = (void *)nvkm_i2c(object);\r\nstruct gm204_i2c_pad *pad = (void *)object;\r\nnv_mask(i2c, 0x00d97c + pad->addr, 0x00000001, 0x00000001);\r\nreturn nvkm_i2c_pad_fini(&pad->base, suspend);\r\n}\r\nstatic int\r\ngm204_i2c_pad_init(struct nvkm_object *object)\r\n{\r\nstruct nvkm_i2c *i2c = (void *)nvkm_i2c(object);\r\nstruct gm204_i2c_pad *pad = (void *)object;\r\nswitch (nv_oclass(pad->base.next)->handle) {\r\ncase NV_I2C_TYPE_DCBI2C(DCB_I2C_NVIO_AUX):\r\nnv_mask(i2c, 0x00d970 + pad->addr, 0x0000c003, 0x00000002);\r\nbreak;\r\ncase NV_I2C_TYPE_DCBI2C(DCB_I2C_NVIO_BIT):\r\ndefault:\r\nnv_mask(i2c, 0x00d970 + pad->addr, 0x0000c003, 0x0000c001);\r\nbreak;\r\n}\r\nnv_mask(i2c, 0x00d97c + pad->addr, 0x00000001, 0x00000000);\r\nreturn nvkm_i2c_pad_init(&pad->base);\r\n}\r\nstatic int\r\ngm204_i2c_pad_ctor(struct nvkm_object *parent, struct nvkm_object *engine,\r\nstruct nvkm_oclass *oclass, void *data, u32 index,\r\nstruct nvkm_object **pobject)\r\n{\r\nstruct gm204_i2c_pad *pad;\r\nint ret;\r\nret = nvkm_i2c_pad_create(parent, engine, oclass, index, &pad);\r\n*pobject = nv_object(pad);\r\nif (ret)\r\nreturn ret;\r\npad->addr = index * 0x50;;\r\nreturn 0;\r\n}
