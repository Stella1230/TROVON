asmlinkage void *sys_sram_alloc(size_t size, unsigned long flags)\r\n{\r\nreturn sram_alloc_with_lsl(size, flags);\r\n}\r\nasmlinkage int sys_sram_free(const void *addr)\r\n{\r\nreturn sram_free_with_lsl(addr);\r\n}\r\nasmlinkage void *sys_dma_memcpy(void *dest, const void *src, size_t len)\r\n{\r\nreturn safe_dma_memcpy(dest, src, len);\r\n}\r\nunsigned long get_fb_unmapped_area(struct file *filp, unsigned long orig_addr,\r\nunsigned long len, unsigned long pgoff, unsigned long flags)\r\n{\r\nstruct fb_info *info = filp->private_data;\r\nreturn (unsigned long)info->screen_base;\r\n}\r\nasmlinkage int sys_bfin_spinlock(int *p)\r\n{\r\nint ret, tmp = 0;\r\nspin_lock(&bfin_spinlock_lock);\r\nret = get_user(tmp, p);\r\nif (likely(ret == 0)) {\r\nif (unlikely(tmp))\r\nret = 1;\r\nelse\r\nput_user(1, p);\r\n}\r\nspin_unlock(&bfin_spinlock_lock);\r\nreturn ret;\r\n}
