static void *tca6416_platform_data(void *info)\r\n{\r\nstatic struct pca953x_platform_data tca6416;\r\nstruct i2c_board_info *i2c_info = info;\r\nint gpio_base, intr;\r\nchar base_pin_name[SFI_NAME_LEN + 1];\r\nchar intr_pin_name[SFI_NAME_LEN + 1];\r\nstrcpy(i2c_info->type, TCA6416_NAME);\r\nstrcpy(base_pin_name, TCA6416_BASE);\r\nstrcpy(intr_pin_name, TCA6416_INTR);\r\ngpio_base = get_gpio_by_name(base_pin_name);\r\nintr = get_gpio_by_name(intr_pin_name);\r\nif (gpio_base < 0)\r\nreturn NULL;\r\ntca6416.gpio_base = gpio_base;\r\nif (intr >= 0) {\r\ni2c_info->irq = intr + INTEL_MID_IRQ_OFFSET;\r\ntca6416.irq_base = gpio_base + INTEL_MID_IRQ_OFFSET;\r\n} else {\r\ni2c_info->irq = -1;\r\ntca6416.irq_base = -1;\r\n}\r\nreturn &tca6416;\r\n}
