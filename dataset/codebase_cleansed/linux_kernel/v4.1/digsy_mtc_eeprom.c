static void digsy_mtc_op_prepare(void *p)\r\n{\r\ngpio_set_value(GPIO_EEPROM_OE, 0);\r\n}\r\nstatic void digsy_mtc_op_finish(void *p)\r\n{\r\ngpio_set_value(GPIO_EEPROM_OE, 1);\r\n}\r\nstatic int __init digsy_mtc_eeprom_devices_init(void)\r\n{\r\nint ret;\r\nret = gpio_request_one(GPIO_EEPROM_OE, GPIOF_OUT_INIT_HIGH,\r\n"93xx46 EEPROMs OE");\r\nif (ret) {\r\npr_err("can't request gpio %d\n", GPIO_EEPROM_OE);\r\nreturn ret;\r\n}\r\nspi_register_board_info(digsy_mtc_eeprom_info,\r\nARRAY_SIZE(digsy_mtc_eeprom_info));\r\nreturn platform_device_register(&digsy_mtc_eeprom);\r\n}
