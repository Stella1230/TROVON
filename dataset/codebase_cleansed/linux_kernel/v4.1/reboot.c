static void watchdog_trigger_immediate(void)\r\n{\r\nsh_wdt_write_cnt(0xFF);\r\nsh_wdt_write_csr(0xC2);\r\n}\r\nstatic void native_machine_restart(char * __unused)\r\n{\r\nlocal_irq_disable();\r\n__flush_tlb_global();\r\ntrigger_address_error();\r\n#ifdef CONFIG_SUPERH32\r\nwatchdog_trigger_immediate();\r\n#endif\r\nwhile (1)\r\ncpu_sleep();\r\n}\r\nstatic void native_machine_shutdown(void)\r\n{\r\nsmp_send_stop();\r\n}\r\nstatic void native_machine_power_off(void)\r\n{\r\nif (pm_power_off)\r\npm_power_off();\r\n}\r\nstatic void native_machine_halt(void)\r\n{\r\nmachine_shutdown();\r\nstop_this_cpu(NULL);\r\n}\r\nvoid machine_power_off(void)\r\n{\r\nmachine_ops.power_off();\r\n}\r\nvoid machine_shutdown(void)\r\n{\r\nmachine_ops.shutdown();\r\n}\r\nvoid machine_restart(char *cmd)\r\n{\r\nmachine_ops.restart(cmd);\r\n}\r\nvoid machine_halt(void)\r\n{\r\nmachine_ops.halt();\r\n}\r\nvoid machine_crash_shutdown(struct pt_regs *regs)\r\n{\r\nmachine_ops.crash_shutdown(regs);\r\n}
