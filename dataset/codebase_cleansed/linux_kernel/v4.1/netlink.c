int tipc_nlmsg_parse(const struct nlmsghdr *nlh, struct nlattr ***attr)\r\n{\r\nu32 maxattr = tipc_genl_family.maxattr;\r\n*attr = tipc_genl_family.attrbuf;\r\nif (!*attr)\r\nreturn -EOPNOTSUPP;\r\nreturn nlmsg_parse(nlh, GENL_HDRLEN, *attr, maxattr, tipc_nl_policy);\r\n}\r\nint tipc_netlink_start(void)\r\n{\r\nint res;\r\nres = genl_register_family_with_ops(&tipc_genl_family,\r\ntipc_genl_v2_ops);\r\nif (res) {\r\npr_err("Failed to register netlink interface\n");\r\nreturn res;\r\n}\r\nreturn 0;\r\n}\r\nvoid tipc_netlink_stop(void)\r\n{\r\ngenl_unregister_family(&tipc_genl_family);\r\n}
