void local_timer_interrupt(void)\r\n{\r\nstruct clock_event_device *clk = this_cpu_ptr(&local_clockevent);\r\nirq_enter();\r\nclk->event_handler(clk);\r\nirq_exit();\r\n}\r\nstatic void dummy_timer_set_mode(enum clock_event_mode mode,\r\nstruct clock_event_device *clk)\r\n{\r\n}\r\nvoid local_timer_setup(unsigned int cpu)\r\n{\r\nstruct clock_event_device *clk = &per_cpu(local_clockevent, cpu);\r\nclk->name = "dummy_timer";\r\nclk->features = CLOCK_EVT_FEAT_ONESHOT |\r\nCLOCK_EVT_FEAT_PERIODIC |\r\nCLOCK_EVT_FEAT_DUMMY;\r\nclk->rating = 400;\r\nclk->mult = 1;\r\nclk->set_mode = dummy_timer_set_mode;\r\nclk->broadcast = smp_timer_broadcast;\r\nclk->cpumask = cpumask_of(cpu);\r\nclockevents_register_device(clk);\r\n}\r\nvoid local_timer_stop(unsigned int cpu)\r\n{\r\n}
