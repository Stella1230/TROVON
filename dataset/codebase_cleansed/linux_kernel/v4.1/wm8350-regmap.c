static bool wm8350_readable(struct device *dev, unsigned int reg)\r\n{\r\nreturn wm8350_reg_io_map[reg].readable;\r\n}\r\nstatic bool wm8350_writeable(struct device *dev, unsigned int reg)\r\n{\r\nstruct wm8350 *wm8350 = dev_get_drvdata(dev);\r\nif (!wm8350->unlocked) {\r\nif ((reg >= WM8350_GPIO_FUNCTION_SELECT_1 &&\r\nreg <= WM8350_GPIO_FUNCTION_SELECT_4) ||\r\n(reg >= WM8350_BATTERY_CHARGER_CONTROL_1 &&\r\nreg <= WM8350_BATTERY_CHARGER_CONTROL_3))\r\nreturn false;\r\n}\r\nreturn wm8350_reg_io_map[reg].writable;\r\n}\r\nstatic bool wm8350_volatile(struct device *dev, unsigned int reg)\r\n{\r\nreturn wm8350_reg_io_map[reg].vol;\r\n}\r\nstatic bool wm8350_precious(struct device *dev, unsigned int reg)\r\n{\r\nswitch (reg) {\r\ncase WM8350_SYSTEM_INTERRUPTS:\r\ncase WM8350_INT_STATUS_1:\r\ncase WM8350_INT_STATUS_2:\r\ncase WM8350_POWER_UP_INT_STATUS:\r\ncase WM8350_UNDER_VOLTAGE_INT_STATUS:\r\ncase WM8350_OVER_CURRENT_INT_STATUS:\r\ncase WM8350_GPIO_INT_STATUS:\r\ncase WM8350_COMPARATOR_INT_STATUS:\r\nreturn true;\r\ndefault:\r\nreturn false;\r\n}\r\n}
