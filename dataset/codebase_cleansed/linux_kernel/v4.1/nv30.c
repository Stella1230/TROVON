int\r\nnv30_identify(struct nvkm_device *device)\r\n{\r\nswitch (device->chipset) {\r\ncase 0x30:\r\ndevice->cname = "NV30";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nvkm_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLK ] = &nv04_clk_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = nv20_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = nv04_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = nv30_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MMU ] = &nv04_mmu_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = nv17_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = nv10_sw_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv30_gr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = nv04_disp_oclass;\r\nbreak;\r\ncase 0x35:\r\ndevice->cname = "NV35";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nvkm_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLK ] = &nv04_clk_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = nv20_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = nv04_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = nv35_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MMU ] = &nv04_mmu_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = nv17_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = nv10_sw_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv35_gr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = nv04_disp_oclass;\r\nbreak;\r\ncase 0x31:\r\ndevice->cname = "NV31";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nvkm_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLK ] = &nv04_clk_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = nv20_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = nv31_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = nv30_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MMU ] = &nv04_mmu_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = nv17_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = nv10_sw_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv30_gr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_MPEG ] = &nv31_mpeg_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = nv04_disp_oclass;\r\nbreak;\r\ncase 0x36:\r\ndevice->cname = "NV36";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nvkm_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLK ] = &nv04_clk_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = nv20_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = nv31_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = nv36_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MMU ] = &nv04_mmu_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = nv17_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = nv10_sw_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv35_gr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_MPEG ] = &nv31_mpeg_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = nv04_disp_oclass;\r\nbreak;\r\ncase 0x34:\r\ndevice->cname = "NV34";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nvkm_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLK ] = &nv04_clk_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = nv10_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = nv31_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = nv10_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MMU ] = &nv04_mmu_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = nv17_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = nv10_sw_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv34_gr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_MPEG ] = &nv31_mpeg_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = nv04_disp_oclass;\r\nbreak;\r\ndefault:\r\nnv_fatal(device, "unknown Rankine chipset\n");\r\nreturn -EINVAL;\r\n}\r\nreturn 0;\r\n}
