static int a780_camera_init(void)\r\n{\r\nint err;\r\nerr = gpio_request(GPIO50_nCAM_EN, "nCAM_EN");\r\nif (err) {\r\npr_err("%s: Failed to request nCAM_EN\n", __func__);\r\ngoto fail;\r\n}\r\nerr = gpio_request(GPIO19_GEN1_CAM_RST, "CAM_RST");\r\nif (err) {\r\npr_err("%s: Failed to request CAM_RST\n", __func__);\r\ngoto fail_gpio_cam_rst;\r\n}\r\ngpio_direction_output(GPIO50_nCAM_EN, 1);\r\ngpio_direction_output(GPIO19_GEN1_CAM_RST, 0);\r\nreturn 0;\r\nfail_gpio_cam_rst:\r\ngpio_free(GPIO50_nCAM_EN);\r\nfail:\r\nreturn err;\r\n}\r\nstatic int a780_camera_power(struct device *dev, int on)\r\n{\r\ngpio_set_value(GPIO50_nCAM_EN, !on);\r\nreturn 0;\r\n}\r\nstatic int a780_camera_reset(struct device *dev)\r\n{\r\ngpio_set_value(GPIO19_GEN1_CAM_RST, 0);\r\nmsleep(10);\r\ngpio_set_value(GPIO19_GEN1_CAM_RST, 1);\r\nreturn 0;\r\n}\r\nstatic void __init a780_init(void)\r\n{\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(ezx_pin_config));\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(gen1_pin_config));\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(a780_pin_config));\r\npxa_set_ffuart_info(NULL);\r\npxa_set_btuart_info(NULL);\r\npxa_set_stuart_info(NULL);\r\npxa_set_i2c_info(NULL);\r\npxa_set_fb_info(NULL, &ezx_fb_info_1);\r\npxa_set_keypad_info(&a780_keypad_platform_data);\r\nif (a780_camera_init() == 0) {\r\npxa_set_camera_info(&a780_pxacamera_platform_data);\r\nplatform_device_register(&a780_camera);\r\n}\r\npwm_add_table(ezx_pwm_lookup, ARRAY_SIZE(ezx_pwm_lookup));\r\nplatform_add_devices(ARRAY_AND_SIZE(ezx_devices));\r\nplatform_add_devices(ARRAY_AND_SIZE(a780_devices));\r\n}\r\nstatic void __init e680_init(void)\r\n{\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(ezx_pin_config));\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(gen1_pin_config));\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(e680_pin_config));\r\npxa_set_ffuart_info(NULL);\r\npxa_set_btuart_info(NULL);\r\npxa_set_stuart_info(NULL);\r\npxa_set_i2c_info(NULL);\r\ni2c_register_board_info(0, ARRAY_AND_SIZE(e680_i2c_board_info));\r\npxa_set_fb_info(NULL, &ezx_fb_info_1);\r\npxa_set_keypad_info(&e680_keypad_platform_data);\r\npwm_add_table(ezx_pwm_lookup, ARRAY_SIZE(ezx_pwm_lookup));\r\nplatform_add_devices(ARRAY_AND_SIZE(ezx_devices));\r\nplatform_add_devices(ARRAY_AND_SIZE(e680_devices));\r\n}\r\nstatic void __init a1200_init(void)\r\n{\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(ezx_pin_config));\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(gen2_pin_config));\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(a1200_pin_config));\r\npxa_set_ffuart_info(NULL);\r\npxa_set_btuart_info(NULL);\r\npxa_set_stuart_info(NULL);\r\npxa_set_i2c_info(NULL);\r\ni2c_register_board_info(0, ARRAY_AND_SIZE(a1200_i2c_board_info));\r\npxa_set_fb_info(NULL, &ezx_fb_info_2);\r\npxa_set_keypad_info(&a1200_keypad_platform_data);\r\npwm_add_table(ezx_pwm_lookup, ARRAY_SIZE(ezx_pwm_lookup));\r\nplatform_add_devices(ARRAY_AND_SIZE(ezx_devices));\r\nplatform_add_devices(ARRAY_AND_SIZE(a1200_devices));\r\n}\r\nstatic int a910_camera_init(void)\r\n{\r\nint err;\r\nerr = gpio_request(GPIO50_nCAM_EN, "nCAM_EN");\r\nif (err) {\r\npr_err("%s: Failed to request nCAM_EN\n", __func__);\r\ngoto fail;\r\n}\r\nerr = gpio_request(GPIO28_GEN2_CAM_RST, "CAM_RST");\r\nif (err) {\r\npr_err("%s: Failed to request CAM_RST\n", __func__);\r\ngoto fail_gpio_cam_rst;\r\n}\r\ngpio_direction_output(GPIO50_nCAM_EN, 1);\r\ngpio_direction_output(GPIO28_GEN2_CAM_RST, 0);\r\nreturn 0;\r\nfail_gpio_cam_rst:\r\ngpio_free(GPIO50_nCAM_EN);\r\nfail:\r\nreturn err;\r\n}\r\nstatic int a910_camera_power(struct device *dev, int on)\r\n{\r\ngpio_set_value(GPIO50_nCAM_EN, !on);\r\nreturn 0;\r\n}\r\nstatic int a910_camera_reset(struct device *dev)\r\n{\r\ngpio_set_value(GPIO28_GEN2_CAM_RST, 0);\r\nmsleep(10);\r\ngpio_set_value(GPIO28_GEN2_CAM_RST, 1);\r\nreturn 0;\r\n}\r\nstatic void __init a910_init(void)\r\n{\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(ezx_pin_config));\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(gen2_pin_config));\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(a910_pin_config));\r\npxa_set_ffuart_info(NULL);\r\npxa_set_btuart_info(NULL);\r\npxa_set_stuart_info(NULL);\r\npxa_set_i2c_info(NULL);\r\ni2c_register_board_info(0, ARRAY_AND_SIZE(a910_i2c_board_info));\r\npxa_set_fb_info(NULL, &ezx_fb_info_2);\r\npxa_set_keypad_info(&a910_keypad_platform_data);\r\nif (a910_camera_init() == 0) {\r\npxa_set_camera_info(&a910_pxacamera_platform_data);\r\nplatform_device_register(&a910_camera);\r\n}\r\npwm_add_table(ezx_pwm_lookup, ARRAY_SIZE(ezx_pwm_lookup));\r\nplatform_add_devices(ARRAY_AND_SIZE(ezx_devices));\r\nplatform_add_devices(ARRAY_AND_SIZE(a910_devices));\r\n}\r\nstatic void __init e6_init(void)\r\n{\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(ezx_pin_config));\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(gen2_pin_config));\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(e6_pin_config));\r\npxa_set_ffuart_info(NULL);\r\npxa_set_btuart_info(NULL);\r\npxa_set_stuart_info(NULL);\r\npxa_set_i2c_info(NULL);\r\ni2c_register_board_info(0, ARRAY_AND_SIZE(e6_i2c_board_info));\r\npxa_set_fb_info(NULL, &ezx_fb_info_2);\r\npxa_set_keypad_info(&e6_keypad_platform_data);\r\npwm_add_table(ezx_pwm_lookup, ARRAY_SIZE(ezx_pwm_lookup));\r\nplatform_add_devices(ARRAY_AND_SIZE(ezx_devices));\r\nplatform_add_devices(ARRAY_AND_SIZE(e6_devices));\r\n}\r\nstatic void __init e2_init(void)\r\n{\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(ezx_pin_config));\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(gen2_pin_config));\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(e2_pin_config));\r\npxa_set_ffuart_info(NULL);\r\npxa_set_btuart_info(NULL);\r\npxa_set_stuart_info(NULL);\r\npxa_set_i2c_info(NULL);\r\ni2c_register_board_info(0, ARRAY_AND_SIZE(e2_i2c_board_info));\r\npxa_set_fb_info(NULL, &ezx_fb_info_2);\r\npxa_set_keypad_info(&e2_keypad_platform_data);\r\npwm_add_table(ezx_pwm_lookup, ARRAY_SIZE(ezx_pwm_lookup));\r\nplatform_add_devices(ARRAY_AND_SIZE(ezx_devices));\r\nplatform_add_devices(ARRAY_AND_SIZE(e2_devices));\r\n}
