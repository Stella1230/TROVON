bool mac_pton(const char *s, u8 *mac)\r\n{\r\nint i;\r\nif (strlen(s) < 3 * ETH_ALEN - 1)\r\nreturn false;\r\nfor (i = 0; i < ETH_ALEN; i++) {\r\nif (!isxdigit(s[i * 3]) || !isxdigit(s[i * 3 + 1]))\r\nreturn false;\r\nif (i != ETH_ALEN - 1 && s[i * 3 + 2] != ':')\r\nreturn false;\r\n}\r\nfor (i = 0; i < ETH_ALEN; i++) {\r\nmac[i] = (hex_to_bin(s[i * 3]) << 4) | hex_to_bin(s[i * 3 + 1]);\r\n}\r\nreturn true;\r\n}
