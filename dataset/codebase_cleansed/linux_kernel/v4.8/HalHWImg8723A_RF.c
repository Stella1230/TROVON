static bool CheckCondition(const u32 Condition, const u32 Hex)\r\n{\r\nu32 _board = (Hex & 0x000000FF);\r\nu32 _interface = (Hex & 0x0000FF00) >> 8;\r\nu32 _platform = (Hex & 0x00FF0000) >> 16;\r\nu32 cond = Condition;\r\nif (Condition == 0xCDCDCDCD)\r\nreturn true;\r\ncond = Condition & 0x000000FF;\r\nif ((_board == cond) && cond != 0x00)\r\nreturn false;\r\ncond = Condition & 0x0000FF00;\r\ncond >>= 8;\r\nif ((_interface & cond) == 0 && cond != 0x07)\r\nreturn false;\r\ncond = Condition & 0x00FF0000;\r\ncond >>= 16;\r\nif ((_platform & cond) == 0 && cond != 0x0F)\r\nreturn false;\r\nreturn true;\r\n}\r\nvoid ODM_ReadAndConfig_RadioA_1T_8723A(struct dm_odm_t *pDM_Odm)\r\n{\r\n#define READ_NEXT_PAIR(v1, v2, i) \\r\ndo { \\r\ni += 2; v1 = Array[i]; v2 = Array[i+1];\\r\n} while (0)\r\nu32 hex = 0;\r\nu32 i = 0;\r\nu8 platform = 0x04;\r\nu8 board = pDM_Odm->BoardType;\r\nu32 ArrayLen = ARRAY_SIZE(Array_RadioA_1T_8723A);\r\nu32 *Array = Array_RadioA_1T_8723A;\r\nhex += board;\r\nhex += ODM_ITRF_USB << 8;\r\nhex += platform << 16;\r\nhex += 0xFF000000;\r\nfor (i = 0; i < ArrayLen; i += 2) {\r\nu32 v1 = Array[i];\r\nu32 v2 = Array[i+1];\r\nif (v1 < 0xCDCDCDCD) {\r\nodm_ConfigRFReg_8723A(pDM_Odm, v1, v2, RF_PATH_A, v1);\r\ncontinue;\r\n} else {\r\nif (!CheckCondition(Array[i], hex)) {\r\nREAD_NEXT_PAIR(v1, v2, i);\r\nwhile (v2 != 0xDEAD &&\r\nv2 != 0xCDEF &&\r\nv2 != 0xCDCD && i < ArrayLen - 2)\r\nREAD_NEXT_PAIR(v1, v2, i);\r\ni -= 2;\r\n} else {\r\nREAD_NEXT_PAIR(v1, v2, i);\r\nwhile (v2 != 0xDEAD &&\r\nv2 != 0xCDEF &&\r\nv2 != 0xCDCD && i < ArrayLen - 2) {\r\nodm_ConfigRFReg_8723A(pDM_Odm, v1, v2,\r\nRF_PATH_A, v1);\r\nREAD_NEXT_PAIR(v1, v2, i);\r\n}\r\nwhile (v2 != 0xDEAD && i < ArrayLen - 2)\r\nREAD_NEXT_PAIR(v1, v2, i);\r\n}\r\n}\r\n}\r\n}
