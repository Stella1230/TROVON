static void set_addr_win(struct fbtft_par *par, int xs, int ys, int xe, int ye)\r\n{\r\nwrite_reg(par, MIPI_DCS_SET_COLUMN_ADDRESS,\r\nxs >> 8, xs & 0xff, xe >> 8, xe & 0xff);\r\nwrite_reg(par, MIPI_DCS_SET_PAGE_ADDRESS,\r\nys >> 8, ys & 0xff, ye >> 8, ye & 0xff);\r\nwrite_reg(par, MIPI_DCS_WRITE_MEMORY_START);\r\n}\r\nstatic int set_var(struct fbtft_par *par)\r\n{\r\nswitch (par->info->var.rotate) {\r\ncase 270:\r\nwrite_reg(par, MIPI_DCS_SET_ADDRESS_MODE,\r\nROW_X_COL | HFLIP | VFLIP | (par->bgr << 3));\r\nbreak;\r\ncase 180:\r\nwrite_reg(par, MIPI_DCS_SET_ADDRESS_MODE,\r\nVFLIP | (par->bgr << 3));\r\nbreak;\r\ncase 90:\r\nwrite_reg(par, MIPI_DCS_SET_ADDRESS_MODE,\r\nROW_X_COL | (par->bgr << 3));\r\nbreak;\r\ndefault:\r\nwrite_reg(par, MIPI_DCS_SET_ADDRESS_MODE,\r\nHFLIP | (par->bgr << 3));\r\nbreak;\r\n}\r\nreturn 0;\r\n}
