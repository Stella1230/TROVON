static int mt2701_spec_pull_set(struct regmap *regmap, unsigned int pin,\r\nunsigned char align, bool isup, unsigned int r1r0)\r\n{\r\nreturn mtk_pctrl_spec_pull_set_samereg(regmap, mt2701_spec_pupd,\r\nARRAY_SIZE(mt2701_spec_pupd), pin, align, isup, r1r0);\r\n}\r\nstatic int mt2701_ies_smt_set(struct regmap *regmap, unsigned int pin,\r\nunsigned char align, int value, enum pin_config_param arg)\r\n{\r\nif (arg == PIN_CONFIG_INPUT_ENABLE)\r\nreturn mtk_pconf_spec_set_ies_smt_range(regmap, mt2701_ies_set,\r\nARRAY_SIZE(mt2701_ies_set), pin, align, value);\r\nelse if (arg == PIN_CONFIG_INPUT_SCHMITT_ENABLE)\r\nreturn mtk_pconf_spec_set_ies_smt_range(regmap, mt2701_smt_set,\r\nARRAY_SIZE(mt2701_smt_set), pin, align, value);\r\nreturn -EINVAL;\r\n}\r\nstatic void mt2701_spec_pinmux_set(struct regmap *reg, unsigned int pin,\r\nunsigned int mode)\r\n{\r\nunsigned int i, value, mask;\r\nunsigned int info_num = ARRAY_SIZE(mt2701_spec_pinmux);\r\nunsigned int spec_flag;\r\nfor (i = 0; i < info_num; i++) {\r\nif (pin == mt2701_spec_pinmux[i].pin)\r\nbreak;\r\n}\r\nif (i == info_num)\r\nreturn;\r\nspec_flag = (mode >> 3);\r\nmask = BIT(mt2701_spec_pinmux[i].bit);\r\nif (!spec_flag)\r\nvalue = mask;\r\nelse\r\nvalue = 0;\r\nregmap_update_bits(reg, mt2701_spec_pinmux[i].offset, mask, value);\r\n}\r\nstatic void mt2701_spec_dir_set(unsigned int *reg_addr, unsigned int pin)\r\n{\r\nif (pin > 175)\r\n*reg_addr += 0x10;\r\n}\r\nstatic int mt2701_pinctrl_probe(struct platform_device *pdev)\r\n{\r\nreturn mtk_pctrl_init(pdev, &mt2701_pinctrl_data, NULL);\r\n}\r\nstatic int __init mtk_pinctrl_init(void)\r\n{\r\nreturn platform_driver_register(&mtk_pinctrl_driver);\r\n}
