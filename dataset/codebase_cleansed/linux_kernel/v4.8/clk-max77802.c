static int max77802_clk_probe(struct platform_device *pdev)\r\n{\r\nstruct max77686_dev *iodev = dev_get_drvdata(pdev->dev.parent);\r\nint ret;\r\nret = max_gen_clk_probe(pdev, iodev->regmap, MAX77802_REG_32KHZ,\r\nmax77802_clks_init, MAX77802_CLKS_NUM);\r\nif (ret) {\r\ndev_err(&pdev->dev, "generic probe failed %d\n", ret);\r\nreturn ret;\r\n}\r\nret = regmap_update_bits(iodev->regmap, MAX77802_REG_32KHZ,\r\n1 << MAX77802_CLOCK_LOW_JITTER_SHIFT,\r\n1 << MAX77802_CLOCK_LOW_JITTER_SHIFT);\r\nif (ret < 0)\r\ndev_err(&pdev->dev, "failed to enable low-jitter mode\n");\r\nreturn ret;\r\n}\r\nstatic int max77802_clk_remove(struct platform_device *pdev)\r\n{\r\nreturn max_gen_clk_remove(pdev, MAX77802_CLKS_NUM);\r\n}
