static int gcc_ipq806x_probe(struct platform_device *pdev)\r\n{\r\nstruct device *dev = &pdev->dev;\r\nstruct regmap *regmap;\r\nint ret;\r\nret = qcom_cc_register_board_clk(dev, "cxo_board", "cxo", 19200000);\r\nif (ret)\r\nreturn ret;\r\nret = qcom_cc_register_board_clk(dev, "pxo_board", "pxo", 27000000);\r\nif (ret)\r\nreturn ret;\r\nret = qcom_cc_probe(pdev, &gcc_ipq806x_desc);\r\nif (ret)\r\nreturn ret;\r\nregmap = dev_get_regmap(dev, NULL);\r\nif (!regmap)\r\nreturn -ENODEV;\r\nregmap_update_bits(regmap, 0x31a4, 0xffffffc0, 0x40000400);\r\nregmap_write(regmap, 0x31b0, 0x3080);\r\nregmap_write(regmap, 0x3cb8, 8);\r\nregmap_write(regmap, 0x3cd8, 8);\r\nregmap_write(regmap, 0x3cf8, 8);\r\nregmap_write(regmap, 0x3d18, 8);\r\nreturn 0;\r\n}\r\nstatic int __init gcc_ipq806x_init(void)\r\n{\r\nreturn platform_driver_register(&gcc_ipq806x_driver);\r\n}\r\nstatic void __exit gcc_ipq806x_exit(void)\r\n{\r\nplatform_driver_unregister(&gcc_ipq806x_driver);\r\n}
