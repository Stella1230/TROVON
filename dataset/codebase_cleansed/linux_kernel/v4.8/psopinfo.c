const struct acpi_opcode_info *acpi_ps_get_opcode_info(u16 opcode)\r\n{\r\n#ifdef ACPI_DEBUG_OUTPUT\r\nconst char *opcode_name = "Unknown AML opcode";\r\n#endif\r\nACPI_FUNCTION_NAME(ps_get_opcode_info);\r\nif (!(opcode & 0xFF00)) {\r\nreturn (&acpi_gbl_aml_op_info\r\n[acpi_gbl_short_op_index[(u8)opcode]]);\r\n}\r\nif (((opcode & 0xFF00) == AML_EXTENDED_OPCODE) &&\r\n(((u8)opcode) <= MAX_EXTENDED_OPCODE)) {\r\nreturn (&acpi_gbl_aml_op_info\r\n[acpi_gbl_long_op_index[(u8)opcode]]);\r\n}\r\n#if defined ACPI_ASL_COMPILER && defined ACPI_DEBUG_OUTPUT\r\n#include "asldefine.h"\r\nswitch (opcode) {\r\ncase AML_RAW_DATA_BYTE:\r\nopcode_name = "-Raw Data Byte-";\r\nbreak;\r\ncase AML_RAW_DATA_WORD:\r\nopcode_name = "-Raw Data Word-";\r\nbreak;\r\ncase AML_RAW_DATA_DWORD:\r\nopcode_name = "-Raw Data Dword-";\r\nbreak;\r\ncase AML_RAW_DATA_QWORD:\r\nopcode_name = "-Raw Data Qword-";\r\nbreak;\r\ncase AML_RAW_DATA_BUFFER:\r\nopcode_name = "-Raw Data Buffer-";\r\nbreak;\r\ncase AML_RAW_DATA_CHAIN:\r\nopcode_name = "-Raw Data Buffer Chain-";\r\nbreak;\r\ncase AML_PACKAGE_LENGTH:\r\nopcode_name = "-Package Length-";\r\nbreak;\r\ncase AML_UNASSIGNED_OPCODE:\r\nopcode_name = "-Unassigned Opcode-";\r\nbreak;\r\ncase AML_DEFAULT_ARG_OP:\r\nopcode_name = "-Default Arg-";\r\nbreak;\r\ndefault:\r\nbreak;\r\n}\r\n#endif\r\nACPI_DEBUG_PRINT((ACPI_DB_EXEC, "%s [%4.4X]\n", opcode_name, opcode));\r\nreturn (&acpi_gbl_aml_op_info[_UNK]);\r\n}\r\nconst char *acpi_ps_get_opcode_name(u16 opcode)\r\n{\r\n#if defined(ACPI_DISASSEMBLER) || defined (ACPI_DEBUG_OUTPUT)\r\nconst struct acpi_opcode_info *op;\r\nop = acpi_ps_get_opcode_info(opcode);\r\nreturn (op->name);\r\n#else\r\nreturn ("OpcodeName unavailable");\r\n#endif\r\n}\r\nu8 acpi_ps_get_argument_count(u32 op_type)\r\n{\r\nif (op_type <= AML_TYPE_EXEC_6A_0T_1R) {\r\nreturn (acpi_gbl_argument_count[op_type]);\r\n}\r\nreturn (0);\r\n}
