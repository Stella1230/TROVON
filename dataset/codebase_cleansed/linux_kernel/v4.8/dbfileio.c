void acpi_db_close_debug_file(void)\r\n{\r\n#ifdef ACPI_APPLICATION\r\nif (acpi_gbl_debug_file) {\r\nfclose(acpi_gbl_debug_file);\r\nacpi_gbl_debug_file = NULL;\r\nacpi_gbl_db_output_to_file = FALSE;\r\nacpi_os_printf("Debug output file %s closed\n",\r\nacpi_gbl_db_debug_filename);\r\n}\r\n#endif\r\n}\r\nvoid acpi_db_open_debug_file(char *name)\r\n{\r\n#ifdef ACPI_APPLICATION\r\nacpi_db_close_debug_file();\r\nacpi_gbl_debug_file = fopen(name, "w+");\r\nif (!acpi_gbl_debug_file) {\r\nacpi_os_printf("Could not open debug file %s\n", name);\r\nreturn;\r\n}\r\nacpi_os_printf("Debug output file %s opened\n", name);\r\nstrncpy(acpi_gbl_db_debug_filename, name,\r\nsizeof(acpi_gbl_db_debug_filename));\r\nacpi_gbl_db_output_to_file = TRUE;\r\n#endif\r\n}\r\nacpi_status acpi_db_load_tables(struct acpi_new_table_desc *list_head)\r\n{\r\nacpi_status status;\r\nstruct acpi_new_table_desc *table_list_head;\r\nstruct acpi_table_header *table;\r\ntable_list_head = list_head;\r\nwhile (table_list_head) {\r\ntable = table_list_head->table;\r\nstatus = acpi_load_table(table);\r\nif (ACPI_FAILURE(status)) {\r\nif (status == AE_ALREADY_EXISTS) {\r\nacpi_os_printf\r\n("Table %4.4s is already installed\n",\r\ntable->signature);\r\n} else {\r\nacpi_os_printf("Could not install table, %s\n",\r\nacpi_format_exception(status));\r\n}\r\nreturn (status);\r\n}\r\nfprintf(stderr,\r\n"Acpi table [%4.4s] successfully installed and loaded\n",\r\ntable->signature);\r\ntable_list_head = table_list_head->next;\r\n}\r\nreturn (AE_OK);\r\n}
