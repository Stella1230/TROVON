static u8 usb_read8(struct intf_hdl *pintfhdl, u32 addr)\r\n{\r\nu8 request;\r\nu8 requesttype;\r\nu16 wvalue;\r\nu16 index;\r\nu16 len;\r\nu32 data;\r\nstruct intf_priv *pintfpriv = pintfhdl->pintfpriv;\r\nrequest = 0x05;\r\nrequesttype = 0x01;\r\nindex = 0;\r\nwvalue = (u16)(addr & 0x0000ffff);\r\nlen = 1;\r\nr8712_usbctrl_vendorreq(pintfpriv, request, wvalue, index, &data, len,\r\nrequesttype);\r\nreturn (u8)(le32_to_cpu(data) & 0x0ff);\r\n}\r\nstatic u16 usb_read16(struct intf_hdl *pintfhdl, u32 addr)\r\n{\r\nu8 request;\r\nu8 requesttype;\r\nu16 wvalue;\r\nu16 index;\r\nu16 len;\r\nu32 data;\r\nstruct intf_priv *pintfpriv = pintfhdl->pintfpriv;\r\nrequest = 0x05;\r\nrequesttype = 0x01;\r\nindex = 0;\r\nwvalue = (u16)(addr & 0x0000ffff);\r\nlen = 2;\r\nr8712_usbctrl_vendorreq(pintfpriv, request, wvalue, index, &data, len,\r\nrequesttype);\r\nreturn (u16)(le32_to_cpu(data) & 0xffff);\r\n}\r\nstatic u32 usb_read32(struct intf_hdl *pintfhdl, u32 addr)\r\n{\r\nu8 request;\r\nu8 requesttype;\r\nu16 wvalue;\r\nu16 index;\r\nu16 len;\r\nu32 data;\r\nstruct intf_priv *pintfpriv = pintfhdl->pintfpriv;\r\nrequest = 0x05;\r\nrequesttype = 0x01;\r\nindex = 0;\r\nwvalue = (u16)(addr & 0x0000ffff);\r\nlen = 4;\r\nr8712_usbctrl_vendorreq(pintfpriv, request, wvalue, index, &data, len,\r\nrequesttype);\r\nreturn le32_to_cpu(data);\r\n}\r\nstatic void usb_write8(struct intf_hdl *pintfhdl, u32 addr, u8 val)\r\n{\r\nu8 request;\r\nu8 requesttype;\r\nu16 wvalue;\r\nu16 index;\r\nu16 len;\r\nu32 data;\r\nstruct intf_priv *pintfpriv = pintfhdl->pintfpriv;\r\nrequest = 0x05;\r\nrequesttype = 0x00;\r\nindex = 0;\r\nwvalue = (u16)(addr & 0x0000ffff);\r\nlen = 1;\r\ndata = val;\r\ndata = cpu_to_le32(data & 0x000000ff);\r\nr8712_usbctrl_vendorreq(pintfpriv, request, wvalue, index, &data, len,\r\nrequesttype);\r\n}\r\nstatic void usb_write16(struct intf_hdl *pintfhdl, u32 addr, u16 val)\r\n{\r\nu8 request;\r\nu8 requesttype;\r\nu16 wvalue;\r\nu16 index;\r\nu16 len;\r\nu32 data;\r\nstruct intf_priv *pintfpriv = pintfhdl->pintfpriv;\r\nrequest = 0x05;\r\nrequesttype = 0x00;\r\nindex = 0;\r\nwvalue = (u16)(addr & 0x0000ffff);\r\nlen = 2;\r\ndata = val;\r\ndata = cpu_to_le32(data & 0x0000ffff);\r\nr8712_usbctrl_vendorreq(pintfpriv, request, wvalue, index, &data, len,\r\nrequesttype);\r\n}\r\nstatic void usb_write32(struct intf_hdl *pintfhdl, u32 addr, u32 val)\r\n{\r\nu8 request;\r\nu8 requesttype;\r\nu16 wvalue;\r\nu16 index;\r\nu16 len;\r\nu32 data;\r\nstruct intf_priv *pintfpriv = pintfhdl->pintfpriv;\r\nrequest = 0x05;\r\nrequesttype = 0x00;\r\nindex = 0;\r\nwvalue = (u16)(addr & 0x0000ffff);\r\nlen = 4;\r\ndata = cpu_to_le32(val);\r\nr8712_usbctrl_vendorreq(pintfpriv, request, wvalue, index, &data, len,\r\nrequesttype);\r\n}\r\nvoid r8712_usb_set_intf_option(u32 *poption)\r\n{\r\n*poption = ((*poption) | _INTF_ASYNC_);\r\n}\r\nstatic void usb_intf_hdl_init(u8 *priv)\r\n{\r\n}\r\nstatic void usb_intf_hdl_unload(u8 *priv)\r\n{\r\n}\r\nstatic void usb_intf_hdl_open(u8 *priv)\r\n{\r\n}\r\nstatic void usb_intf_hdl_close(u8 *priv)\r\n{\r\n}\r\nvoid r8712_usb_set_intf_funs(struct intf_hdl *pintf_hdl)\r\n{\r\npintf_hdl->intf_hdl_init = usb_intf_hdl_init;\r\npintf_hdl->intf_hdl_unload = usb_intf_hdl_unload;\r\npintf_hdl->intf_hdl_open = usb_intf_hdl_open;\r\npintf_hdl->intf_hdl_close = usb_intf_hdl_close;\r\n}\r\nvoid r8712_usb_set_intf_ops(struct _io_ops *pops)\r\n{\r\nmemset((u8 *)pops, 0, sizeof(struct _io_ops));\r\npops->_read8 = usb_read8;\r\npops->_read16 = usb_read16;\r\npops->_read32 = usb_read32;\r\npops->_read_port = r8712_usb_read_port;\r\npops->_write8 = usb_write8;\r\npops->_write16 = usb_write16;\r\npops->_write32 = usb_write32;\r\npops->_write_mem = r8712_usb_write_mem;\r\npops->_write_port = r8712_usb_write_port;\r\n}
