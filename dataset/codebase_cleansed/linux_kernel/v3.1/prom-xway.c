void __init ltq_soc_detect(struct ltq_soc_info *i)\r\n{\r\ni->partnum = (ltq_r32(LTQ_MPS_CHIPID) & PART_MASK) >> PART_SHIFT;\r\ni->rev = (ltq_r32(LTQ_MPS_CHIPID) & REV_MASK) >> REV_SHIFT;\r\nswitch (i->partnum) {\r\ncase SOC_ID_DANUBE1:\r\ncase SOC_ID_DANUBE2:\r\ni->name = SOC_DANUBE;\r\ni->type = SOC_TYPE_DANUBE;\r\nbreak;\r\ncase SOC_ID_TWINPASS:\r\ni->name = SOC_TWINPASS;\r\ni->type = SOC_TYPE_DANUBE;\r\nbreak;\r\ncase SOC_ID_ARX188:\r\ncase SOC_ID_ARX168:\r\ncase SOC_ID_ARX182:\r\ni->name = SOC_AR9;\r\ni->type = SOC_TYPE_AR9;\r\nbreak;\r\ndefault:\r\nunreachable();\r\nbreak;\r\n}\r\n}
