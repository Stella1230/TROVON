int ar6000_register_hci_transport(struct hci_transport_callbacks *hciTransCallbacks)\r\n{\r\nar6kHciTransCallbacks = *hciTransCallbacks;\r\n_HCI_TransportAttach = HCI_TransportAttach;\r\n_HCI_TransportDetach = HCI_TransportDetach;\r\n_HCI_TransportAddReceivePkts = HCI_TransportAddReceivePkts;\r\n_HCI_TransportSendPkt = HCI_TransportSendPkt;\r\n_HCI_TransportStop = HCI_TransportStop;\r\n_HCI_TransportStart = HCI_TransportStart;\r\n_HCI_TransportEnableDisableAsyncRecv = HCI_TransportEnableDisableAsyncRecv;\r\n_HCI_TransportRecvHCIEventSync = HCI_TransportRecvHCIEventSync;\r\n_HCI_TransportSetBaudRate = HCI_TransportSetBaudRate;\r\n_HCI_TransportEnablePowerMgmt = HCI_TransportEnablePowerMgmt;\r\nreturn 0;\r\n}\r\nint\r\nar6000_get_hif_dev(struct hif_device *device, void *config)\r\n{\r\nint status;\r\nstatus = HIFConfigureDevice(device,\r\nHIF_DEVICE_GET_OS_DEVICE,\r\n(struct hif_device_os_device_info *)config,\r\nsizeof(struct hif_device_os_device_info));\r\nreturn status;\r\n}\r\nint ar6000_set_uart_config(struct hif_device *hifDevice,\r\nu32 scale,\r\nu32 step)\r\n{\r\nu32 regAddress;\r\nu32 regVal;\r\nint status;\r\nregAddress = WLAN_UART_BASE_ADDRESS | UART_CLKDIV_ADDRESS;\r\nregVal = ((u32)scale << 16) | step;\r\nstatus = ar6000_WriteRegDiag(hifDevice, &regAddress, &regVal);\r\nreturn status;\r\n}\r\nint ar6000_get_core_clock_config(struct hif_device *hifDevice, u32 *data)\r\n{\r\nu32 regAddress;\r\nint status;\r\nregAddress = WLAN_RTC_BASE_ADDRESS | WLAN_CPU_CLOCK_ADDRESS;\r\nstatus = ar6000_ReadRegDiag(hifDevice, &regAddress, data);\r\nreturn status;\r\n}
