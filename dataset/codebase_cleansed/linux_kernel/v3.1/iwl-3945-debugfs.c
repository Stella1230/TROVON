static int iwl3945_statistics_flag(struct iwl_priv *priv, char *buf, int bufsz)\r\n{\r\nint p = 0;\r\np += scnprintf(buf + p, bufsz - p, "Statistics Flag(0x%X):\n",\r\nle32_to_cpu(priv->_3945.statistics.flag));\r\nif (le32_to_cpu(priv->_3945.statistics.flag) &\r\nUCODE_STATISTICS_CLEAR_MSK)\r\np += scnprintf(buf + p, bufsz - p,\r\n"\tStatistics have been cleared\n");\r\np += scnprintf(buf + p, bufsz - p, "\tOperational Frequency: %s\n",\r\n(le32_to_cpu(priv->_3945.statistics.flag) &\r\nUCODE_STATISTICS_FREQUENCY_MSK)\r\n? "2.4 GHz" : "5.2 GHz");\r\np += scnprintf(buf + p, bufsz - p, "\tTGj Narrow Band: %s\n",\r\n(le32_to_cpu(priv->_3945.statistics.flag) &\r\nUCODE_STATISTICS_NARROW_BAND_MSK)\r\n? "enabled" : "disabled");\r\nreturn p;\r\n}\r\nssize_t iwl3945_ucode_rx_stats_read(struct file *file,\r\nchar __user *user_buf,\r\nsize_t count, loff_t *ppos)\r\n{\r\nstruct iwl_priv *priv = file->private_data;\r\nint pos = 0;\r\nchar *buf;\r\nint bufsz = sizeof(struct iwl39_statistics_rx_phy) * 40 +\r\nsizeof(struct iwl39_statistics_rx_non_phy) * 40 + 400;\r\nssize_t ret;\r\nstruct iwl39_statistics_rx_phy *ofdm, *accum_ofdm, *delta_ofdm,\r\n*max_ofdm;\r\nstruct iwl39_statistics_rx_phy *cck, *accum_cck, *delta_cck, *max_cck;\r\nstruct iwl39_statistics_rx_non_phy *general, *accum_general;\r\nstruct iwl39_statistics_rx_non_phy *delta_general, *max_general;\r\nif (!iwl_legacy_is_alive(priv))\r\nreturn -EAGAIN;\r\nbuf = kzalloc(bufsz, GFP_KERNEL);\r\nif (!buf) {\r\nIWL_ERR(priv, "Can not allocate Buffer\n");\r\nreturn -ENOMEM;\r\n}\r\nofdm = &priv->_3945.statistics.rx.ofdm;\r\ncck = &priv->_3945.statistics.rx.cck;\r\ngeneral = &priv->_3945.statistics.rx.general;\r\naccum_ofdm = &priv->_3945.accum_statistics.rx.ofdm;\r\naccum_cck = &priv->_3945.accum_statistics.rx.cck;\r\naccum_general = &priv->_3945.accum_statistics.rx.general;\r\ndelta_ofdm = &priv->_3945.delta_statistics.rx.ofdm;\r\ndelta_cck = &priv->_3945.delta_statistics.rx.cck;\r\ndelta_general = &priv->_3945.delta_statistics.rx.general;\r\nmax_ofdm = &priv->_3945.max_delta.rx.ofdm;\r\nmax_cck = &priv->_3945.max_delta.rx.cck;\r\nmax_general = &priv->_3945.max_delta.rx.general;\r\npos += iwl3945_statistics_flag(priv, buf, bufsz);\r\npos += scnprintf(buf + pos, bufsz - pos, "%-32s current"\r\n"acumulative delta max\n",\r\n"Statistics_Rx - OFDM:");\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"ina_cnt:", le32_to_cpu(ofdm->ina_cnt),\r\naccum_ofdm->ina_cnt,\r\ndelta_ofdm->ina_cnt, max_ofdm->ina_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"fina_cnt:",\r\nle32_to_cpu(ofdm->fina_cnt), accum_ofdm->fina_cnt,\r\ndelta_ofdm->fina_cnt, max_ofdm->fina_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n", "plcp_err:",\r\nle32_to_cpu(ofdm->plcp_err), accum_ofdm->plcp_err,\r\ndelta_ofdm->plcp_err, max_ofdm->plcp_err);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n", "crc32_err:",\r\nle32_to_cpu(ofdm->crc32_err), accum_ofdm->crc32_err,\r\ndelta_ofdm->crc32_err, max_ofdm->crc32_err);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n", "overrun_err:",\r\nle32_to_cpu(ofdm->overrun_err),\r\naccum_ofdm->overrun_err, delta_ofdm->overrun_err,\r\nmax_ofdm->overrun_err);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"early_overrun_err:",\r\nle32_to_cpu(ofdm->early_overrun_err),\r\naccum_ofdm->early_overrun_err,\r\ndelta_ofdm->early_overrun_err,\r\nmax_ofdm->early_overrun_err);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"crc32_good:", le32_to_cpu(ofdm->crc32_good),\r\naccum_ofdm->crc32_good, delta_ofdm->crc32_good,\r\nmax_ofdm->crc32_good);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n", "false_alarm_cnt:",\r\nle32_to_cpu(ofdm->false_alarm_cnt),\r\naccum_ofdm->false_alarm_cnt,\r\ndelta_ofdm->false_alarm_cnt,\r\nmax_ofdm->false_alarm_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"fina_sync_err_cnt:",\r\nle32_to_cpu(ofdm->fina_sync_err_cnt),\r\naccum_ofdm->fina_sync_err_cnt,\r\ndelta_ofdm->fina_sync_err_cnt,\r\nmax_ofdm->fina_sync_err_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"sfd_timeout:",\r\nle32_to_cpu(ofdm->sfd_timeout),\r\naccum_ofdm->sfd_timeout,\r\ndelta_ofdm->sfd_timeout,\r\nmax_ofdm->sfd_timeout);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"fina_timeout:",\r\nle32_to_cpu(ofdm->fina_timeout),\r\naccum_ofdm->fina_timeout,\r\ndelta_ofdm->fina_timeout,\r\nmax_ofdm->fina_timeout);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"unresponded_rts:",\r\nle32_to_cpu(ofdm->unresponded_rts),\r\naccum_ofdm->unresponded_rts,\r\ndelta_ofdm->unresponded_rts,\r\nmax_ofdm->unresponded_rts);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"rxe_frame_lmt_ovrun:",\r\nle32_to_cpu(ofdm->rxe_frame_limit_overrun),\r\naccum_ofdm->rxe_frame_limit_overrun,\r\ndelta_ofdm->rxe_frame_limit_overrun,\r\nmax_ofdm->rxe_frame_limit_overrun);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"sent_ack_cnt:",\r\nle32_to_cpu(ofdm->sent_ack_cnt),\r\naccum_ofdm->sent_ack_cnt,\r\ndelta_ofdm->sent_ack_cnt,\r\nmax_ofdm->sent_ack_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"sent_cts_cnt:",\r\nle32_to_cpu(ofdm->sent_cts_cnt),\r\naccum_ofdm->sent_cts_cnt,\r\ndelta_ofdm->sent_cts_cnt, max_ofdm->sent_cts_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos, "%-32s current"\r\n"acumulative delta max\n",\r\n"Statistics_Rx - CCK:");\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"ina_cnt:",\r\nle32_to_cpu(cck->ina_cnt), accum_cck->ina_cnt,\r\ndelta_cck->ina_cnt, max_cck->ina_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"fina_cnt:",\r\nle32_to_cpu(cck->fina_cnt), accum_cck->fina_cnt,\r\ndelta_cck->fina_cnt, max_cck->fina_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"plcp_err:",\r\nle32_to_cpu(cck->plcp_err), accum_cck->plcp_err,\r\ndelta_cck->plcp_err, max_cck->plcp_err);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"crc32_err:",\r\nle32_to_cpu(cck->crc32_err), accum_cck->crc32_err,\r\ndelta_cck->crc32_err, max_cck->crc32_err);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"overrun_err:",\r\nle32_to_cpu(cck->overrun_err),\r\naccum_cck->overrun_err,\r\ndelta_cck->overrun_err, max_cck->overrun_err);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"early_overrun_err:",\r\nle32_to_cpu(cck->early_overrun_err),\r\naccum_cck->early_overrun_err,\r\ndelta_cck->early_overrun_err,\r\nmax_cck->early_overrun_err);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"crc32_good:",\r\nle32_to_cpu(cck->crc32_good), accum_cck->crc32_good,\r\ndelta_cck->crc32_good,\r\nmax_cck->crc32_good);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"false_alarm_cnt:",\r\nle32_to_cpu(cck->false_alarm_cnt),\r\naccum_cck->false_alarm_cnt,\r\ndelta_cck->false_alarm_cnt, max_cck->false_alarm_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"fina_sync_err_cnt:",\r\nle32_to_cpu(cck->fina_sync_err_cnt),\r\naccum_cck->fina_sync_err_cnt,\r\ndelta_cck->fina_sync_err_cnt,\r\nmax_cck->fina_sync_err_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"sfd_timeout:",\r\nle32_to_cpu(cck->sfd_timeout),\r\naccum_cck->sfd_timeout,\r\ndelta_cck->sfd_timeout, max_cck->sfd_timeout);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"fina_timeout:",\r\nle32_to_cpu(cck->fina_timeout),\r\naccum_cck->fina_timeout,\r\ndelta_cck->fina_timeout, max_cck->fina_timeout);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"unresponded_rts:",\r\nle32_to_cpu(cck->unresponded_rts),\r\naccum_cck->unresponded_rts,\r\ndelta_cck->unresponded_rts,\r\nmax_cck->unresponded_rts);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"rxe_frame_lmt_ovrun:",\r\nle32_to_cpu(cck->rxe_frame_limit_overrun),\r\naccum_cck->rxe_frame_limit_overrun,\r\ndelta_cck->rxe_frame_limit_overrun,\r\nmax_cck->rxe_frame_limit_overrun);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"sent_ack_cnt:",\r\nle32_to_cpu(cck->sent_ack_cnt),\r\naccum_cck->sent_ack_cnt,\r\ndelta_cck->sent_ack_cnt,\r\nmax_cck->sent_ack_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"sent_cts_cnt:",\r\nle32_to_cpu(cck->sent_cts_cnt),\r\naccum_cck->sent_cts_cnt,\r\ndelta_cck->sent_cts_cnt,\r\nmax_cck->sent_cts_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos, "%-32s current"\r\n"acumulative delta max\n",\r\n"Statistics_Rx - GENERAL:");\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"bogus_cts:",\r\nle32_to_cpu(general->bogus_cts),\r\naccum_general->bogus_cts,\r\ndelta_general->bogus_cts, max_general->bogus_cts);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"bogus_ack:",\r\nle32_to_cpu(general->bogus_ack),\r\naccum_general->bogus_ack,\r\ndelta_general->bogus_ack, max_general->bogus_ack);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"non_bssid_frames:",\r\nle32_to_cpu(general->non_bssid_frames),\r\naccum_general->non_bssid_frames,\r\ndelta_general->non_bssid_frames,\r\nmax_general->non_bssid_frames);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"filtered_frames:",\r\nle32_to_cpu(general->filtered_frames),\r\naccum_general->filtered_frames,\r\ndelta_general->filtered_frames,\r\nmax_general->filtered_frames);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"non_channel_beacons:",\r\nle32_to_cpu(general->non_channel_beacons),\r\naccum_general->non_channel_beacons,\r\ndelta_general->non_channel_beacons,\r\nmax_general->non_channel_beacons);\r\nret = simple_read_from_buffer(user_buf, count, ppos, buf, pos);\r\nkfree(buf);\r\nreturn ret;\r\n}\r\nssize_t iwl3945_ucode_tx_stats_read(struct file *file,\r\nchar __user *user_buf,\r\nsize_t count, loff_t *ppos)\r\n{\r\nstruct iwl_priv *priv = file->private_data;\r\nint pos = 0;\r\nchar *buf;\r\nint bufsz = (sizeof(struct iwl39_statistics_tx) * 48) + 250;\r\nssize_t ret;\r\nstruct iwl39_statistics_tx *tx, *accum_tx, *delta_tx, *max_tx;\r\nif (!iwl_legacy_is_alive(priv))\r\nreturn -EAGAIN;\r\nbuf = kzalloc(bufsz, GFP_KERNEL);\r\nif (!buf) {\r\nIWL_ERR(priv, "Can not allocate Buffer\n");\r\nreturn -ENOMEM;\r\n}\r\ntx = &priv->_3945.statistics.tx;\r\naccum_tx = &priv->_3945.accum_statistics.tx;\r\ndelta_tx = &priv->_3945.delta_statistics.tx;\r\nmax_tx = &priv->_3945.max_delta.tx;\r\npos += iwl3945_statistics_flag(priv, buf, bufsz);\r\npos += scnprintf(buf + pos, bufsz - pos, "%-32s current"\r\n"acumulative delta max\n",\r\n"Statistics_Tx:");\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"preamble:",\r\nle32_to_cpu(tx->preamble_cnt),\r\naccum_tx->preamble_cnt,\r\ndelta_tx->preamble_cnt, max_tx->preamble_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"rx_detected_cnt:",\r\nle32_to_cpu(tx->rx_detected_cnt),\r\naccum_tx->rx_detected_cnt,\r\ndelta_tx->rx_detected_cnt, max_tx->rx_detected_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"bt_prio_defer_cnt:",\r\nle32_to_cpu(tx->bt_prio_defer_cnt),\r\naccum_tx->bt_prio_defer_cnt,\r\ndelta_tx->bt_prio_defer_cnt,\r\nmax_tx->bt_prio_defer_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"bt_prio_kill_cnt:",\r\nle32_to_cpu(tx->bt_prio_kill_cnt),\r\naccum_tx->bt_prio_kill_cnt,\r\ndelta_tx->bt_prio_kill_cnt,\r\nmax_tx->bt_prio_kill_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"few_bytes_cnt:",\r\nle32_to_cpu(tx->few_bytes_cnt),\r\naccum_tx->few_bytes_cnt,\r\ndelta_tx->few_bytes_cnt, max_tx->few_bytes_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"cts_timeout:",\r\nle32_to_cpu(tx->cts_timeout), accum_tx->cts_timeout,\r\ndelta_tx->cts_timeout, max_tx->cts_timeout);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"ack_timeout:",\r\nle32_to_cpu(tx->ack_timeout),\r\naccum_tx->ack_timeout,\r\ndelta_tx->ack_timeout, max_tx->ack_timeout);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"expected_ack_cnt:",\r\nle32_to_cpu(tx->expected_ack_cnt),\r\naccum_tx->expected_ack_cnt,\r\ndelta_tx->expected_ack_cnt,\r\nmax_tx->expected_ack_cnt);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"actual_ack_cnt:",\r\nle32_to_cpu(tx->actual_ack_cnt),\r\naccum_tx->actual_ack_cnt,\r\ndelta_tx->actual_ack_cnt,\r\nmax_tx->actual_ack_cnt);\r\nret = simple_read_from_buffer(user_buf, count, ppos, buf, pos);\r\nkfree(buf);\r\nreturn ret;\r\n}\r\nssize_t iwl3945_ucode_general_stats_read(struct file *file,\r\nchar __user *user_buf,\r\nsize_t count, loff_t *ppos)\r\n{\r\nstruct iwl_priv *priv = file->private_data;\r\nint pos = 0;\r\nchar *buf;\r\nint bufsz = sizeof(struct iwl39_statistics_general) * 10 + 300;\r\nssize_t ret;\r\nstruct iwl39_statistics_general *general, *accum_general;\r\nstruct iwl39_statistics_general *delta_general, *max_general;\r\nstruct statistics_dbg *dbg, *accum_dbg, *delta_dbg, *max_dbg;\r\nstruct iwl39_statistics_div *div, *accum_div, *delta_div, *max_div;\r\nif (!iwl_legacy_is_alive(priv))\r\nreturn -EAGAIN;\r\nbuf = kzalloc(bufsz, GFP_KERNEL);\r\nif (!buf) {\r\nIWL_ERR(priv, "Can not allocate Buffer\n");\r\nreturn -ENOMEM;\r\n}\r\ngeneral = &priv->_3945.statistics.general;\r\ndbg = &priv->_3945.statistics.general.dbg;\r\ndiv = &priv->_3945.statistics.general.div;\r\naccum_general = &priv->_3945.accum_statistics.general;\r\ndelta_general = &priv->_3945.delta_statistics.general;\r\nmax_general = &priv->_3945.max_delta.general;\r\naccum_dbg = &priv->_3945.accum_statistics.general.dbg;\r\ndelta_dbg = &priv->_3945.delta_statistics.general.dbg;\r\nmax_dbg = &priv->_3945.max_delta.general.dbg;\r\naccum_div = &priv->_3945.accum_statistics.general.div;\r\ndelta_div = &priv->_3945.delta_statistics.general.div;\r\nmax_div = &priv->_3945.max_delta.general.div;\r\npos += iwl3945_statistics_flag(priv, buf, bufsz);\r\npos += scnprintf(buf + pos, bufsz - pos, "%-32s current"\r\n"acumulative delta max\n",\r\n"Statistics_General:");\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"burst_check:",\r\nle32_to_cpu(dbg->burst_check),\r\naccum_dbg->burst_check,\r\ndelta_dbg->burst_check, max_dbg->burst_check);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"burst_count:",\r\nle32_to_cpu(dbg->burst_count),\r\naccum_dbg->burst_count,\r\ndelta_dbg->burst_count, max_dbg->burst_count);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"sleep_time:",\r\nle32_to_cpu(general->sleep_time),\r\naccum_general->sleep_time,\r\ndelta_general->sleep_time, max_general->sleep_time);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"slots_out:",\r\nle32_to_cpu(general->slots_out),\r\naccum_general->slots_out,\r\ndelta_general->slots_out, max_general->slots_out);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"slots_idle:",\r\nle32_to_cpu(general->slots_idle),\r\naccum_general->slots_idle,\r\ndelta_general->slots_idle, max_general->slots_idle);\r\npos += scnprintf(buf + pos, bufsz - pos, "ttl_timestamp:\t\t\t%u\n",\r\nle32_to_cpu(general->ttl_timestamp));\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"tx_on_a:",\r\nle32_to_cpu(div->tx_on_a), accum_div->tx_on_a,\r\ndelta_div->tx_on_a, max_div->tx_on_a);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"tx_on_b:",\r\nle32_to_cpu(div->tx_on_b), accum_div->tx_on_b,\r\ndelta_div->tx_on_b, max_div->tx_on_b);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"exec_time:",\r\nle32_to_cpu(div->exec_time), accum_div->exec_time,\r\ndelta_div->exec_time, max_div->exec_time);\r\npos += scnprintf(buf + pos, bufsz - pos,\r\n" %-30s %10u %10u %10u %10u\n",\r\n"probe_time:",\r\nle32_to_cpu(div->probe_time), accum_div->probe_time,\r\ndelta_div->probe_time, max_div->probe_time);\r\nret = simple_read_from_buffer(user_buf, count, ppos, buf, pos);\r\nkfree(buf);\r\nreturn ret;\r\n}
