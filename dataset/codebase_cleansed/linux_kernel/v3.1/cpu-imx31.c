void __init mx31_read_cpu_rev(void)\r\n{\r\nu32 i, srev;\r\nsrev = __raw_readl(MX31_IO_ADDRESS(MX31_IIM_BASE_ADDR + MXC_IIMSREV));\r\nfor (i = 0; i < ARRAY_SIZE(mx31_cpu_type); i++)\r\nif (srev == mx31_cpu_type[i].srev) {\r\nprintk(KERN_INFO\r\n"CPU identified as %s, silicon rev %s\n",\r\nmx31_cpu_type[i].name, mx31_cpu_type[i].v);\r\nmx31_cpu_rev = mx31_cpu_type[i].rev;\r\nreturn;\r\n}\r\nmx31_cpu_rev = IMX_CHIP_REVISION_UNKNOWN;\r\nprintk(KERN_WARNING "Unknown CPU identifier. srev = %02x\n", srev);\r\n}
