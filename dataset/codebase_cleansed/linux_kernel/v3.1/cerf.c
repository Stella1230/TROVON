static void __init cerf_init_irq(void)\r\n{\r\nsa1100_init_irq();\r\nirq_set_irq_type(CERF_ETH_IRQ, IRQ_TYPE_EDGE_RISING);\r\n}\r\nstatic void __init cerf_map_io(void)\r\n{\r\nsa1100_map_io();\r\niotable_init(cerf_io_desc, ARRAY_SIZE(cerf_io_desc));\r\nsa1100_register_uart(0, 3);\r\nsa1100_register_uart(1, 2);\r\nsa1100_register_uart(2, 1);\r\nGPDR |= CERF_GPIO_CF_RESET;\r\n}\r\nstatic void __init cerf_init(void)\r\n{\r\nplatform_add_devices(cerf_devices, ARRAY_SIZE(cerf_devices));\r\nsa11x0_register_mtd(&cerf_flash_data, &cerf_flash_resource, 1);\r\nsa11x0_register_mcp(&cerf_mcp_data);\r\n}
