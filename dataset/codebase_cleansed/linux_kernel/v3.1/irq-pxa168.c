static void icu_mask_irq(struct irq_data *d)\r\n{\r\n__raw_writel(PRIORITY_NONE, ICU_INT_CONF(d->irq));\r\n}\r\nstatic void icu_unmask_irq(struct irq_data *d)\r\n{\r\n__raw_writel(IRQ_ROUTE_TO_AP | PRIORITY_DEFAULT, ICU_INT_CONF(d->irq));\r\n}\r\nvoid __init icu_init_irq(void)\r\n{\r\nint irq;\r\nfor (irq = 0; irq < 64; irq++) {\r\nicu_mask_irq(irq_get_irq_data(irq));\r\nirq_set_chip_and_handler(irq, &icu_irq_chip, handle_level_irq);\r\nset_irq_flags(irq, IRQF_VALID);\r\n}\r\n}
