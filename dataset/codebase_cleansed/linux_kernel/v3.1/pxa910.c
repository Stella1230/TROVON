static void __init pxa910_init_gpio(void)\r\n{\r\nint i;\r\n__raw_writel(APBC_APBCLK | APBC_FNCLK, APBC_PXA910_GPIO);\r\nfor (i = 0; i < 4; i++)\r\n__raw_writel(0xffffffff, APMASK(i));\r\npxa_init_gpio(IRQ_PXA910_AP_GPIO, 0, 127, NULL);\r\n}\r\nvoid __init pxa910_init_irq(void)\r\n{\r\nicu_init_irq();\r\npxa910_init_gpio();\r\n}\r\nstatic int __init pxa910_init(void)\r\n{\r\nif (cpu_is_pxa910()) {\r\nmfp_init_base(MFPR_VIRT_BASE);\r\nmfp_init_addr(pxa910_mfp_addr_map);\r\npxa_init_dma(IRQ_PXA910_DMA_INT0, 32);\r\nclkdev_add_table(ARRAY_AND_SIZE(pxa910_clkregs));\r\n}\r\nreturn 0;\r\n}\r\nstatic void __init pxa910_timer_init(void)\r\n{\r\n__raw_writel(APBC_APBCLK | APBC_RST, APBC_PXA910_TIMERS);\r\n__raw_writel(TIMER_CLK_RST, APBC_PXA910_TIMERS);\r\ntimer_init(IRQ_PXA910_AP1_TIMER1);\r\n}
