void __init at91_add_device_hdmac(void)\r\n{\r\ndma_cap_set(DMA_MEMCPY, atdma_pdata.cap_mask);\r\ndma_cap_set(DMA_SLAVE, atdma_pdata.cap_mask);\r\nplatform_device_register(&at_hdmac_device);\r\n}\r\nvoid __init at91_add_device_hdmac(void) {}\r\nvoid __init at91_add_device_usbh_ohci(struct at91_usbh_data *data)\r\n{\r\nint i;\r\nif (!data)\r\nreturn;\r\nfor (i = 0; i < data->ports; i++) {\r\nif (data->vbus_pin[i])\r\nat91_set_gpio_output(data->vbus_pin[i], 0);\r\n}\r\nusbh_ohci_data = *data;\r\nplatform_device_register(&at91_usbh_ohci_device);\r\n}\r\nvoid __init at91_add_device_usbh_ohci(struct at91_usbh_data *data) {}\r\nvoid __init at91_add_device_usbh_ehci(struct at91_usbh_data *data)\r\n{\r\nint i;\r\nif (!data)\r\nreturn;\r\nfor (i = 0; i < data->ports; i++) {\r\nif (data->vbus_pin[i])\r\nat91_set_gpio_output(data->vbus_pin[i], 0);\r\n}\r\nusbh_ehci_data = *data;\r\nplatform_device_register(&at91_usbh_ehci_device);\r\n}\r\nvoid __init at91_add_device_usbh_ehci(struct at91_usbh_data *data) {}\r\nvoid __init at91_add_device_usba(struct usba_platform_data *data)\r\n{\r\nusba_udc_data.pdata.vbus_pin = -EINVAL;\r\nusba_udc_data.pdata.num_ep = ARRAY_SIZE(usba_udc_ep);\r\nmemcpy(usba_udc_data.ep, usba_udc_ep, sizeof(usba_udc_ep));\r\nif (data && data->vbus_pin > 0) {\r\nat91_set_gpio_input(data->vbus_pin, 0);\r\nat91_set_deglitch(data->vbus_pin, 1);\r\nusba_udc_data.pdata.vbus_pin = data->vbus_pin;\r\n}\r\nplatform_device_register(&at91_usba_udc_device);\r\n}\r\nvoid __init at91_add_device_usba(struct usba_platform_data *data) {}\r\nvoid __init at91_add_device_eth(struct at91_eth_data *data)\r\n{\r\nif (!data)\r\nreturn;\r\nif (data->phy_irq_pin) {\r\nat91_set_gpio_input(data->phy_irq_pin, 0);\r\nat91_set_deglitch(data->phy_irq_pin, 1);\r\n}\r\nat91_set_A_periph(AT91_PIN_PA17, 0);\r\nat91_set_A_periph(AT91_PIN_PA15, 0);\r\nat91_set_A_periph(AT91_PIN_PA12, 0);\r\nat91_set_A_periph(AT91_PIN_PA13, 0);\r\nat91_set_A_periph(AT91_PIN_PA16, 0);\r\nat91_set_A_periph(AT91_PIN_PA14, 0);\r\nat91_set_A_periph(AT91_PIN_PA10, 0);\r\nat91_set_A_periph(AT91_PIN_PA11, 0);\r\nat91_set_A_periph(AT91_PIN_PA19, 0);\r\nat91_set_A_periph(AT91_PIN_PA18, 0);\r\nif (!data->is_rmii) {\r\nat91_set_B_periph(AT91_PIN_PA29, 0);\r\nat91_set_B_periph(AT91_PIN_PA30, 0);\r\nat91_set_B_periph(AT91_PIN_PA8, 0);\r\nat91_set_B_periph(AT91_PIN_PA9, 0);\r\nat91_set_B_periph(AT91_PIN_PA28, 0);\r\nat91_set_B_periph(AT91_PIN_PA6, 0);\r\nat91_set_B_periph(AT91_PIN_PA7, 0);\r\nat91_set_B_periph(AT91_PIN_PA27, 0);\r\n}\r\neth_data = *data;\r\nplatform_device_register(&at91sam9g45_eth_device);\r\n}\r\nvoid __init at91_add_device_eth(struct at91_eth_data *data) {}\r\nvoid __init at91_add_device_mci(short mmc_id, struct mci_platform_data *data)\r\n{\r\nif (!data)\r\nreturn;\r\nif (!data->slot[0].bus_width)\r\nreturn;\r\n#if defined(CONFIG_AT_HDMAC) || defined(CONFIG_AT_HDMAC_MODULE)\r\n{\r\nstruct at_dma_slave *atslave;\r\nstruct mci_dma_data *alt_atslave;\r\nalt_atslave = kzalloc(sizeof(struct mci_dma_data), GFP_KERNEL);\r\natslave = &alt_atslave->sdata;\r\natslave->dma_dev = &at_hdmac_device.dev;\r\natslave->reg_width = AT_DMA_SLAVE_WIDTH_32BIT;\r\natslave->cfg = ATC_FIFOCFG_HALFFIFO\r\n| ATC_SRC_H2SEL_HW | ATC_DST_H2SEL_HW;\r\natslave->ctrla = ATC_SCSIZE_16 | ATC_DCSIZE_16;\r\nif (mmc_id == 0)\r\natslave->cfg |= ATC_SRC_PER(AT_DMA_ID_MCI0)\r\n| ATC_DST_PER(AT_DMA_ID_MCI0);\r\nelse\r\natslave->cfg |= ATC_SRC_PER(AT_DMA_ID_MCI1)\r\n| ATC_DST_PER(AT_DMA_ID_MCI1);\r\ndata->dma_slave = alt_atslave;\r\n}\r\n#endif\r\nif (data->slot[0].detect_pin) {\r\nat91_set_gpio_input(data->slot[0].detect_pin, 1);\r\nat91_set_deglitch(data->slot[0].detect_pin, 1);\r\n}\r\nif (data->slot[0].wp_pin)\r\nat91_set_gpio_input(data->slot[0].wp_pin, 1);\r\nif (mmc_id == 0) {\r\nat91_set_A_periph(AT91_PIN_PA0, 0);\r\nat91_set_A_periph(AT91_PIN_PA1, 1);\r\nat91_set_A_periph(AT91_PIN_PA2, 1);\r\nif (data->slot[0].bus_width == 4) {\r\nat91_set_A_periph(AT91_PIN_PA3, 1);\r\nat91_set_A_periph(AT91_PIN_PA4, 1);\r\nat91_set_A_periph(AT91_PIN_PA5, 1);\r\nif (data->slot[0].bus_width == 8) {\r\nat91_set_A_periph(AT91_PIN_PA6, 1);\r\nat91_set_A_periph(AT91_PIN_PA7, 1);\r\nat91_set_A_periph(AT91_PIN_PA8, 1);\r\nat91_set_A_periph(AT91_PIN_PA9, 1);\r\n}\r\n}\r\nmmc0_data = *data;\r\nplatform_device_register(&at91sam9g45_mmc0_device);\r\n} else {\r\nat91_set_A_periph(AT91_PIN_PA31, 0);\r\nat91_set_A_periph(AT91_PIN_PA22, 1);\r\nat91_set_A_periph(AT91_PIN_PA23, 1);\r\nif (data->slot[0].bus_width == 4) {\r\nat91_set_A_periph(AT91_PIN_PA24, 1);\r\nat91_set_A_periph(AT91_PIN_PA25, 1);\r\nat91_set_A_periph(AT91_PIN_PA26, 1);\r\nif (data->slot[0].bus_width == 8) {\r\nat91_set_A_periph(AT91_PIN_PA27, 1);\r\nat91_set_A_periph(AT91_PIN_PA28, 1);\r\nat91_set_A_periph(AT91_PIN_PA29, 1);\r\nat91_set_A_periph(AT91_PIN_PA30, 1);\r\n}\r\n}\r\nmmc1_data = *data;\r\nplatform_device_register(&at91sam9g45_mmc1_device);\r\n}\r\n}\r\nvoid __init at91_add_device_mci(short mmc_id, struct mci_platform_data *data) {}\r\nvoid __init at91_add_device_nand(struct atmel_nand_data *data)\r\n{\r\nunsigned long csa;\r\nif (!data)\r\nreturn;\r\ncsa = at91_sys_read(AT91_MATRIX_EBICSA);\r\nat91_sys_write(AT91_MATRIX_EBICSA, csa | AT91_MATRIX_EBI_CS3A_SMC_SMARTMEDIA);\r\nif (data->enable_pin)\r\nat91_set_gpio_output(data->enable_pin, 1);\r\nif (data->rdy_pin)\r\nat91_set_gpio_input(data->rdy_pin, 1);\r\nif (data->det_pin)\r\nat91_set_gpio_input(data->det_pin, 1);\r\nnand_data = *data;\r\nplatform_device_register(&at91sam9g45_nand_device);\r\n}\r\nvoid __init at91_add_device_nand(struct atmel_nand_data *data) {}\r\nvoid __init at91_add_device_i2c(short i2c_id, struct i2c_board_info *devices, int nr_devices)\r\n{\r\ni2c_register_board_info(i2c_id, devices, nr_devices);\r\nif (i2c_id == 0) {\r\nat91_set_GPIO_periph(AT91_PIN_PA20, 1);\r\nat91_set_multi_drive(AT91_PIN_PA20, 1);\r\nat91_set_GPIO_periph(AT91_PIN_PA21, 1);\r\nat91_set_multi_drive(AT91_PIN_PA21, 1);\r\nplatform_device_register(&at91sam9g45_twi0_device);\r\n} else {\r\nat91_set_GPIO_periph(AT91_PIN_PB10, 1);\r\nat91_set_multi_drive(AT91_PIN_PB10, 1);\r\nat91_set_GPIO_periph(AT91_PIN_PB11, 1);\r\nat91_set_multi_drive(AT91_PIN_PB11, 1);\r\nplatform_device_register(&at91sam9g45_twi1_device);\r\n}\r\n}\r\nvoid __init at91_add_device_i2c(short i2c_id, struct i2c_board_info *devices, int nr_devices)\r\n{\r\ni2c_register_board_info(i2c_id, devices, nr_devices);\r\nif (i2c_id == 0) {\r\nat91_set_A_periph(AT91_PIN_PA20, 0);\r\nat91_set_multi_drive(AT91_PIN_PA20, 1);\r\nat91_set_A_periph(AT91_PIN_PA21, 0);\r\nat91_set_multi_drive(AT91_PIN_PA21, 1);\r\nplatform_device_register(&at91sam9g45_twi0_device);\r\n} else {\r\nat91_set_A_periph(AT91_PIN_PB10, 0);\r\nat91_set_multi_drive(AT91_PIN_PB10, 1);\r\nat91_set_A_periph(AT91_PIN_PB11, 0);\r\nat91_set_multi_drive(AT91_PIN_PB11, 1);\r\nplatform_device_register(&at91sam9g45_twi1_device);\r\n}\r\n}\r\nvoid __init at91_add_device_i2c(short i2c_id, struct i2c_board_info *devices, int nr_devices) {}\r\nvoid __init at91_add_device_spi(struct spi_board_info *devices, int nr_devices)\r\n{\r\nint i;\r\nunsigned long cs_pin;\r\nshort enable_spi0 = 0;\r\nshort enable_spi1 = 0;\r\nfor (i = 0; i < nr_devices; i++) {\r\nif (devices[i].controller_data)\r\ncs_pin = (unsigned long) devices[i].controller_data;\r\nelse if (devices[i].bus_num == 0)\r\ncs_pin = spi0_standard_cs[devices[i].chip_select];\r\nelse\r\ncs_pin = spi1_standard_cs[devices[i].chip_select];\r\nif (devices[i].bus_num == 0)\r\nenable_spi0 = 1;\r\nelse\r\nenable_spi1 = 1;\r\nat91_set_gpio_output(cs_pin, 1);\r\ndevices[i].controller_data = (void *) cs_pin;\r\n}\r\nspi_register_board_info(devices, nr_devices);\r\nif (enable_spi0) {\r\nat91_set_A_periph(AT91_PIN_PB0, 0);\r\nat91_set_A_periph(AT91_PIN_PB1, 0);\r\nat91_set_A_periph(AT91_PIN_PB2, 0);\r\nplatform_device_register(&at91sam9g45_spi0_device);\r\n}\r\nif (enable_spi1) {\r\nat91_set_A_periph(AT91_PIN_PB14, 0);\r\nat91_set_A_periph(AT91_PIN_PB15, 0);\r\nat91_set_A_periph(AT91_PIN_PB16, 0);\r\nplatform_device_register(&at91sam9g45_spi1_device);\r\n}\r\n}\r\nvoid __init at91_add_device_spi(struct spi_board_info *devices, int nr_devices) {}\r\nvoid __init at91_add_device_ac97(struct ac97c_platform_data *data)\r\n{\r\nif (!data)\r\nreturn;\r\nat91_set_A_periph(AT91_PIN_PD8, 0);\r\nat91_set_A_periph(AT91_PIN_PD9, 0);\r\nat91_set_A_periph(AT91_PIN_PD7, 0);\r\nat91_set_A_periph(AT91_PIN_PD6, 0);\r\nif (data->reset_pin)\r\nat91_set_gpio_output(data->reset_pin, 0);\r\nac97_data = *data;\r\nplatform_device_register(&at91sam9g45_ac97_device);\r\n}\r\nvoid __init at91_add_device_ac97(struct ac97c_platform_data *data) {}\r\nvoid __init at91_add_device_lcdc(struct atmel_lcdfb_info *data)\r\n{\r\nif (!data)\r\nreturn;\r\nat91_set_A_periph(AT91_PIN_PE0, 0);\r\nat91_set_A_periph(AT91_PIN_PE2, 0);\r\nat91_set_A_periph(AT91_PIN_PE3, 0);\r\nat91_set_A_periph(AT91_PIN_PE4, 0);\r\nat91_set_A_periph(AT91_PIN_PE5, 0);\r\nat91_set_A_periph(AT91_PIN_PE6, 0);\r\nat91_set_A_periph(AT91_PIN_PE7, 0);\r\nat91_set_A_periph(AT91_PIN_PE8, 0);\r\nat91_set_A_periph(AT91_PIN_PE9, 0);\r\nat91_set_A_periph(AT91_PIN_PE10, 0);\r\nat91_set_A_periph(AT91_PIN_PE11, 0);\r\nat91_set_A_periph(AT91_PIN_PE12, 0);\r\nat91_set_A_periph(AT91_PIN_PE13, 0);\r\nat91_set_A_periph(AT91_PIN_PE14, 0);\r\nat91_set_A_periph(AT91_PIN_PE15, 0);\r\nat91_set_A_periph(AT91_PIN_PE16, 0);\r\nat91_set_A_periph(AT91_PIN_PE17, 0);\r\nat91_set_A_periph(AT91_PIN_PE18, 0);\r\nat91_set_A_periph(AT91_PIN_PE19, 0);\r\nat91_set_A_periph(AT91_PIN_PE20, 0);\r\nat91_set_A_periph(AT91_PIN_PE21, 0);\r\nat91_set_A_periph(AT91_PIN_PE22, 0);\r\nat91_set_A_periph(AT91_PIN_PE23, 0);\r\nat91_set_A_periph(AT91_PIN_PE24, 0);\r\nat91_set_A_periph(AT91_PIN_PE25, 0);\r\nat91_set_A_periph(AT91_PIN_PE26, 0);\r\nat91_set_A_periph(AT91_PIN_PE27, 0);\r\nat91_set_A_periph(AT91_PIN_PE28, 0);\r\nat91_set_A_periph(AT91_PIN_PE29, 0);\r\nat91_set_A_periph(AT91_PIN_PE30, 0);\r\nlcdc_data = *data;\r\nplatform_device_register(&at91_lcdc_device);\r\n}\r\nvoid __init at91_add_device_lcdc(struct atmel_lcdfb_info *data) {}\r\nstatic void __init at91_add_device_tc(void)\r\n{\r\nplatform_device_register(&at91sam9g45_tcb0_device);\r\nplatform_device_register(&at91sam9g45_tcb1_device);\r\n}\r\nstatic void __init at91_add_device_tc(void) { }\r\nstatic void __init at91_add_device_rtc(void)\r\n{\r\nplatform_device_register(&at91sam9g45_rtc_device);\r\n}\r\nstatic void __init at91_add_device_rtc(void) {}\r\nvoid __init at91_add_device_tsadcc(struct at91_tsadcc_data *data)\r\n{\r\nif (!data)\r\nreturn;\r\nat91_set_gpio_input(AT91_PIN_PD20, 0);\r\nat91_set_gpio_input(AT91_PIN_PD21, 0);\r\nat91_set_gpio_input(AT91_PIN_PD22, 0);\r\nat91_set_gpio_input(AT91_PIN_PD23, 0);\r\ntsadcc_data = *data;\r\nplatform_device_register(&at91sam9g45_tsadcc_device);\r\n}\r\nvoid __init at91_add_device_tsadcc(struct at91_tsadcc_data *data) {}\r\nstatic void __init at91_add_device_rtt(void)\r\n{\r\nplatform_device_register(&at91sam9g45_rtt_device);\r\n}\r\nstatic void __init at91_add_device_watchdog(void)\r\n{\r\nplatform_device_register(&at91sam9g45_wdt_device);\r\n}\r\nstatic void __init at91_add_device_watchdog(void) {}\r\nvoid __init at91_add_device_pwm(u32 mask)\r\n{\r\nif (mask & (1 << AT91_PWM0))\r\nat91_set_B_periph(AT91_PIN_PD24, 1);\r\nif (mask & (1 << AT91_PWM1))\r\nat91_set_B_periph(AT91_PIN_PD31, 1);\r\nif (mask & (1 << AT91_PWM2))\r\nat91_set_B_periph(AT91_PIN_PD26, 1);\r\nif (mask & (1 << AT91_PWM3))\r\nat91_set_B_periph(AT91_PIN_PD0, 1);\r\npwm_mask = mask;\r\nplatform_device_register(&at91sam9g45_pwm0_device);\r\n}\r\nvoid __init at91_add_device_pwm(u32 mask) {}\r\nstatic inline void configure_ssc0_pins(unsigned pins)\r\n{\r\nif (pins & ATMEL_SSC_TF)\r\nat91_set_A_periph(AT91_PIN_PD1, 1);\r\nif (pins & ATMEL_SSC_TK)\r\nat91_set_A_periph(AT91_PIN_PD0, 1);\r\nif (pins & ATMEL_SSC_TD)\r\nat91_set_A_periph(AT91_PIN_PD2, 1);\r\nif (pins & ATMEL_SSC_RD)\r\nat91_set_A_periph(AT91_PIN_PD3, 1);\r\nif (pins & ATMEL_SSC_RK)\r\nat91_set_A_periph(AT91_PIN_PD4, 1);\r\nif (pins & ATMEL_SSC_RF)\r\nat91_set_A_periph(AT91_PIN_PD5, 1);\r\n}\r\nstatic inline void configure_ssc1_pins(unsigned pins)\r\n{\r\nif (pins & ATMEL_SSC_TF)\r\nat91_set_A_periph(AT91_PIN_PD14, 1);\r\nif (pins & ATMEL_SSC_TK)\r\nat91_set_A_periph(AT91_PIN_PD12, 1);\r\nif (pins & ATMEL_SSC_TD)\r\nat91_set_A_periph(AT91_PIN_PD10, 1);\r\nif (pins & ATMEL_SSC_RD)\r\nat91_set_A_periph(AT91_PIN_PD11, 1);\r\nif (pins & ATMEL_SSC_RK)\r\nat91_set_A_periph(AT91_PIN_PD13, 1);\r\nif (pins & ATMEL_SSC_RF)\r\nat91_set_A_periph(AT91_PIN_PD15, 1);\r\n}\r\nvoid __init at91_add_device_ssc(unsigned id, unsigned pins)\r\n{\r\nstruct platform_device *pdev;\r\nswitch (id) {\r\ncase AT91SAM9G45_ID_SSC0:\r\npdev = &at91sam9g45_ssc0_device;\r\nconfigure_ssc0_pins(pins);\r\nbreak;\r\ncase AT91SAM9G45_ID_SSC1:\r\npdev = &at91sam9g45_ssc1_device;\r\nconfigure_ssc1_pins(pins);\r\nbreak;\r\ndefault:\r\nreturn;\r\n}\r\nplatform_device_register(pdev);\r\n}\r\nvoid __init at91_add_device_ssc(unsigned id, unsigned pins) {}\r\nstatic inline void configure_dbgu_pins(void)\r\n{\r\nat91_set_A_periph(AT91_PIN_PB12, 0);\r\nat91_set_A_periph(AT91_PIN_PB13, 1);\r\n}\r\nstatic inline void configure_usart0_pins(unsigned pins)\r\n{\r\nat91_set_A_periph(AT91_PIN_PB19, 1);\r\nat91_set_A_periph(AT91_PIN_PB18, 0);\r\nif (pins & ATMEL_UART_RTS)\r\nat91_set_B_periph(AT91_PIN_PB17, 0);\r\nif (pins & ATMEL_UART_CTS)\r\nat91_set_B_periph(AT91_PIN_PB15, 0);\r\n}\r\nstatic inline void configure_usart1_pins(unsigned pins)\r\n{\r\nat91_set_A_periph(AT91_PIN_PB4, 1);\r\nat91_set_A_periph(AT91_PIN_PB5, 0);\r\nif (pins & ATMEL_UART_RTS)\r\nat91_set_A_periph(AT91_PIN_PD16, 0);\r\nif (pins & ATMEL_UART_CTS)\r\nat91_set_A_periph(AT91_PIN_PD17, 0);\r\n}\r\nstatic inline void configure_usart2_pins(unsigned pins)\r\n{\r\nat91_set_A_periph(AT91_PIN_PB6, 1);\r\nat91_set_A_periph(AT91_PIN_PB7, 0);\r\nif (pins & ATMEL_UART_RTS)\r\nat91_set_B_periph(AT91_PIN_PC9, 0);\r\nif (pins & ATMEL_UART_CTS)\r\nat91_set_B_periph(AT91_PIN_PC11, 0);\r\n}\r\nstatic inline void configure_usart3_pins(unsigned pins)\r\n{\r\nat91_set_A_periph(AT91_PIN_PB8, 1);\r\nat91_set_A_periph(AT91_PIN_PB9, 0);\r\nif (pins & ATMEL_UART_RTS)\r\nat91_set_B_periph(AT91_PIN_PA23, 0);\r\nif (pins & ATMEL_UART_CTS)\r\nat91_set_B_periph(AT91_PIN_PA24, 0);\r\n}\r\nvoid __init at91_register_uart(unsigned id, unsigned portnr, unsigned pins)\r\n{\r\nstruct platform_device *pdev;\r\nstruct atmel_uart_data *pdata;\r\nswitch (id) {\r\ncase 0:\r\npdev = &at91sam9g45_dbgu_device;\r\nconfigure_dbgu_pins();\r\nbreak;\r\ncase AT91SAM9G45_ID_US0:\r\npdev = &at91sam9g45_uart0_device;\r\nconfigure_usart0_pins(pins);\r\nbreak;\r\ncase AT91SAM9G45_ID_US1:\r\npdev = &at91sam9g45_uart1_device;\r\nconfigure_usart1_pins(pins);\r\nbreak;\r\ncase AT91SAM9G45_ID_US2:\r\npdev = &at91sam9g45_uart2_device;\r\nconfigure_usart2_pins(pins);\r\nbreak;\r\ncase AT91SAM9G45_ID_US3:\r\npdev = &at91sam9g45_uart3_device;\r\nconfigure_usart3_pins(pins);\r\nbreak;\r\ndefault:\r\nreturn;\r\n}\r\npdata = pdev->dev.platform_data;\r\npdata->num = portnr;\r\nif (portnr < ATMEL_MAX_UART)\r\nat91_uarts[portnr] = pdev;\r\n}\r\nvoid __init at91_set_serial_console(unsigned portnr)\r\n{\r\nif (portnr < ATMEL_MAX_UART) {\r\natmel_default_console_device = at91_uarts[portnr];\r\nat91sam9g45_set_console_clock(at91_uarts[portnr]->id);\r\n}\r\n}\r\nvoid __init at91_add_device_serial(void)\r\n{\r\nint i;\r\nfor (i = 0; i < ATMEL_MAX_UART; i++) {\r\nif (at91_uarts[i])\r\nplatform_device_register(at91_uarts[i]);\r\n}\r\nif (!atmel_default_console_device)\r\nprintk(KERN_INFO "AT91: No default serial console defined.\n");\r\n}\r\nvoid __init at91_register_uart(unsigned id, unsigned portnr, unsigned pins) {}\r\nvoid __init at91_set_serial_console(unsigned portnr) {}\r\nvoid __init at91_add_device_serial(void) {}\r\nstatic int __init at91_add_standard_devices(void)\r\n{\r\nat91_add_device_hdmac();\r\nat91_add_device_rtc();\r\nat91_add_device_rtt();\r\nat91_add_device_watchdog();\r\nat91_add_device_tc();\r\nreturn 0;\r\n}
