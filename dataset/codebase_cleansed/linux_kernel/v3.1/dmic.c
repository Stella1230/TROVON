static int dmic_probe(struct snd_soc_codec *codec)\r\n{\r\nstruct snd_soc_dapm_context *dapm = &codec->dapm;\r\nsnd_soc_dapm_new_controls(dapm, dmic_dapm_widgets,\r\nARRAY_SIZE(dmic_dapm_widgets));\r\nsnd_soc_dapm_add_routes(dapm, intercon, ARRAY_SIZE(intercon));\r\nsnd_soc_dapm_new_widgets(dapm);\r\nreturn 0;\r\n}\r\nstatic int __devinit dmic_dev_probe(struct platform_device *pdev)\r\n{\r\nreturn snd_soc_register_codec(&pdev->dev,\r\n&soc_dmic, &dmic_dai, 1);\r\n}\r\nstatic int __devexit dmic_dev_remove(struct platform_device *pdev)\r\n{\r\nsnd_soc_unregister_codec(&pdev->dev);\r\nreturn 0;\r\n}\r\nstatic int __init dmic_init(void)\r\n{\r\nreturn platform_driver_register(&dmic_driver);\r\n}\r\nstatic void __exit dmic_exit(void)\r\n{\r\nplatform_driver_unregister(&dmic_driver);\r\n}
