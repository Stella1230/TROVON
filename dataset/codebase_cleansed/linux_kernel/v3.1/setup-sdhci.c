void s3c2416_setup_sdhci_cfg_card(struct platform_device *dev,\r\nvoid __iomem *r,\r\nstruct mmc_ios *ios,\r\nstruct mmc_card *card)\r\n{\r\nu32 ctrl2, ctrl3;\r\nctrl2 = __raw_readl(r + S3C_SDHCI_CONTROL2);\r\nctrl2 &= S3C_SDHCI_CTRL2_SELBASECLK_MASK;\r\nctrl2 |= (S3C64XX_SDHCI_CTRL2_ENSTAASYNCCLR |\r\nS3C64XX_SDHCI_CTRL2_ENCMDCNFMSK |\r\nS3C_SDHCI_CTRL2_ENFBCLKRX |\r\nS3C_SDHCI_CTRL2_DFCNT_NONE |\r\nS3C_SDHCI_CTRL2_ENCLKOUTHOLD);\r\nif (ios->clock < 25 * 1000000)\r\nctrl3 = (S3C_SDHCI_CTRL3_FCSEL3 |\r\nS3C_SDHCI_CTRL3_FCSEL2 |\r\nS3C_SDHCI_CTRL3_FCSEL1 |\r\nS3C_SDHCI_CTRL3_FCSEL0);\r\nelse\r\nctrl3 = (S3C_SDHCI_CTRL3_FCSEL1 | S3C_SDHCI_CTRL3_FCSEL0);\r\n__raw_writel(ctrl2, r + S3C_SDHCI_CONTROL2);\r\n__raw_writel(ctrl3, r + S3C_SDHCI_CONTROL3);\r\n}
