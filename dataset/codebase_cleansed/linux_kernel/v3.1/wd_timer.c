int omap2_wd_timer_disable(struct omap_hwmod *oh)\r\n{\r\nvoid __iomem *base;\r\nif (!oh) {\r\npr_err("%s: Could not look up wdtimer_hwmod\n", __func__);\r\nreturn -EINVAL;\r\n}\r\nbase = omap_hwmod_get_mpu_rt_va(oh);\r\nif (!base) {\r\npr_err("%s: Could not get the base address for %s\n",\r\noh->name, __func__);\r\nreturn -EINVAL;\r\n}\r\n__raw_writel(0xAAAA, base + OMAP_WDT_SPR);\r\nwhile (__raw_readl(base + OMAP_WDT_WPS) & 0x10)\r\ncpu_relax();\r\n__raw_writel(0x5555, base + OMAP_WDT_SPR);\r\nwhile (__raw_readl(base + OMAP_WDT_WPS) & 0x10)\r\ncpu_relax();\r\nreturn 0;\r\n}
