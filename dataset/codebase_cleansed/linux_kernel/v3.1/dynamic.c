unsigned int create_irq_nr(unsigned int irq_want, int node)\r\n{\r\nint irq = irq_alloc_desc_at(irq_want, node);\r\nif (irq < 0)\r\nreturn 0;\r\nactivate_irq(irq);\r\nreturn irq;\r\n}\r\nint create_irq(void)\r\n{\r\nint irq = irq_alloc_desc(numa_node_id());\r\nif (irq >= 0)\r\nactivate_irq(irq);\r\nreturn irq;\r\n}\r\nvoid destroy_irq(unsigned int irq)\r\n{\r\nirq_free_desc(irq);\r\n}\r\nvoid reserve_intc_vectors(struct intc_vect *vectors, unsigned int nr_vecs)\r\n{\r\nint i;\r\nfor (i = 0; i < nr_vecs; i++)\r\nirq_reserve_irq(evt2irq(vectors[i].vect));\r\n}
