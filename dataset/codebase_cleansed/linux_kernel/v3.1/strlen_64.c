size_t strlen(const char *s)\r\n{\r\nconst uintptr_t s_int = (uintptr_t) s;\r\nconst uint64_t *p = (const uint64_t *)(s_int & -8);\r\nuint64_t v = *p | ((1ULL << (s_int << 3)) - 1);\r\nuint64_t bits;\r\nwhile ((bits = __insn_v1cmpeqi(v, 0)) == 0)\r\nv = *++p;\r\nreturn ((const char *)p) + (__insn_ctz(bits) >> 3) - s;\r\n}
