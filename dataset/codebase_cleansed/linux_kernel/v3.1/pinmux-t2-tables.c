static inline unsigned long pg_readl(unsigned long offset)\r\n{\r\nreturn readl(IO_TO_VIRT(TEGRA_APB_MISC_BASE + offset));\r\n}\r\nstatic inline void pg_writel(unsigned long value, unsigned long offset)\r\n{\r\nwritel(value, IO_TO_VIRT(TEGRA_APB_MISC_BASE + offset));\r\n}\r\nvoid tegra_pinmux_suspend(void)\r\n{\r\nunsigned int i;\r\nu32 *ctx = pinmux_reg;\r\nfor (i = 0; i < PIN_MUX_CTL_REG_NUM; i++)\r\n*ctx++ = pg_readl(PIN_MUX_CTL_REG_A + i*4);\r\nfor (i = 0; i < PULLUPDOWN_REG_NUM; i++)\r\n*ctx++ = pg_readl(PULLUPDOWN_REG_A + i*4);\r\nfor (i = 0; i < TRISTATE_REG_NUM; i++)\r\n*ctx++ = pg_readl(TRISTATE_REG_A + i*4);\r\nfor (i = 0; i < ARRAY_SIZE(tegra_soc_drive_pingroups); i++)\r\n*ctx++ = pg_readl(tegra_soc_drive_pingroups[i].reg);\r\n}\r\nvoid tegra_pinmux_resume(void)\r\n{\r\nunsigned int i;\r\nu32 *ctx = pinmux_reg;\r\nfor (i = 0; i < PIN_MUX_CTL_REG_NUM; i++)\r\npg_writel(*ctx++, PIN_MUX_CTL_REG_A + i*4);\r\nfor (i = 0; i < PULLUPDOWN_REG_NUM; i++)\r\npg_writel(*ctx++, PULLUPDOWN_REG_A + i*4);\r\nfor (i = 0; i < TRISTATE_REG_NUM; i++)\r\npg_writel(*ctx++, TRISTATE_REG_A + i*4);\r\nfor (i = 0; i < ARRAY_SIZE(tegra_soc_drive_pingroups); i++)\r\npg_writel(*ctx++, tegra_soc_drive_pingroups[i].reg);\r\n}
