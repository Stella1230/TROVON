int platform_cpu_kill(unsigned int cpu)\r\n{\r\nreturn 1;\r\n}\r\nvoid platform_cpu_die(unsigned int cpu)\r\n{\r\nflush_cache_all();\r\ndsb();\r\nif (omap_modify_auxcoreboot0(0x0, 0x200) != 0x0)\r\nprintk(KERN_CRIT "Secure clear status failed\n");\r\nfor (;;) {\r\ndo_wfi();\r\nif (omap_read_auxcoreboot0() == cpu) {\r\nbreak;\r\n}\r\npr_debug("CPU%u: spurious wakeup call\n", cpu);\r\n}\r\n}\r\nint platform_cpu_disable(unsigned int cpu)\r\n{\r\nreturn cpu == 0 ? -EPERM : 0;\r\n}
