static void hp_t5325_power_off(void)\r\n{\r\ngpio_set_value(HP_T5325_GPIO_POWER_OFF, 1);\r\n}\r\nstatic void __init hp_t5325_init(void)\r\n{\r\nkirkwood_init();\r\nkirkwood_mpp_conf(hp_t5325_mpp_config);\r\nkirkwood_uart0_init();\r\nspi_register_board_info(hp_t5325_spi_slave_info,\r\nARRAY_SIZE(hp_t5325_spi_slave_info));\r\nkirkwood_spi_init();\r\nkirkwood_i2c_init();\r\nkirkwood_ge00_init(&hp_t5325_ge00_data);\r\nkirkwood_sata_init(&hp_t5325_sata_data);\r\nkirkwood_ehci_init();\r\nplatform_device_register(&hp_t5325_button_device);\r\ni2c_register_board_info(0, i2c_board_info, ARRAY_SIZE(i2c_board_info));\r\nkirkwood_audio_init();\r\nif (gpio_request(HP_T5325_GPIO_POWER_OFF, "power-off") == 0 &&\r\ngpio_direction_output(HP_T5325_GPIO_POWER_OFF, 0) == 0)\r\npm_power_off = hp_t5325_power_off;\r\nelse\r\npr_err("t5325: failed to configure power-off GPIO\n");\r\n}\r\nstatic int __init hp_t5325_pci_init(void)\r\n{\r\nif (machine_is_t5325())\r\nkirkwood_pcie_init(KW_PCIE0);\r\nreturn 0;\r\n}
