void dm644x_set_vpfe_config(struct vpfe_config *cfg)\r\n{\r\nvpfe_capture_dev.dev.platform_data = cfg;\r\n}\r\nvoid __init dm644x_init_asp(struct snd_platform_data *pdata)\r\n{\r\ndavinci_cfg_reg(DM644X_MCBSP);\r\ndm644x_asp_device.dev.platform_data = pdata;\r\nplatform_device_register(&dm644x_asp_device);\r\n}\r\nvoid __init dm644x_init(void)\r\n{\r\ndavinci_common_init(&davinci_soc_info_dm644x);\r\n}\r\nstatic int __init dm644x_init_devices(void)\r\n{\r\nif (!cpu_is_davinci_dm644x())\r\nreturn 0;\r\nclk_add_alias("master", dm644x_ccdc_dev.name, "vpss_master", NULL);\r\nclk_add_alias("slave", dm644x_ccdc_dev.name, "vpss_slave", NULL);\r\nplatform_device_register(&dm644x_edma_device);\r\nplatform_device_register(&dm644x_mdio_device);\r\nplatform_device_register(&dm644x_emac_device);\r\nclk_add_alias(NULL, dev_name(&dm644x_mdio_device.dev),\r\nNULL, &dm644x_emac_device.dev);\r\nplatform_device_register(&dm644x_vpss_device);\r\nplatform_device_register(&dm644x_ccdc_dev);\r\nplatform_device_register(&vpfe_capture_dev);\r\nreturn 0;\r\n}
