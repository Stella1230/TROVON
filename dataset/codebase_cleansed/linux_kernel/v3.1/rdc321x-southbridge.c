static int __devinit rdc321x_sb_probe(struct pci_dev *pdev,\r\nconst struct pci_device_id *ent)\r\n{\r\nint err;\r\nerr = pci_enable_device(pdev);\r\nif (err) {\r\ndev_err(&pdev->dev, "failed to enable device\n");\r\nreturn err;\r\n}\r\nrdc321x_gpio_pdata.sb_pdev = pdev;\r\nrdc321x_wdt_pdata.sb_pdev = pdev;\r\nreturn mfd_add_devices(&pdev->dev, -1,\r\nrdc321x_sb_cells, ARRAY_SIZE(rdc321x_sb_cells), NULL, 0);\r\n}\r\nstatic void __devexit rdc321x_sb_remove(struct pci_dev *pdev)\r\n{\r\nmfd_remove_devices(&pdev->dev);\r\n}\r\nstatic int __init rdc321x_sb_init(void)\r\n{\r\nreturn pci_register_driver(&rdc321x_sb_driver);\r\n}\r\nstatic void __exit rdc321x_sb_exit(void)\r\n{\r\npci_unregister_driver(&rdc321x_sb_driver);\r\n}
