static ssize_t\r\nqla4xxx_fw_version_show(struct device *dev,\r\nstruct device_attribute *attr, char *buf)\r\n{\r\nstruct scsi_qla_host *ha = to_qla_host(class_to_shost(dev));\r\nif (is_qla8022(ha))\r\nreturn snprintf(buf, PAGE_SIZE, "%d.%02d.%02d (%x)\n",\r\nha->firmware_version[0],\r\nha->firmware_version[1],\r\nha->patch_number, ha->build_number);\r\nelse\r\nreturn snprintf(buf, PAGE_SIZE, "%d.%02d.%02d.%02d\n",\r\nha->firmware_version[0],\r\nha->firmware_version[1],\r\nha->patch_number, ha->build_number);\r\n}\r\nstatic ssize_t\r\nqla4xxx_serial_num_show(struct device *dev, struct device_attribute *attr,\r\nchar *buf)\r\n{\r\nstruct scsi_qla_host *ha = to_qla_host(class_to_shost(dev));\r\nreturn snprintf(buf, PAGE_SIZE, "%s\n", ha->serial_number);\r\n}\r\nstatic ssize_t\r\nqla4xxx_iscsi_version_show(struct device *dev, struct device_attribute *attr,\r\nchar *buf)\r\n{\r\nstruct scsi_qla_host *ha = to_qla_host(class_to_shost(dev));\r\nreturn snprintf(buf, PAGE_SIZE, "%d.%02d\n", ha->iscsi_major,\r\nha->iscsi_minor);\r\n}\r\nstatic ssize_t\r\nqla4xxx_optrom_version_show(struct device *dev, struct device_attribute *attr,\r\nchar *buf)\r\n{\r\nstruct scsi_qla_host *ha = to_qla_host(class_to_shost(dev));\r\nreturn snprintf(buf, PAGE_SIZE, "%d.%02d.%02d.%02d\n",\r\nha->bootload_major, ha->bootload_minor,\r\nha->bootload_patch, ha->bootload_build);\r\n}
