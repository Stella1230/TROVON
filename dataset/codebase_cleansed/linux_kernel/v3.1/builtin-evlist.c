static int __cmd_evlist(void)\r\n{\r\nstruct perf_session *session;\r\nstruct perf_evsel *pos;\r\nsession = perf_session__new(input_name, O_RDONLY, 0, false, NULL);\r\nif (session == NULL)\r\nreturn -ENOMEM;\r\nlist_for_each_entry(pos, &session->evlist->entries, node)\r\nprintf("%s\n", event_name(pos));\r\nperf_session__delete(session);\r\nreturn 0;\r\n}\r\nint cmd_evlist(int argc, const char **argv, const char *prefix __used)\r\n{\r\nargc = parse_options(argc, argv, options, evlist_usage, 0);\r\nif (argc)\r\nusage_with_options(evlist_usage, options);\r\nreturn __cmd_evlist();\r\n}
