static void intcs_demux(unsigned int irq, struct irq_desc *desc)\r\n{\r\nvoid __iomem *reg = (void *)irq_get_handler_data(irq);\r\nunsigned int evtcodeas = ioread32(reg);\r\ngeneric_handle_irq(intcs_evt2irq(evtcodeas));\r\n}\r\nvoid __init sh7367_init_irq(void)\r\n{\r\nvoid __iomem *intevtsa = ioremap_nocache(0xffd20100, PAGE_SIZE);\r\nregister_intc_controller(&intca_desc);\r\nregister_intc_controller(&intcs_desc);\r\nirq_set_handler_data(evt2irq(0xf80), (void *)intevtsa);\r\nirq_set_chained_handler(evt2irq(0xf80), intcs_demux);\r\n}
