void __init mx35_read_cpu_rev(void)\r\n{\r\nu32 rev;\r\nchar *srev;\r\nrev = __raw_readl(MX35_IO_ADDRESS(MX35_IIM_BASE_ADDR + MXC_IIMSREV));\r\nswitch (rev) {\r\ncase 0x00:\r\nmx35_cpu_rev = IMX_CHIP_REVISION_1_0;\r\nsrev = "1.0";\r\nbreak;\r\ncase 0x10:\r\nmx35_cpu_rev = IMX_CHIP_REVISION_2_0;\r\nsrev = "2.0";\r\nbreak;\r\ncase 0x11:\r\nmx35_cpu_rev = IMX_CHIP_REVISION_2_1;\r\nsrev = "2.1";\r\nbreak;\r\ndefault:\r\nmx35_cpu_rev = IMX_CHIP_REVISION_UNKNOWN;\r\nsrev = "unknown";\r\n}\r\nprintk(KERN_INFO "CPU identified as i.MX35, silicon rev %s\n", srev);\r\n}
