ieee754dp ieee754dp_dump(char *m, ieee754dp x)\r\n{\r\nint i;\r\nprintk("%s", m);\r\nprintk("<%08x,%08x>\n", (unsigned) (x.bits >> 32),\r\n(unsigned) x.bits);\r\nprintk("\t=");\r\nswitch (ieee754dp_class(x)) {\r\ncase IEEE754_CLASS_QNAN:\r\ncase IEEE754_CLASS_SNAN:\r\nprintk("Nan %c", DPSIGN(x) ? '-' : '+');\r\nfor (i = DP_FBITS - 1; i >= 0; i--)\r\nprintk("%c", DPMANT(x) & DP_MBIT(i) ? '1' : '0');\r\nbreak;\r\ncase IEEE754_CLASS_INF:\r\nprintk("%cInfinity", DPSIGN(x) ? '-' : '+');\r\nbreak;\r\ncase IEEE754_CLASS_ZERO:\r\nprintk("%cZero", DPSIGN(x) ? '-' : '+');\r\nbreak;\r\ncase IEEE754_CLASS_DNORM:\r\nprintk("%c0.", DPSIGN(x) ? '-' : '+');\r\nfor (i = DP_FBITS - 1; i >= 0; i--)\r\nprintk("%c", DPMANT(x) & DP_MBIT(i) ? '1' : '0');\r\nprintk("e%d", DPBEXP(x) - DP_EBIAS);\r\nbreak;\r\ncase IEEE754_CLASS_NORM:\r\nprintk("%c1.", DPSIGN(x) ? '-' : '+');\r\nfor (i = DP_FBITS - 1; i >= 0; i--)\r\nprintk("%c", DPMANT(x) & DP_MBIT(i) ? '1' : '0');\r\nprintk("e%d", DPBEXP(x) - DP_EBIAS);\r\nbreak;\r\ndefault:\r\nprintk("Illegal/Unknown IEEE754 value class");\r\n}\r\nprintk("\n");\r\nreturn x;\r\n}\r\nieee754sp ieee754sp_dump(char *m, ieee754sp x)\r\n{\r\nint i;\r\nprintk("%s=", m);\r\nprintk("<%08x>\n", (unsigned) x.bits);\r\nprintk("\t=");\r\nswitch (ieee754sp_class(x)) {\r\ncase IEEE754_CLASS_QNAN:\r\ncase IEEE754_CLASS_SNAN:\r\nprintk("Nan %c", SPSIGN(x) ? '-' : '+');\r\nfor (i = SP_FBITS - 1; i >= 0; i--)\r\nprintk("%c", SPMANT(x) & SP_MBIT(i) ? '1' : '0');\r\nbreak;\r\ncase IEEE754_CLASS_INF:\r\nprintk("%cInfinity", SPSIGN(x) ? '-' : '+');\r\nbreak;\r\ncase IEEE754_CLASS_ZERO:\r\nprintk("%cZero", SPSIGN(x) ? '-' : '+');\r\nbreak;\r\ncase IEEE754_CLASS_DNORM:\r\nprintk("%c0.", SPSIGN(x) ? '-' : '+');\r\nfor (i = SP_FBITS - 1; i >= 0; i--)\r\nprintk("%c", SPMANT(x) & SP_MBIT(i) ? '1' : '0');\r\nprintk("e%d", SPBEXP(x) - SP_EBIAS);\r\nbreak;\r\ncase IEEE754_CLASS_NORM:\r\nprintk("%c1.", SPSIGN(x) ? '-' : '+');\r\nfor (i = SP_FBITS - 1; i >= 0; i--)\r\nprintk("%c", SPMANT(x) & SP_MBIT(i) ? '1' : '0');\r\nprintk("e%d", SPBEXP(x) - SP_EBIAS);\r\nbreak;\r\ndefault:\r\nprintk("Illegal/Unknown IEEE754 value class");\r\n}\r\nprintk("\n");\r\nreturn x;\r\n}
