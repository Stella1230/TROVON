static void probe_subsys_event(void *ignore,\r\nstruct inode *inode, struct file *file)\r\n{\r\nprintk(KERN_INFO "Event is encountered with inode number %lu\n",\r\ninode->i_ino);\r\n}\r\nstatic int __init tp_sample_trace_init(void)\r\n{\r\nint ret;\r\nret = register_trace_subsys_event(probe_subsys_event, NULL);\r\nWARN_ON(ret);\r\nreturn 0;\r\n}\r\nstatic void __exit tp_sample_trace_exit(void)\r\n{\r\nunregister_trace_subsys_event(probe_subsys_event, NULL);\r\ntracepoint_synchronize_unregister();\r\n}
