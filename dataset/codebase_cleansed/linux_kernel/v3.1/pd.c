static int samsung_pd_probe(struct platform_device *pdev)\r\n{\r\nstruct samsung_pd_info *pdata = pdev->dev.platform_data;\r\nstruct device *dev = &pdev->dev;\r\nif (!pdata) {\r\ndev_err(dev, "no device data specified\n");\r\nreturn -ENOENT;\r\n}\r\npm_runtime_set_active(dev);\r\npm_runtime_enable(dev);\r\ndev_info(dev, "power domain registered\n");\r\nreturn 0;\r\n}\r\nstatic int __devexit samsung_pd_remove(struct platform_device *pdev)\r\n{\r\nstruct device *dev = &pdev->dev;\r\npm_runtime_disable(dev);\r\nreturn 0;\r\n}\r\nstatic int samsung_pd_runtime_suspend(struct device *dev)\r\n{\r\nstruct samsung_pd_info *pdata = dev->platform_data;\r\nint ret = 0;\r\nif (pdata->disable)\r\nret = pdata->disable(dev);\r\ndev_dbg(dev, "suspended\n");\r\nreturn ret;\r\n}\r\nstatic int samsung_pd_runtime_resume(struct device *dev)\r\n{\r\nstruct samsung_pd_info *pdata = dev->platform_data;\r\nint ret = 0;\r\nif (pdata->enable)\r\nret = pdata->enable(dev);\r\ndev_dbg(dev, "resumed\n");\r\nreturn ret;\r\n}\r\nstatic int __init samsung_pd_init(void)\r\n{\r\nint ret;\r\nret = platform_driver_register(&samsung_pd_driver);\r\nif (ret)\r\nprintk(KERN_ERR "%s: failed to add PD driver\n", __func__);\r\nreturn ret;\r\n}
