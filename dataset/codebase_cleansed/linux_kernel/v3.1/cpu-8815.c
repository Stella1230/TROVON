static int __init cpu8815_init(void)\r\n{\r\nint i;\r\nplatform_add_devices(platform_devs, ARRAY_SIZE(platform_devs));\r\nfor (i = 0; i < ARRAY_SIZE(amba_devs); i++)\r\namba_device_register(amba_devs[i], &iomem_resource);\r\nreturn 0;\r\n}\r\nvoid __init cpu8815_map_io(void)\r\n{\r\niotable_init(nomadik_io_desc, ARRAY_SIZE(nomadik_io_desc));\r\n}\r\nvoid __init cpu8815_init_irq(void)\r\n{\r\nvic_init(io_p2v(NOMADIK_IC_BASE + 0x00), IRQ_VIC_START + 0, ~0, 0);\r\nvic_init(io_p2v(NOMADIK_IC_BASE + 0x20), IRQ_VIC_START + 32, ~0, 0);\r\nclk_init();\r\n}\r\nvoid __init cpu8815_platform_init(void)\r\n{\r\n#ifdef CONFIG_CACHE_L2X0\r\nl2x0_init(io_p2v(NOMADIK_L2CC_BASE), 0x00730249, 0xfe000fff);\r\n#endif\r\nreturn;\r\n}
