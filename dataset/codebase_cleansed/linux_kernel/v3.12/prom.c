void __init ltq_soc_detect(struct ltq_soc_info *i)\r\n{\r\ni->partnum = (ltq_r32(LTQ_MPS_CHIPID) & PART_MASK) >> PART_SHIFT;\r\ni->rev = (ltq_r32(LTQ_MPS_CHIPID) & REV_MASK) >> REV_SHIFT;\r\nsprintf(i->rev_type, "1.%d", i->rev);\r\nswitch (i->partnum) {\r\ncase SOC_ID_DANUBE1:\r\ncase SOC_ID_DANUBE2:\r\ni->name = SOC_DANUBE;\r\ni->type = SOC_TYPE_DANUBE;\r\ni->compatible = COMP_DANUBE;\r\nbreak;\r\ncase SOC_ID_TWINPASS:\r\ni->name = SOC_TWINPASS;\r\ni->type = SOC_TYPE_DANUBE;\r\ni->compatible = COMP_TWINPASS;\r\nbreak;\r\ncase SOC_ID_ARX188:\r\ncase SOC_ID_ARX168_1:\r\ncase SOC_ID_ARX168_2:\r\ncase SOC_ID_ARX182:\r\ni->name = SOC_AR9;\r\ni->type = SOC_TYPE_AR9;\r\ni->compatible = COMP_AR9;\r\nbreak;\r\ncase SOC_ID_GRX188:\r\ncase SOC_ID_GRX168:\r\ni->name = SOC_GR9;\r\ni->type = SOC_TYPE_AR9;\r\ni->compatible = COMP_GR9;\r\nbreak;\r\ncase SOC_ID_AMAZON_SE_1:\r\ncase SOC_ID_AMAZON_SE_2:\r\n#ifdef CONFIG_PCI\r\npanic("ase is only supported for non pci kernels");\r\n#endif\r\ni->name = SOC_AMAZON_SE;\r\ni->type = SOC_TYPE_AMAZON_SE;\r\ni->compatible = COMP_AMAZON_SE;\r\nbreak;\r\ncase SOC_ID_VRX282:\r\ncase SOC_ID_VRX268:\r\ncase SOC_ID_VRX288:\r\ni->name = SOC_VR9;\r\ni->type = SOC_TYPE_VR9;\r\ni->compatible = COMP_VR9;\r\nbreak;\r\ncase SOC_ID_GRX268:\r\ncase SOC_ID_GRX288:\r\ni->name = SOC_GR9;\r\ni->type = SOC_TYPE_VR9;\r\ni->compatible = COMP_GR9;\r\nbreak;\r\ncase SOC_ID_VRX268_2:\r\ncase SOC_ID_VRX288_2:\r\ni->name = SOC_VR9;\r\ni->type = SOC_TYPE_VR9_2;\r\ni->compatible = COMP_VR9;\r\nbreak;\r\ncase SOC_ID_GRX282_2:\r\ncase SOC_ID_GRX288_2:\r\ni->name = SOC_GR9;\r\ni->type = SOC_TYPE_VR9_2;\r\ni->compatible = COMP_GR9;\r\nbreak;\r\ndefault:\r\nunreachable();\r\nbreak;\r\n}\r\n}
