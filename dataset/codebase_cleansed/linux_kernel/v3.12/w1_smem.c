static int __init w1_smem_init(void)\r\n{\r\nint err;\r\nerr = w1_register_family(&w1_smem_family_01);\r\nif (err)\r\nreturn err;\r\nerr = w1_register_family(&w1_smem_family_81);\r\nif (err) {\r\nw1_unregister_family(&w1_smem_family_01);\r\nreturn err;\r\n}\r\nreturn 0;\r\n}\r\nstatic void __exit w1_smem_fini(void)\r\n{\r\nw1_unregister_family(&w1_smem_family_01);\r\nw1_unregister_family(&w1_smem_family_81);\r\n}
