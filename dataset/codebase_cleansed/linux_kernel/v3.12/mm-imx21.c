void __init mx21_map_io(void)\r\n{\r\niotable_init(imx21_io_desc, ARRAY_SIZE(imx21_io_desc));\r\n}\r\nvoid __init imx21_init_early(void)\r\n{\r\nmxc_set_cpu_type(MXC_CPU_MX21);\r\nimx_iomuxv1_init(MX21_IO_ADDRESS(MX21_GPIO_BASE_ADDR),\r\nMX21_NUM_GPIO_PORT);\r\n}\r\nvoid __init mx21_init_irq(void)\r\n{\r\nmxc_init_irq(MX21_IO_ADDRESS(MX21_AVIC_BASE_ADDR));\r\n}\r\nvoid __init imx21_soc_init(void)\r\n{\r\nmxc_arch_reset_init(MX21_IO_ADDRESS(MX21_WDOG_BASE_ADDR));\r\nmxc_device_init();\r\nmxc_register_gpio("imx21-gpio", 0, MX21_GPIO1_BASE_ADDR, SZ_256, MX21_INT_GPIO, 0);\r\nmxc_register_gpio("imx21-gpio", 1, MX21_GPIO2_BASE_ADDR, SZ_256, MX21_INT_GPIO, 0);\r\nmxc_register_gpio("imx21-gpio", 2, MX21_GPIO3_BASE_ADDR, SZ_256, MX21_INT_GPIO, 0);\r\nmxc_register_gpio("imx21-gpio", 3, MX21_GPIO4_BASE_ADDR, SZ_256, MX21_INT_GPIO, 0);\r\nmxc_register_gpio("imx21-gpio", 4, MX21_GPIO5_BASE_ADDR, SZ_256, MX21_INT_GPIO, 0);\r\nmxc_register_gpio("imx21-gpio", 5, MX21_GPIO6_BASE_ADDR, SZ_256, MX21_INT_GPIO, 0);\r\npinctrl_provide_dummies();\r\nimx_add_imx_dma("imx21-dma", MX21_DMA_BASE_ADDR,\r\nMX21_INT_DMACH0, 0);\r\nplatform_device_register_simple("imx21-audmux", 0, imx21_audmux_res,\r\nARRAY_SIZE(imx21_audmux_res));\r\n}
