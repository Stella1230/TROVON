int ksocknal_tunables_init(void)\r\n{\r\nksocknal_tunables.ksnd_timeout = &sock_timeout;\r\nksocknal_tunables.ksnd_nscheds = &nscheds;\r\nksocknal_tunables.ksnd_nconnds = &nconnds;\r\nksocknal_tunables.ksnd_nconnds_max = &nconnds_max;\r\nksocknal_tunables.ksnd_min_reconnectms = &min_reconnectms;\r\nksocknal_tunables.ksnd_max_reconnectms = &max_reconnectms;\r\nksocknal_tunables.ksnd_eager_ack = &eager_ack;\r\nksocknal_tunables.ksnd_typed_conns = &typed_conns;\r\nksocknal_tunables.ksnd_min_bulk = &min_bulk;\r\nksocknal_tunables.ksnd_tx_buffer_size = &tx_buffer_size;\r\nksocknal_tunables.ksnd_rx_buffer_size = &rx_buffer_size;\r\nksocknal_tunables.ksnd_nagle = &nagle;\r\nksocknal_tunables.ksnd_round_robin = &round_robin;\r\nksocknal_tunables.ksnd_keepalive = &keepalive;\r\nksocknal_tunables.ksnd_keepalive_idle = &keepalive_idle;\r\nksocknal_tunables.ksnd_keepalive_count = &keepalive_count;\r\nksocknal_tunables.ksnd_keepalive_intvl = &keepalive_intvl;\r\nksocknal_tunables.ksnd_credits = &credits;\r\nksocknal_tunables.ksnd_peertxcredits = &peer_credits;\r\nksocknal_tunables.ksnd_peerrtrcredits = &peer_buffer_credits;\r\nksocknal_tunables.ksnd_peertimeout = &peer_timeout;\r\nksocknal_tunables.ksnd_enable_csum = &enable_csum;\r\nksocknal_tunables.ksnd_inject_csum_error = &inject_csum_error;\r\nksocknal_tunables.ksnd_nonblk_zcack = &nonblk_zcack;\r\nksocknal_tunables.ksnd_zc_min_payload = &zc_min_payload;\r\nksocknal_tunables.ksnd_zc_recv = &zc_recv;\r\nksocknal_tunables.ksnd_zc_recv_min_nfrags = &zc_recv_min_nfrags;\r\n#if SOCKNAL_VERSION_DEBUG\r\nksocknal_tunables.ksnd_protocol = &protocol;\r\n#endif\r\n#if defined(CONFIG_SYSCTL) && !CFS_SYSFS_MODULE_PARM\r\nksocknal_tunables.ksnd_sysctl = NULL;\r\n#endif\r\nif (*ksocknal_tunables.ksnd_zc_min_payload < (2 << 10))\r\n*ksocknal_tunables.ksnd_zc_min_payload = (2 << 10);\r\nreturn ksocknal_lib_tunables_init();\r\n}\r\nvoid ksocknal_tunables_fini(void)\r\n{\r\nksocknal_lib_tunables_fini();\r\n}
