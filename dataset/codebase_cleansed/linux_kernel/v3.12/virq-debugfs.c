static int intc_irq_xlate_debug(struct seq_file *m, void *priv)\r\n{\r\nint i;\r\nseq_printf(m, "%-5s %-7s %-15s\n", "irq", "enum", "chip name");\r\nfor (i = 1; i < nr_irqs; i++) {\r\nstruct intc_map_entry *entry = intc_irq_xlate_get(i);\r\nstruct intc_desc_int *desc = entry->desc;\r\nif (!desc)\r\ncontinue;\r\nseq_printf(m, "%5d ", i);\r\nseq_printf(m, "0x%05x ", entry->enum_id);\r\nseq_printf(m, "%-15s\n", desc->chip.name);\r\n}\r\nreturn 0;\r\n}\r\nstatic int intc_irq_xlate_open(struct inode *inode, struct file *file)\r\n{\r\nreturn single_open(file, intc_irq_xlate_debug, inode->i_private);\r\n}\r\nstatic int __init intc_irq_xlate_init(void)\r\n{\r\nif (debugfs_create_file("intc_irq_xlate", S_IRUGO, NULL, NULL,\r\n&intc_irq_xlate_fops) == NULL)\r\nreturn -ENOMEM;\r\nreturn 0;\r\n}
