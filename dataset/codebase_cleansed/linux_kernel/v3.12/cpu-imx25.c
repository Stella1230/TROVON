static int mx25_read_cpu_rev(void)\r\n{\r\nu32 rev;\r\nrev = __raw_readl(MX25_IO_ADDRESS(MX25_IIM_BASE_ADDR + MXC_IIMSREV));\r\nswitch (rev) {\r\ncase 0x00:\r\nreturn IMX_CHIP_REVISION_1_0;\r\ncase 0x01:\r\nreturn IMX_CHIP_REVISION_1_1;\r\ndefault:\r\nreturn IMX_CHIP_REVISION_UNKNOWN;\r\n}\r\n}\r\nint mx25_revision(void)\r\n{\r\nif (mx25_cpu_rev == -1)\r\nmx25_cpu_rev = mx25_read_cpu_rev();\r\nreturn mx25_cpu_rev;\r\n}
