static bool access_actlr(struct kvm_vcpu *vcpu,\r\nconst struct sys_reg_params *p,\r\nconst struct sys_reg_desc *r)\r\n{\r\nif (p->is_write)\r\nreturn ignore_write(vcpu, p);\r\n*vcpu_reg(vcpu, p->Rt) = vcpu_sys_reg(vcpu, ACTLR_EL1);\r\nreturn true;\r\n}\r\nstatic void reset_actlr(struct kvm_vcpu *vcpu, const struct sys_reg_desc *r)\r\n{\r\nu64 actlr;\r\nasm volatile("mrs %0, actlr_el1\n" : "=r" (actlr));\r\nvcpu_sys_reg(vcpu, ACTLR_EL1) = actlr;\r\n}\r\nstatic int __init sys_reg_genericv8_init(void)\r\n{\r\nunsigned int i;\r\nfor (i = 1; i < ARRAY_SIZE(genericv8_sys_regs); i++)\r\nBUG_ON(cmp_sys_reg(&genericv8_sys_regs[i-1],\r\n&genericv8_sys_regs[i]) >= 0);\r\nkvm_register_target_sys_reg_table(KVM_ARM_TARGET_AEM_V8,\r\n&genericv8_target_table);\r\nkvm_register_target_sys_reg_table(KVM_ARM_TARGET_FOUNDATION_V8,\r\n&genericv8_target_table);\r\nkvm_register_target_sys_reg_table(KVM_ARM_TARGET_CORTEX_A57,\r\n&genericv8_target_table);\r\nreturn 0;\r\n}
