static ssize_t amd64_hole_show(struct device *dev,\r\nstruct device_attribute *mattr,\r\nchar *data)\r\n{\r\nstruct mem_ctl_info *mci = to_mci(dev);\r\nu64 hole_base = 0;\r\nu64 hole_offset = 0;\r\nu64 hole_size = 0;\r\namd64_get_dram_hole_info(mci, &hole_base, &hole_offset, &hole_size);\r\nreturn sprintf(data, "%llx %llx %llx\n", hole_base, hole_offset,\r\nhole_size);\r\n}\r\nint amd64_create_sysfs_dbg_files(struct mem_ctl_info *mci)\r\n{\r\nint rc;\r\nrc = device_create_file(&mci->dev, &dev_attr_dhar);\r\nif (rc < 0)\r\nreturn rc;\r\nrc = device_create_file(&mci->dev, &dev_attr_dbam);\r\nif (rc < 0)\r\nreturn rc;\r\nrc = device_create_file(&mci->dev, &dev_attr_topmem);\r\nif (rc < 0)\r\nreturn rc;\r\nrc = device_create_file(&mci->dev, &dev_attr_topmem2);\r\nif (rc < 0)\r\nreturn rc;\r\nrc = device_create_file(&mci->dev, &dev_attr_dram_hole);\r\nif (rc < 0)\r\nreturn rc;\r\nreturn 0;\r\n}\r\nvoid amd64_remove_sysfs_dbg_files(struct mem_ctl_info *mci)\r\n{\r\ndevice_remove_file(&mci->dev, &dev_attr_dhar);\r\ndevice_remove_file(&mci->dev, &dev_attr_dbam);\r\ndevice_remove_file(&mci->dev, &dev_attr_topmem);\r\ndevice_remove_file(&mci->dev, &dev_attr_topmem2);\r\ndevice_remove_file(&mci->dev, &dev_attr_dram_hole);\r\n}
