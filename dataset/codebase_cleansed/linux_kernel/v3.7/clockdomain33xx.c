static int am33xx_clkdm_sleep(struct clockdomain *clkdm)\r\n{\r\nam33xx_cm_clkdm_force_sleep(clkdm->cm_inst, clkdm->clkdm_offs);\r\nreturn 0;\r\n}\r\nstatic int am33xx_clkdm_wakeup(struct clockdomain *clkdm)\r\n{\r\nam33xx_cm_clkdm_force_wakeup(clkdm->cm_inst, clkdm->clkdm_offs);\r\nreturn 0;\r\n}\r\nstatic void am33xx_clkdm_allow_idle(struct clockdomain *clkdm)\r\n{\r\nam33xx_cm_clkdm_enable_hwsup(clkdm->cm_inst, clkdm->clkdm_offs);\r\n}\r\nstatic void am33xx_clkdm_deny_idle(struct clockdomain *clkdm)\r\n{\r\nam33xx_cm_clkdm_disable_hwsup(clkdm->cm_inst, clkdm->clkdm_offs);\r\n}\r\nstatic int am33xx_clkdm_clk_enable(struct clockdomain *clkdm)\r\n{\r\nif (clkdm->flags & CLKDM_CAN_FORCE_WAKEUP)\r\nreturn am33xx_clkdm_wakeup(clkdm);\r\nreturn 0;\r\n}\r\nstatic int am33xx_clkdm_clk_disable(struct clockdomain *clkdm)\r\n{\r\nbool hwsup = false;\r\nhwsup = am33xx_cm_is_clkdm_in_hwsup(clkdm->cm_inst, clkdm->clkdm_offs);\r\nif (!hwsup && (clkdm->flags & CLKDM_CAN_FORCE_SLEEP))\r\nam33xx_clkdm_sleep(clkdm);\r\nreturn 0;\r\n}
