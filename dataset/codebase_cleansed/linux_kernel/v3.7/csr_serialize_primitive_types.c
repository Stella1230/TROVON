void CsrUint8Des(u8 *value, u8 *buffer, size_t *offset)\r\n{\r\n*value = buffer[*offset];\r\n*offset += sizeof(*value);\r\n}\r\nvoid CsrUint16Des(u16 *value, u8 *buffer, size_t *offset)\r\n{\r\n*value = (buffer[*offset + 0] << 0) |\r\n(buffer[*offset + 1] << 8);\r\n*offset += sizeof(*value);\r\n}\r\nvoid CsrUint32Des(u32 *value, u8 *buffer, size_t *offset)\r\n{\r\n*value = (buffer[*offset + 0] << 0) |\r\n(buffer[*offset + 1] << 8) |\r\n(buffer[*offset + 2] << 16) |\r\n(buffer[*offset + 3] << 24);\r\n*offset += sizeof(*value);\r\n}\r\nvoid CsrMemCpyDes(void *value, u8 *buffer, size_t *offset, size_t length)\r\n{\r\nmemcpy(value, &buffer[*offset], length);\r\n*offset += length;\r\n}\r\nvoid CsrCharStringDes(char **value, u8 *buffer, size_t *offset)\r\n{\r\n*value = kstrdup((char *) &buffer[*offset], GFP_KERNEL);\r\n*offset += strlen(*value) + 1;\r\n}\r\nvoid CsrUint8Ser(u8 *buffer, size_t *offset, u8 value)\r\n{\r\nbuffer[*offset] = value;\r\n*offset += sizeof(value);\r\n}\r\nvoid CsrUint16Ser(u8 *buffer, size_t *offset, u16 value)\r\n{\r\nbuffer[*offset + 0] = (u8) ((value >> 0) & 0xFF);\r\nbuffer[*offset + 1] = (u8) ((value >> 8) & 0xFF);\r\n*offset += sizeof(value);\r\n}\r\nvoid CsrUint32Ser(u8 *buffer, size_t *offset, u32 value)\r\n{\r\nbuffer[*offset + 0] = (u8) ((value >> 0) & 0xFF);\r\nbuffer[*offset + 1] = (u8) ((value >> 8) & 0xFF);\r\nbuffer[*offset + 2] = (u8) ((value >> 16) & 0xFF);\r\nbuffer[*offset + 3] = (u8) ((value >> 24) & 0xFF);\r\n*offset += sizeof(value);\r\n}\r\nvoid CsrMemCpySer(u8 *buffer, size_t *offset, const void *value, size_t length)\r\n{\r\nmemcpy(&buffer[*offset], value, length);\r\n*offset += length;\r\n}\r\nvoid CsrCharStringSer(u8 *buffer, size_t *offset, const char *value)\r\n{\r\nif (value)\r\n{\r\nstrcpy(((char *) &buffer[*offset]), value);\r\n*offset += strlen(value) + 1;\r\n}\r\nelse\r\n{\r\nCsrUint8Ser(buffer, offset, 0);\r\n}\r\n}
