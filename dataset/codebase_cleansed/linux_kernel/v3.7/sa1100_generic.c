static int __devinit sa11x0_drv_pcmcia_probe(struct platform_device *dev)\r\n{\r\nint i, ret = -ENODEV;\r\nfor (i = 0; i < ARRAY_SIZE(sa11x0_pcmcia_hw_init); i++) {\r\nret = sa11x0_pcmcia_hw_init[i](&dev->dev);\r\nif (ret == 0)\r\nbreak;\r\n}\r\nreturn ret;\r\n}\r\nstatic int sa11x0_drv_pcmcia_remove(struct platform_device *dev)\r\n{\r\nstruct skt_dev_info *sinfo = platform_get_drvdata(dev);\r\nint i;\r\nplatform_set_drvdata(dev, NULL);\r\nfor (i = 0; i < sinfo->nskt; i++)\r\nsoc_pcmcia_remove_one(&sinfo->skt[i]);\r\nkfree(sinfo);\r\nreturn 0;\r\n}\r\nstatic int __init sa11x0_pcmcia_init(void)\r\n{\r\nreturn platform_driver_register(&sa11x0_pcmcia_driver);\r\n}\r\nstatic void __exit sa11x0_pcmcia_exit(void)\r\n{\r\nplatform_driver_unregister(&sa11x0_pcmcia_driver);\r\n}
