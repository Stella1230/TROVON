void ib_copy_ah_attr_to_user(struct ib_uverbs_ah_attr *dst,\r\nstruct ib_ah_attr *src)\r\n{\r\nmemcpy(dst->grh.dgid, src->grh.dgid.raw, sizeof src->grh.dgid);\r\ndst->grh.flow_label = src->grh.flow_label;\r\ndst->grh.sgid_index = src->grh.sgid_index;\r\ndst->grh.hop_limit = src->grh.hop_limit;\r\ndst->grh.traffic_class = src->grh.traffic_class;\r\nmemset(&dst->grh.reserved, 0, sizeof(dst->grh.reserved));\r\ndst->dlid = src->dlid;\r\ndst->sl = src->sl;\r\ndst->src_path_bits = src->src_path_bits;\r\ndst->static_rate = src->static_rate;\r\ndst->is_global = src->ah_flags & IB_AH_GRH ? 1 : 0;\r\ndst->port_num = src->port_num;\r\ndst->reserved = 0;\r\n}\r\nvoid ib_copy_qp_attr_to_user(struct ib_uverbs_qp_attr *dst,\r\nstruct ib_qp_attr *src)\r\n{\r\ndst->qp_state = src->qp_state;\r\ndst->cur_qp_state = src->cur_qp_state;\r\ndst->path_mtu = src->path_mtu;\r\ndst->path_mig_state = src->path_mig_state;\r\ndst->qkey = src->qkey;\r\ndst->rq_psn = src->rq_psn;\r\ndst->sq_psn = src->sq_psn;\r\ndst->dest_qp_num = src->dest_qp_num;\r\ndst->qp_access_flags = src->qp_access_flags;\r\ndst->max_send_wr = src->cap.max_send_wr;\r\ndst->max_recv_wr = src->cap.max_recv_wr;\r\ndst->max_send_sge = src->cap.max_send_sge;\r\ndst->max_recv_sge = src->cap.max_recv_sge;\r\ndst->max_inline_data = src->cap.max_inline_data;\r\nib_copy_ah_attr_to_user(&dst->ah_attr, &src->ah_attr);\r\nib_copy_ah_attr_to_user(&dst->alt_ah_attr, &src->alt_ah_attr);\r\ndst->pkey_index = src->pkey_index;\r\ndst->alt_pkey_index = src->alt_pkey_index;\r\ndst->en_sqd_async_notify = src->en_sqd_async_notify;\r\ndst->sq_draining = src->sq_draining;\r\ndst->max_rd_atomic = src->max_rd_atomic;\r\ndst->max_dest_rd_atomic = src->max_dest_rd_atomic;\r\ndst->min_rnr_timer = src->min_rnr_timer;\r\ndst->port_num = src->port_num;\r\ndst->timeout = src->timeout;\r\ndst->retry_cnt = src->retry_cnt;\r\ndst->rnr_retry = src->rnr_retry;\r\ndst->alt_port_num = src->alt_port_num;\r\ndst->alt_timeout = src->alt_timeout;\r\nmemset(dst->reserved, 0, sizeof(dst->reserved));\r\n}\r\nvoid ib_copy_path_rec_to_user(struct ib_user_path_rec *dst,\r\nstruct ib_sa_path_rec *src)\r\n{\r\nmemcpy(dst->dgid, src->dgid.raw, sizeof src->dgid);\r\nmemcpy(dst->sgid, src->sgid.raw, sizeof src->sgid);\r\ndst->dlid = src->dlid;\r\ndst->slid = src->slid;\r\ndst->raw_traffic = src->raw_traffic;\r\ndst->flow_label = src->flow_label;\r\ndst->hop_limit = src->hop_limit;\r\ndst->traffic_class = src->traffic_class;\r\ndst->reversible = src->reversible;\r\ndst->numb_path = src->numb_path;\r\ndst->pkey = src->pkey;\r\ndst->sl = src->sl;\r\ndst->mtu_selector = src->mtu_selector;\r\ndst->mtu = src->mtu;\r\ndst->rate_selector = src->rate_selector;\r\ndst->rate = src->rate;\r\ndst->packet_life_time = src->packet_life_time;\r\ndst->preference = src->preference;\r\ndst->packet_life_time_selector = src->packet_life_time_selector;\r\n}\r\nvoid ib_copy_path_rec_from_user(struct ib_sa_path_rec *dst,\r\nstruct ib_user_path_rec *src)\r\n{\r\nmemcpy(dst->dgid.raw, src->dgid, sizeof dst->dgid);\r\nmemcpy(dst->sgid.raw, src->sgid, sizeof dst->sgid);\r\ndst->dlid = src->dlid;\r\ndst->slid = src->slid;\r\ndst->raw_traffic = src->raw_traffic;\r\ndst->flow_label = src->flow_label;\r\ndst->hop_limit = src->hop_limit;\r\ndst->traffic_class = src->traffic_class;\r\ndst->reversible = src->reversible;\r\ndst->numb_path = src->numb_path;\r\ndst->pkey = src->pkey;\r\ndst->sl = src->sl;\r\ndst->mtu_selector = src->mtu_selector;\r\ndst->mtu = src->mtu;\r\ndst->rate_selector = src->rate_selector;\r\ndst->rate = src->rate;\r\ndst->packet_life_time = src->packet_life_time;\r\ndst->preference = src->preference;\r\ndst->packet_life_time_selector = src->packet_life_time_selector;\r\n}
