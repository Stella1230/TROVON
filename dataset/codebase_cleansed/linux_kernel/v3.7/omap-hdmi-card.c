static __devinit int omap_hdmi_probe(struct platform_device *pdev)\r\n{\r\nstruct snd_soc_card *card = &snd_soc_omap_hdmi;\r\nint ret;\r\ncard->dev = &pdev->dev;\r\nret = snd_soc_register_card(card);\r\nif (ret) {\r\ndev_err(&pdev->dev, "snd_soc_register_card failed (%d)\n", ret);\r\ncard->dev = NULL;\r\nreturn ret;\r\n}\r\nreturn 0;\r\n}\r\nstatic int __devexit omap_hdmi_remove(struct platform_device *pdev)\r\n{\r\nstruct snd_soc_card *card = platform_get_drvdata(pdev);\r\nsnd_soc_unregister_card(card);\r\ncard->dev = NULL;\r\nreturn 0;\r\n}
