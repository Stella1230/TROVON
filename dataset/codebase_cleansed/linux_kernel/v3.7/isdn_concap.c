static int isdn_concap_dl_data_req(struct concap_proto *concap, struct sk_buff *skb)\r\n{\r\nstruct net_device *ndev = concap->net_dev;\r\nisdn_net_dev *nd = ((isdn_net_local *) netdev_priv(ndev))->netdev;\r\nisdn_net_local *lp = isdn_net_get_locked_lp(nd);\r\nIX25DEBUG("isdn_concap_dl_data_req: %s \n", concap->net_dev->name);\r\nif (!lp) {\r\nIX25DEBUG("isdn_concap_dl_data_req: %s : isdn_net_send_skb returned %d\n", concap->net_dev->name, 1);\r\nreturn 1;\r\n}\r\nlp->huptimer = 0;\r\nisdn_net_writebuf_skb(lp, skb);\r\nspin_unlock_bh(&lp->xmit_lock);\r\nIX25DEBUG("isdn_concap_dl_data_req: %s : isdn_net_send_skb returned %d\n", concap->net_dev->name, 0);\r\nreturn 0;\r\n}\r\nstatic int isdn_concap_dl_connect_req(struct concap_proto *concap)\r\n{\r\nstruct net_device *ndev = concap->net_dev;\r\nisdn_net_local *lp = netdev_priv(ndev);\r\nint ret;\r\nIX25DEBUG("isdn_concap_dl_connect_req: %s \n", ndev->name);\r\nret = isdn_net_dial_req(lp);\r\nif (ret) IX25DEBUG("dialing failed\n");\r\nreturn ret;\r\n}\r\nstatic int isdn_concap_dl_disconn_req(struct concap_proto *concap)\r\n{\r\nIX25DEBUG("isdn_concap_dl_disconn_req: %s \n", concap->net_dev->name);\r\nisdn_net_hangup(concap->net_dev);\r\nreturn 0;\r\n}\r\nstruct concap_proto *isdn_concap_new(int encap)\r\n{\r\nswitch (encap) {\r\ncase ISDN_NET_ENCAP_X25IFACE:\r\nreturn isdn_x25iface_proto_new();\r\n}\r\nreturn NULL;\r\n}
