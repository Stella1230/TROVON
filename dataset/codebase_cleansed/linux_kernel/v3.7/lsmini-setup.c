static void lsmini_power_off(void)\r\n{\r\norion5x_restart('h', NULL);\r\n}\r\nstatic void __init lsmini_init(void)\r\n{\r\norion5x_init();\r\norion5x_mpp_conf(lsmini_mpp_modes);\r\norion5x_ehci0_init();\r\norion5x_ehci1_init();\r\norion5x_eth_init(&lsmini_eth_data);\r\norion5x_i2c_init();\r\norion5x_sata_init(&lsmini_sata_data);\r\norion5x_uart0_init();\r\norion5x_xor_init();\r\norion5x_setup_dev_boot_win(LSMINI_NOR_BOOT_BASE,\r\nLSMINI_NOR_BOOT_SIZE);\r\nplatform_device_register(&lsmini_nor_flash);\r\nplatform_device_register(&lsmini_button_device);\r\nplatform_device_register(&lsmini_leds);\r\ni2c_register_board_info(0, &lsmini_i2c_rtc, 1);\r\ngpio_set_value(LSMINI_GPIO_USB_POWER, 1);\r\npm_power_off = lsmini_power_off;\r\npr_info("%s: finished\n", __func__);\r\n}
