static irqreturn_t eraseconfig_interrupt(int irq, void *dev_id)\r\n{\r\nprintk("SnapGear: erase switch interrupt!\n");\r\nreturn IRQ_HANDLED;\r\n}\r\nstatic int __init eraseconfig_init(void)\r\n{\r\nunsigned int irq = evt2irq(0x240);\r\nprintk("SnapGear: EraseConfig init\n");\r\nif (request_irq(irq, eraseconfig_interrupt, 0, "Erase Config", NULL))\r\nprintk("SnapGear: failed to register IRQ%d for Reset witch\n",\r\nirq);\r\nelse\r\nprintk("SnapGear: registered EraseConfig switch on IRQ%d\n",\r\nirq);\r\nreturn 0;\r\n}\r\nstatic void __init init_snapgear_IRQ(void)\r\n{\r\nprintk("Setup SnapGear IRQ/IPR ...\n");\r\nplat_irq_setup_pins(IRQ_MODE_IRQ);\r\n}
