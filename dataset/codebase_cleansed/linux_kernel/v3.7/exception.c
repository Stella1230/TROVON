int bfin_request_exception(unsigned int exception, void (*handler)(void))\r\n{\r\nvoid (*curr_handler)(void);\r\nif (exception > 0x3F)\r\nreturn -EINVAL;\r\ncurr_handler = ex_table[exception];\r\nif (curr_handler != ex_replaceable)\r\nreturn -EBUSY;\r\nex_table[exception] = handler;\r\nreturn 0;\r\n}\r\nint bfin_free_exception(unsigned int exception, void (*handler)(void))\r\n{\r\nvoid (*curr_handler)(void);\r\nif (exception > 0x3F)\r\nreturn -EINVAL;\r\ncurr_handler = ex_table[exception];\r\nif (curr_handler != handler)\r\nreturn -EBUSY;\r\nex_table[exception] = ex_replaceable;\r\nreturn 0;\r\n}
