static inline int\r\npl_vendor_req(struct usbnet *dev, u8 req, u8 val, u8 index)\r\n{\r\nreturn usb_control_msg(dev->udev,\r\nusb_rcvctrlpipe(dev->udev, 0),\r\nreq,\r\nUSB_DIR_IN | USB_TYPE_VENDOR | USB_RECIP_DEVICE,\r\nval, index,\r\nNULL, 0,\r\nUSB_CTRL_GET_TIMEOUT);\r\n}\r\nstatic inline int\r\npl_clear_QuickLink_features(struct usbnet *dev, int val)\r\n{\r\nreturn pl_vendor_req(dev, 1, (u8) val, 0);\r\n}\r\nstatic inline int\r\npl_set_QuickLink_features(struct usbnet *dev, int val)\r\n{\r\nreturn pl_vendor_req(dev, 3, (u8) val, 0);\r\n}\r\nstatic int pl_reset(struct usbnet *dev)\r\n{\r\nint status;\r\nstatus = pl_set_QuickLink_features(dev,\r\nPL_S_EN|PL_RESET_OUT|PL_RESET_IN|PL_PEER_E);\r\nif (status != 0 && netif_msg_probe(dev))\r\nnetif_dbg(dev, link, dev->net, "pl_reset --> %d\n", status);\r\nreturn 0;\r\n}
