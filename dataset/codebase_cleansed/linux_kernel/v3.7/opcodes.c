asmlinkage unsigned int arm_check_condition(u32 opcode, u32 psr)\r\n{\r\nu32 cc_bits = opcode >> 28;\r\nu32 psr_cond = psr >> 28;\r\nunsigned int ret;\r\nif (cc_bits != ARM_OPCODE_CONDITION_UNCOND) {\r\nif ((cc_map[cc_bits] >> (psr_cond)) & 1)\r\nret = ARM_OPCODE_CONDTEST_PASS;\r\nelse\r\nret = ARM_OPCODE_CONDTEST_FAIL;\r\n} else {\r\nret = ARM_OPCODE_CONDTEST_UNCOND;\r\n}\r\nreturn ret;\r\n}
