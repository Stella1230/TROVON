static int __init smdk2443_init(void)\r\n{\r\nint ret;\r\nsmdk2443_snd_ac97_device = platform_device_alloc("soc-audio", -1);\r\nif (!smdk2443_snd_ac97_device)\r\nreturn -ENOMEM;\r\nplatform_set_drvdata(smdk2443_snd_ac97_device, &smdk2443);\r\nret = platform_device_add(smdk2443_snd_ac97_device);\r\nif (ret)\r\nplatform_device_put(smdk2443_snd_ac97_device);\r\nreturn ret;\r\n}\r\nstatic void __exit smdk2443_exit(void)\r\n{\r\nplatform_device_unregister(smdk2443_snd_ac97_device);\r\n}
