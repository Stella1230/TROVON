static int kdb_hello_cmd(int argc, const char **argv)\r\n{\r\nif (argc > 1)\r\nreturn KDB_ARGCOUNT;\r\nif (argc)\r\nkdb_printf("Hello %s.\n", argv[1]);\r\nelse\r\nkdb_printf("Hello world!\n");\r\nreturn 0;\r\n}\r\nstatic int __init kdb_hello_cmd_init(void)\r\n{\r\nkdb_register("hello", kdb_hello_cmd, "[string]",\r\n"Say Hello World or Hello [string]", 0);\r\nreturn 0;\r\n}\r\nstatic void __exit kdb_hello_cmd_exit(void)\r\n{\r\nkdb_unregister("hello");\r\n}
