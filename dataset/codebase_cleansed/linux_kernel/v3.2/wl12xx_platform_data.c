int __init wl12xx_set_platform_data(const struct wl12xx_platform_data *data)\r\n{\r\nif (platform_data)\r\nreturn -EBUSY;\r\nif (!data)\r\nreturn -EINVAL;\r\nplatform_data = kmemdup(data, sizeof(*data), GFP_KERNEL);\r\nif (!platform_data)\r\nreturn -ENOMEM;\r\nreturn 0;\r\n}\r\nconst struct wl12xx_platform_data *wl12xx_get_platform_data(void)\r\n{\r\nif (!platform_data)\r\nreturn ERR_PTR(-ENODEV);\r\nreturn platform_data;\r\n}
