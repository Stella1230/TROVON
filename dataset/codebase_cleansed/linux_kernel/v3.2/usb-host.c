static void setup_ehci_io_mux(const enum usbhs_omap_port_mode *port_mode)\r\n{\r\nswitch (port_mode[0]) {\r\ncase OMAP_EHCI_PORT_MODE_PHY:\r\nomap_mux_init_signal("hsusb1_stp", OMAP_PIN_OUTPUT);\r\nomap_mux_init_signal("hsusb1_clk", OMAP_PIN_OUTPUT);\r\nomap_mux_init_signal("hsusb1_dir", OMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_nxt", OMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_data0", OMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_data1", OMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_data2", OMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_data3", OMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_data4", OMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_data5", OMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_data6", OMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_data7", OMAP_PIN_INPUT_PULLDOWN);\r\nbreak;\r\ncase OMAP_EHCI_PORT_MODE_TLL:\r\nomap_mux_init_signal("hsusb1_tll_stp",\r\nOMAP_PIN_INPUT_PULLUP);\r\nomap_mux_init_signal("hsusb1_tll_clk",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_tll_dir",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_tll_nxt",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_tll_data0",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_tll_data1",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_tll_data2",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_tll_data3",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_tll_data4",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_tll_data5",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_tll_data6",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb1_tll_data7",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nbreak;\r\ncase OMAP_USBHS_PORT_MODE_UNUSED:\r\ndefault:\r\nbreak;\r\n}\r\nswitch (port_mode[1]) {\r\ncase OMAP_EHCI_PORT_MODE_PHY:\r\nomap_mux_init_signal("hsusb2_stp", OMAP_PIN_OUTPUT);\r\nomap_mux_init_signal("hsusb2_clk", OMAP_PIN_OUTPUT);\r\nomap_mux_init_signal("hsusb2_dir", OMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_nxt", OMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_data0",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_data1",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_data2",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_data3",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_data4",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_data5",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_data6",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_data7",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nbreak;\r\ncase OMAP_EHCI_PORT_MODE_TLL:\r\nomap_mux_init_signal("hsusb2_tll_stp",\r\nOMAP_PIN_INPUT_PULLUP);\r\nomap_mux_init_signal("hsusb2_tll_clk",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_tll_dir",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_tll_nxt",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_tll_data0",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_tll_data1",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_tll_data2",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_tll_data3",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_tll_data4",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_tll_data5",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_tll_data6",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb2_tll_data7",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nbreak;\r\ncase OMAP_USBHS_PORT_MODE_UNUSED:\r\ndefault:\r\nbreak;\r\n}\r\nswitch (port_mode[2]) {\r\ncase OMAP_EHCI_PORT_MODE_PHY:\r\nprintk(KERN_WARNING "Port3 can't be used in PHY mode\n");\r\nbreak;\r\ncase OMAP_EHCI_PORT_MODE_TLL:\r\nomap_mux_init_signal("hsusb3_tll_stp",\r\nOMAP_PIN_INPUT_PULLUP);\r\nomap_mux_init_signal("hsusb3_tll_clk",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb3_tll_dir",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb3_tll_nxt",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb3_tll_data0",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb3_tll_data1",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb3_tll_data2",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb3_tll_data3",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb3_tll_data4",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb3_tll_data5",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb3_tll_data6",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("hsusb3_tll_data7",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nbreak;\r\ncase OMAP_USBHS_PORT_MODE_UNUSED:\r\ndefault:\r\nbreak;\r\n}\r\nreturn;\r\n}\r\nstatic void setup_4430ehci_io_mux(const enum usbhs_omap_port_mode *port_mode)\r\n{\r\nswitch (port_mode[0]) {\r\ncase OMAP_EHCI_PORT_MODE_PHY:\r\nomap_mux_init_signal("usbb1_ulpiphy_stp",\r\nOMAP_PIN_OUTPUT);\r\nomap_mux_init_signal("usbb1_ulpiphy_clk",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpiphy_dir",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpiphy_nxt",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpiphy_dat0",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpiphy_dat1",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpiphy_dat2",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpiphy_dat3",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpiphy_dat4",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpiphy_dat5",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpiphy_dat6",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpiphy_dat7",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nbreak;\r\ncase OMAP_EHCI_PORT_MODE_TLL:\r\nomap_mux_init_signal("usbb1_ulpitll_stp",\r\nOMAP_PIN_INPUT_PULLUP);\r\nomap_mux_init_signal("usbb1_ulpitll_clk",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpitll_dir",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpitll_nxt",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpitll_dat0",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpitll_dat1",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpitll_dat2",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpitll_dat3",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpitll_dat4",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpitll_dat5",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpitll_dat6",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_ulpitll_dat7",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nbreak;\r\ncase OMAP_USBHS_PORT_MODE_UNUSED:\r\ndefault:\r\nbreak;\r\n}\r\nswitch (port_mode[1]) {\r\ncase OMAP_EHCI_PORT_MODE_PHY:\r\nomap_mux_init_signal("usbb2_ulpiphy_stp",\r\nOMAP_PIN_OUTPUT);\r\nomap_mux_init_signal("usbb2_ulpiphy_clk",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpiphy_dir",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpiphy_nxt",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpiphy_dat0",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpiphy_dat1",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpiphy_dat2",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpiphy_dat3",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpiphy_dat4",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpiphy_dat5",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpiphy_dat6",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpiphy_dat7",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nbreak;\r\ncase OMAP_EHCI_PORT_MODE_TLL:\r\nomap_mux_init_signal("usbb2_ulpitll_stp",\r\nOMAP_PIN_INPUT_PULLUP);\r\nomap_mux_init_signal("usbb2_ulpitll_clk",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpitll_dir",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpitll_nxt",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpitll_dat0",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpitll_dat1",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpitll_dat2",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpitll_dat3",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpitll_dat4",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpitll_dat5",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpitll_dat6",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_ulpitll_dat7",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nbreak;\r\ncase OMAP_USBHS_PORT_MODE_UNUSED:\r\ndefault:\r\nbreak;\r\n}\r\n}\r\nstatic void setup_ohci_io_mux(const enum usbhs_omap_port_mode *port_mode)\r\n{\r\nswitch (port_mode[0]) {\r\ncase OMAP_OHCI_PORT_MODE_PHY_6PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_PHY_6PIN_DPDM:\r\ncase OMAP_OHCI_PORT_MODE_TLL_6PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_TLL_6PIN_DPDM:\r\nomap_mux_init_signal("mm1_rxdp",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("mm1_rxdm",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\ncase OMAP_OHCI_PORT_MODE_PHY_4PIN_DPDM:\r\ncase OMAP_OHCI_PORT_MODE_TLL_4PIN_DPDM:\r\nomap_mux_init_signal("mm1_rxrcv",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\ncase OMAP_OHCI_PORT_MODE_PHY_3PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_TLL_3PIN_DATSE0:\r\nomap_mux_init_signal("mm1_txen_n", OMAP_PIN_OUTPUT);\r\ncase OMAP_OHCI_PORT_MODE_TLL_2PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_TLL_2PIN_DPDM:\r\nomap_mux_init_signal("mm1_txse0",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("mm1_txdat",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nbreak;\r\ncase OMAP_USBHS_PORT_MODE_UNUSED:\r\ndefault:\r\nbreak;\r\n}\r\nswitch (port_mode[1]) {\r\ncase OMAP_OHCI_PORT_MODE_PHY_6PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_PHY_6PIN_DPDM:\r\ncase OMAP_OHCI_PORT_MODE_TLL_6PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_TLL_6PIN_DPDM:\r\nomap_mux_init_signal("mm2_rxdp",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("mm2_rxdm",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\ncase OMAP_OHCI_PORT_MODE_PHY_4PIN_DPDM:\r\ncase OMAP_OHCI_PORT_MODE_TLL_4PIN_DPDM:\r\nomap_mux_init_signal("mm2_rxrcv",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\ncase OMAP_OHCI_PORT_MODE_PHY_3PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_TLL_3PIN_DATSE0:\r\nomap_mux_init_signal("mm2_txen_n", OMAP_PIN_OUTPUT);\r\ncase OMAP_OHCI_PORT_MODE_TLL_2PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_TLL_2PIN_DPDM:\r\nomap_mux_init_signal("mm2_txse0",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("mm2_txdat",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nbreak;\r\ncase OMAP_USBHS_PORT_MODE_UNUSED:\r\ndefault:\r\nbreak;\r\n}\r\nswitch (port_mode[2]) {\r\ncase OMAP_OHCI_PORT_MODE_PHY_6PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_PHY_6PIN_DPDM:\r\ncase OMAP_OHCI_PORT_MODE_TLL_6PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_TLL_6PIN_DPDM:\r\nomap_mux_init_signal("mm3_rxdp",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("mm3_rxdm",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\ncase OMAP_OHCI_PORT_MODE_PHY_4PIN_DPDM:\r\ncase OMAP_OHCI_PORT_MODE_TLL_4PIN_DPDM:\r\nomap_mux_init_signal("mm3_rxrcv",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\ncase OMAP_OHCI_PORT_MODE_PHY_3PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_TLL_3PIN_DATSE0:\r\nomap_mux_init_signal("mm3_txen_n", OMAP_PIN_OUTPUT);\r\ncase OMAP_OHCI_PORT_MODE_TLL_2PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_TLL_2PIN_DPDM:\r\nomap_mux_init_signal("mm3_txse0",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("mm3_txdat",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nbreak;\r\ncase OMAP_USBHS_PORT_MODE_UNUSED:\r\ndefault:\r\nbreak;\r\n}\r\n}\r\nstatic void setup_4430ohci_io_mux(const enum usbhs_omap_port_mode *port_mode)\r\n{\r\nswitch (port_mode[0]) {\r\ncase OMAP_OHCI_PORT_MODE_PHY_6PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_PHY_6PIN_DPDM:\r\ncase OMAP_OHCI_PORT_MODE_TLL_6PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_TLL_6PIN_DPDM:\r\nomap_mux_init_signal("usbb1_mm_rxdp",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_mm_rxdm",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\ncase OMAP_OHCI_PORT_MODE_PHY_4PIN_DPDM:\r\ncase OMAP_OHCI_PORT_MODE_TLL_4PIN_DPDM:\r\nomap_mux_init_signal("usbb1_mm_rxrcv",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\ncase OMAP_OHCI_PORT_MODE_PHY_3PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_TLL_3PIN_DATSE0:\r\nomap_mux_init_signal("usbb1_mm_txen",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\ncase OMAP_OHCI_PORT_MODE_TLL_2PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_TLL_2PIN_DPDM:\r\nomap_mux_init_signal("usbb1_mm_txdat",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb1_mm_txse0",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nbreak;\r\ncase OMAP_USBHS_PORT_MODE_UNUSED:\r\ndefault:\r\nbreak;\r\n}\r\nswitch (port_mode[1]) {\r\ncase OMAP_OHCI_PORT_MODE_PHY_6PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_PHY_6PIN_DPDM:\r\ncase OMAP_OHCI_PORT_MODE_TLL_6PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_TLL_6PIN_DPDM:\r\nomap_mux_init_signal("usbb2_mm_rxdp",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_mm_rxdm",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\ncase OMAP_OHCI_PORT_MODE_PHY_4PIN_DPDM:\r\ncase OMAP_OHCI_PORT_MODE_TLL_4PIN_DPDM:\r\nomap_mux_init_signal("usbb2_mm_rxrcv",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\ncase OMAP_OHCI_PORT_MODE_PHY_3PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_TLL_3PIN_DATSE0:\r\nomap_mux_init_signal("usbb2_mm_txen",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\ncase OMAP_OHCI_PORT_MODE_TLL_2PIN_DATSE0:\r\ncase OMAP_OHCI_PORT_MODE_TLL_2PIN_DPDM:\r\nomap_mux_init_signal("usbb2_mm_txdat",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nomap_mux_init_signal("usbb2_mm_txse0",\r\nOMAP_PIN_INPUT_PULLDOWN);\r\nbreak;\r\ncase OMAP_USBHS_PORT_MODE_UNUSED:\r\ndefault:\r\nbreak;\r\n}\r\n}\r\nvoid __init usbhs_init(const struct usbhs_omap_board_data *pdata)\r\n{\r\nint i;\r\nfor (i = 0; i < OMAP3_HS_USB_PORTS; i++) {\r\nusbhs_data.port_mode[i] = pdata->port_mode[i];\r\nohci_data.port_mode[i] = pdata->port_mode[i];\r\nehci_data.port_mode[i] = pdata->port_mode[i];\r\nehci_data.reset_gpio_port[i] = pdata->reset_gpio_port[i];\r\nehci_data.regulator[i] = pdata->regulator[i];\r\n}\r\nehci_data.phy_reset = pdata->phy_reset;\r\nohci_data.es2_compatibility = pdata->es2_compatibility;\r\nusbhs_data.ehci_data = &ehci_data;\r\nusbhs_data.ohci_data = &ohci_data;\r\nif (cpu_is_omap34xx()) {\r\nusbhs_resources[0].start = OMAP34XX_UHH_CONFIG_BASE;\r\nusbhs_resources[0].end = OMAP34XX_UHH_CONFIG_BASE + SZ_1K - 1;\r\nusbhs_resources[1].start = OMAP34XX_USBTLL_BASE;\r\nusbhs_resources[1].end = OMAP34XX_USBTLL_BASE + SZ_4K - 1;\r\nusbhs_resources[2].start = OMAP34XX_EHCI_BASE;\r\nusbhs_resources[2].end = OMAP34XX_EHCI_BASE + SZ_1K - 1;\r\nusbhs_resources[3].start = INT_34XX_EHCI_IRQ;\r\nusbhs_resources[4].start = OMAP34XX_OHCI_BASE;\r\nusbhs_resources[4].end = OMAP34XX_OHCI_BASE + SZ_1K - 1;\r\nusbhs_resources[5].start = INT_34XX_OHCI_IRQ;\r\nsetup_ehci_io_mux(pdata->port_mode);\r\nsetup_ohci_io_mux(pdata->port_mode);\r\n} else if (cpu_is_omap44xx()) {\r\nusbhs_resources[0].start = OMAP44XX_UHH_CONFIG_BASE;\r\nusbhs_resources[0].end = OMAP44XX_UHH_CONFIG_BASE + SZ_1K - 1;\r\nusbhs_resources[1].start = OMAP44XX_USBTLL_BASE;\r\nusbhs_resources[1].end = OMAP44XX_USBTLL_BASE + SZ_4K - 1;\r\nusbhs_resources[2].start = OMAP44XX_HSUSB_EHCI_BASE;\r\nusbhs_resources[2].end = OMAP44XX_HSUSB_EHCI_BASE + SZ_1K - 1;\r\nusbhs_resources[3].start = OMAP44XX_IRQ_EHCI;\r\nusbhs_resources[4].start = OMAP44XX_HSUSB_OHCI_BASE;\r\nusbhs_resources[4].end = OMAP44XX_HSUSB_OHCI_BASE + SZ_1K - 1;\r\nusbhs_resources[5].start = OMAP44XX_IRQ_OHCI;\r\nsetup_4430ehci_io_mux(pdata->port_mode);\r\nsetup_4430ohci_io_mux(pdata->port_mode);\r\n}\r\nif (platform_device_add_data(&usbhs_device,\r\n&usbhs_data, sizeof(usbhs_data)) < 0) {\r\nprintk(KERN_ERR "USBHS platform_device_add_data failed\n");\r\ngoto init_end;\r\n}\r\nif (platform_device_register(&usbhs_device) < 0)\r\nprintk(KERN_ERR "USBHS platform_device_register failed\n");\r\ninit_end:\r\nreturn;\r\n}\r\nvoid __init usbhs_init(const struct usbhs_omap_board_data *pdata)\r\n{\r\n}
