void __init lacie_v2_register_flash(void)\r\n{\r\nspi_register_board_info(lacie_v2_spi_slave_info,\r\nARRAY_SIZE(lacie_v2_spi_slave_info));\r\nkirkwood_spi_init();\r\n}\r\nvoid __init lacie_v2_register_i2c_devices(void)\r\n{\r\nkirkwood_i2c_init();\r\ni2c_register_board_info(0, lacie_v2_i2c_info,\r\nARRAY_SIZE(lacie_v2_i2c_info));\r\n}\r\nvoid __init lacie_v2_hdd_power_init(int hdd_num)\r\n{\r\nint i;\r\nint err;\r\nfor (i = 0; i < hdd_num; i++) {\r\nerr = gpio_request(lacie_v2_gpio_hdd_power[i], NULL);\r\nif (err == 0) {\r\nerr = gpio_direction_output(\r\nlacie_v2_gpio_hdd_power[i], 1);\r\ngpio_free(lacie_v2_gpio_hdd_power[i]);\r\n}\r\nif (err)\r\npr_err("Failed to power up HDD%d\n", i + 1);\r\n}\r\n}
