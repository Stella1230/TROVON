int gma_backlight_init(struct drm_device *dev)\r\n{\r\n#ifdef CONFIG_BACKLIGHT_CLASS_DEVICE\r\nstruct drm_psb_private *dev_priv = dev->dev_private;\r\nreturn dev_priv->ops->backlight_init(dev);\r\n#else\r\nreturn 0;\r\n#endif\r\n}\r\nvoid gma_backlight_exit(struct drm_device *dev)\r\n{\r\n#ifdef CONFIG_BACKLIGHT_CLASS_DEVICE\r\nstruct drm_psb_private *dev_priv = dev->dev_private;\r\nif (dev_priv->backlight_device) {\r\ndev_priv->backlight_device->props.brightness = 0;\r\nbacklight_update_status(dev_priv->backlight_device);\r\nbacklight_device_unregister(dev_priv->backlight_device);\r\n}\r\n#endif\r\n}
