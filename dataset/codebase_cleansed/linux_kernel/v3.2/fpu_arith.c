void fadd__(void)\r\n{\r\nint i = FPU_rm;\r\nclear_C1();\r\nFPU_add(&st(i), FPU_gettagi(i), 0, control_word);\r\n}\r\nvoid fmul__(void)\r\n{\r\nint i = FPU_rm;\r\nclear_C1();\r\nFPU_mul(&st(i), FPU_gettagi(i), 0, control_word);\r\n}\r\nvoid fsub__(void)\r\n{\r\nclear_C1();\r\nFPU_sub(0, FPU_rm, control_word);\r\n}\r\nvoid fsubr_(void)\r\n{\r\nclear_C1();\r\nFPU_sub(REV, FPU_rm, control_word);\r\n}\r\nvoid fdiv__(void)\r\n{\r\nclear_C1();\r\nFPU_div(0, FPU_rm, control_word);\r\n}\r\nvoid fdivr_(void)\r\n{\r\nclear_C1();\r\nFPU_div(REV, FPU_rm, control_word);\r\n}\r\nvoid fadd_i(void)\r\n{\r\nint i = FPU_rm;\r\nclear_C1();\r\nFPU_add(&st(i), FPU_gettagi(i), i, control_word);\r\n}\r\nvoid fmul_i(void)\r\n{\r\nclear_C1();\r\nFPU_mul(&st(0), FPU_gettag0(), FPU_rm, control_word);\r\n}\r\nvoid fsubri(void)\r\n{\r\nclear_C1();\r\nFPU_sub(DEST_RM, FPU_rm, control_word);\r\n}\r\nvoid fsub_i(void)\r\n{\r\nclear_C1();\r\nFPU_sub(REV | DEST_RM, FPU_rm, control_word);\r\n}\r\nvoid fdivri(void)\r\n{\r\nclear_C1();\r\nFPU_div(DEST_RM, FPU_rm, control_word);\r\n}\r\nvoid fdiv_i(void)\r\n{\r\nclear_C1();\r\nFPU_div(REV | DEST_RM, FPU_rm, control_word);\r\n}\r\nvoid faddp_(void)\r\n{\r\nint i = FPU_rm;\r\nclear_C1();\r\nif (FPU_add(&st(i), FPU_gettagi(i), i, control_word) >= 0)\r\nFPU_pop();\r\n}\r\nvoid fmulp_(void)\r\n{\r\nclear_C1();\r\nif (FPU_mul(&st(0), FPU_gettag0(), FPU_rm, control_word) >= 0)\r\nFPU_pop();\r\n}\r\nvoid fsubrp(void)\r\n{\r\nclear_C1();\r\nif (FPU_sub(DEST_RM, FPU_rm, control_word) >= 0)\r\nFPU_pop();\r\n}\r\nvoid fsubp_(void)\r\n{\r\nclear_C1();\r\nif (FPU_sub(REV | DEST_RM, FPU_rm, control_word) >= 0)\r\nFPU_pop();\r\n}\r\nvoid fdivrp(void)\r\n{\r\nclear_C1();\r\nif (FPU_div(DEST_RM, FPU_rm, control_word) >= 0)\r\nFPU_pop();\r\n}\r\nvoid fdivp_(void)\r\n{\r\nclear_C1();\r\nif (FPU_div(REV | DEST_RM, FPU_rm, control_word) >= 0)\r\nFPU_pop();\r\n}
