static int ks_input_mapping(struct hid_device *hdev, struct hid_input *hi,\r\nstruct hid_field *field, struct hid_usage *usage,\r\nunsigned long **bit, int *max)\r\n{\r\nif ((usage->hid & HID_USAGE_PAGE) != HID_UP_MSVENDOR)\r\nreturn 0;\r\nswitch (usage->hid & HID_USAGE) {\r\ncase 0x01: ks_map_key(BTN_MIDDLE); break;\r\ncase 0x02: ks_map_key(BTN_SIDE); break;\r\ndefault:\r\nreturn 0;\r\n}\r\nreturn 1;\r\n}\r\nstatic int __init ks_init(void)\r\n{\r\nreturn hid_register_driver(&ks_driver);\r\n}\r\nstatic void __exit ks_exit(void)\r\n{\r\nhid_unregister_driver(&ks_driver);\r\n}
