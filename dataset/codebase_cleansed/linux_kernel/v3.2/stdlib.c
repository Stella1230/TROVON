unsigned long long int strtoull(const char *ptr, char **end, int base)\r\n{\r\nunsigned long long ret = 0;\r\nif (base > 36)\r\ngoto out;\r\nwhile (*ptr) {\r\nint digit;\r\nif (*ptr >= '0' && *ptr <= '9' && *ptr < '0' + base)\r\ndigit = *ptr - '0';\r\nelse if (*ptr >= 'A' && *ptr < 'A' + base - 10)\r\ndigit = *ptr - 'A' + 10;\r\nelse if (*ptr >= 'a' && *ptr < 'a' + base - 10)\r\ndigit = *ptr - 'a' + 10;\r\nelse\r\nbreak;\r\nret *= base;\r\nret += digit;\r\nptr++;\r\n}\r\nout:\r\nif (end)\r\n*end = (char *)ptr;\r\nreturn ret;\r\n}
