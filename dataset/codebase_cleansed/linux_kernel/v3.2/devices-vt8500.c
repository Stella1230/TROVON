void __init vt8500_set_resources(void)\r\n{\r\nstruct resource tmp[3];\r\ntmp[0] = wmt_mmio_res(VT8500_LCDC_BASE, SZ_1K);\r\ntmp[1] = wmt_irq_res(IRQ_LCDC);\r\nwmt_res_add(&vt8500_device_lcdc, tmp, 2);\r\ntmp[0] = wmt_mmio_res(VT8500_UART0_BASE, 0x1040);\r\ntmp[1] = wmt_irq_res(IRQ_UART0);\r\nwmt_res_add(&vt8500_device_uart0, tmp, 2);\r\ntmp[0] = wmt_mmio_res(VT8500_UART1_BASE, 0x1040);\r\ntmp[1] = wmt_irq_res(IRQ_UART1);\r\nwmt_res_add(&vt8500_device_uart1, tmp, 2);\r\ntmp[0] = wmt_mmio_res(VT8500_UART2_BASE, 0x1040);\r\ntmp[1] = wmt_irq_res(IRQ_UART2);\r\nwmt_res_add(&vt8500_device_uart2, tmp, 2);\r\ntmp[0] = wmt_mmio_res(VT8500_UART3_BASE, 0x1040);\r\ntmp[1] = wmt_irq_res(IRQ_UART3);\r\nwmt_res_add(&vt8500_device_uart3, tmp, 2);\r\ntmp[0] = wmt_mmio_res(VT8500_EHCI_BASE, SZ_512);\r\ntmp[1] = wmt_irq_res(IRQ_EHCI);\r\nwmt_res_add(&vt8500_device_ehci, tmp, 2);\r\ntmp[0] = wmt_mmio_res(VT8500_GEGEA_BASE, SZ_256);\r\nwmt_res_add(&vt8500_device_ge_rops, tmp, 1);\r\ntmp[0] = wmt_mmio_res(VT8500_PWM_BASE, 0x44);\r\nwmt_res_add(&vt8500_device_pwm, tmp, 1);\r\ntmp[0] = wmt_mmio_res(VT8500_RTC_BASE, 0x2c);\r\ntmp[1] = wmt_irq_res(IRQ_RTC);\r\ntmp[2] = wmt_irq_res(IRQ_RTCSM);\r\nwmt_res_add(&vt8500_device_rtc, tmp, 3);\r\n}\r\nstatic void __init vt8500_set_externs(void)\r\n{\r\nwmt_ic_base = VT8500_IC_BASE;\r\nwmt_gpio_base = VT8500_GPIO_BASE;\r\nwmt_pmc_base = VT8500_PMC_BASE;\r\nwmt_i8042_base = VT8500_PS2_BASE;\r\nwmt_nr_irqs = VT8500_NR_IRQS;\r\nwmt_timer_irq = IRQ_PMCOS0;\r\nwmt_gpio_ext_irq[0] = IRQ_EXT0;\r\nwmt_gpio_ext_irq[1] = IRQ_EXT1;\r\nwmt_gpio_ext_irq[2] = IRQ_EXT2;\r\nwmt_gpio_ext_irq[3] = IRQ_EXT3;\r\nwmt_gpio_ext_irq[4] = IRQ_EXT4;\r\nwmt_gpio_ext_irq[5] = IRQ_EXT5;\r\nwmt_gpio_ext_irq[6] = IRQ_EXT6;\r\nwmt_gpio_ext_irq[7] = IRQ_EXT7;\r\nwmt_i8042_kbd_irq = IRQ_PS2KBD;\r\nwmt_i8042_aux_irq = IRQ_PS2MOUSE;\r\n}\r\nvoid __init vt8500_map_io(void)\r\n{\r\niotable_init(wmt_io_desc, ARRAY_SIZE(wmt_io_desc));\r\nvt8500_set_externs();\r\n}
