static void i8237A_resume(void)\r\n{\r\nunsigned long flags;\r\nint i;\r\nflags = claim_dma_lock();\r\ndma_outb(0, DMA1_RESET_REG);\r\ndma_outb(0, DMA2_RESET_REG);\r\nfor (i = 0; i < 8; i++) {\r\nset_dma_addr(i, 0x000000);\r\nset_dma_count(i, 1);\r\n}\r\nenable_dma(4);\r\nrelease_dma_lock(flags);\r\n}\r\nstatic int __init i8237A_init_ops(void)\r\n{\r\nregister_syscore_ops(&i8237_syscore_ops);\r\nreturn 0;\r\n}
