int hvc_get_chars(uint32_t vtermno, char *buf, int count)\r\n{\r\nunsigned long got;\r\nif (plpar_get_term_char(vtermno, &got, buf) == H_SUCCESS)\r\nreturn got;\r\nreturn 0;\r\n}\r\nint hvc_put_chars(uint32_t vtermno, const char *buf, int count)\r\n{\r\nunsigned long *lbuf = (unsigned long *) buf;\r\nlong ret;\r\nif (count > MAX_VIO_PUT_CHARS)\r\ncount = MAX_VIO_PUT_CHARS;\r\nret = plpar_hcall_norets(H_PUT_TERM_CHAR, vtermno, count, lbuf[0],\r\nlbuf[1]);\r\nif (ret == H_SUCCESS)\r\nreturn count;\r\nif (ret == H_BUSY)\r\nreturn -EAGAIN;\r\nreturn -EIO;\r\n}
