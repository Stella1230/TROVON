static inline void bonito_irq_enable(struct irq_data *d)\r\n{\r\nLOONGSON_INTENSET = (1 << (d->irq - LOONGSON_IRQ_BASE));\r\nmmiowb();\r\n}\r\nstatic inline void bonito_irq_disable(struct irq_data *d)\r\n{\r\nLOONGSON_INTENCLR = (1 << (d->irq - LOONGSON_IRQ_BASE));\r\nmmiowb();\r\n}\r\nvoid bonito_irq_init(void)\r\n{\r\nu32 i;\r\nfor (i = LOONGSON_IRQ_BASE; i < LOONGSON_IRQ_BASE + 32; i++)\r\nirq_set_chip_and_handler(i, &bonito_irq_type,\r\nhandle_level_irq);\r\n#ifdef CONFIG_CPU_LOONGSON2E\r\nsetup_irq(LOONGSON_IRQ_BASE + 10, &dma_timeout_irqaction);\r\n#endif\r\n}
