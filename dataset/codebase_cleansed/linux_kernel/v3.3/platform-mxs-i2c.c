struct platform_device *__init mxs_add_mxs_i2c(\r\nconst struct mxs_mxs_i2c_data *data)\r\n{\r\nstruct resource res[] = {\r\n{\r\n.start = data->iobase,\r\n.end = data->iobase + SZ_8K - 1,\r\n.flags = IORESOURCE_MEM,\r\n}, {\r\n.start = data->errirq,\r\n.end = data->errirq,\r\n.flags = IORESOURCE_IRQ,\r\n}, {\r\n.start = data->dmairq,\r\n.end = data->dmairq,\r\n.flags = IORESOURCE_IRQ,\r\n},\r\n};\r\nreturn mxs_add_platform_device("mxs-i2c", data->id, res,\r\nARRAY_SIZE(res), NULL, 0);\r\n}
