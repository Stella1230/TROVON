static int exynos4_pd_enable(struct device *dev)\r\n{\r\nstruct samsung_pd_info *pdata = dev->platform_data;\r\nu32 timeout;\r\n__raw_writel(S5P_INT_LOCAL_PWR_EN, pdata->base);\r\ntimeout = 10;\r\nwhile ((__raw_readl(pdata->base + 0x4) & S5P_INT_LOCAL_PWR_EN)\r\n!= S5P_INT_LOCAL_PWR_EN) {\r\nif (timeout == 0) {\r\nprintk(KERN_ERR "Power domain %s enable failed.\n",\r\ndev_name(dev));\r\nreturn -ETIMEDOUT;\r\n}\r\ntimeout--;\r\nudelay(100);\r\n}\r\nreturn 0;\r\n}\r\nstatic int exynos4_pd_disable(struct device *dev)\r\n{\r\nstruct samsung_pd_info *pdata = dev->platform_data;\r\nu32 timeout;\r\n__raw_writel(0, pdata->base);\r\ntimeout = 10;\r\nwhile (__raw_readl(pdata->base + 0x4) & S5P_INT_LOCAL_PWR_EN) {\r\nif (timeout == 0) {\r\nprintk(KERN_ERR "Power domain %s disable failed.\n",\r\ndev_name(dev));\r\nreturn -ETIMEDOUT;\r\n}\r\ntimeout--;\r\nudelay(100);\r\n}\r\nreturn 0;\r\n}
