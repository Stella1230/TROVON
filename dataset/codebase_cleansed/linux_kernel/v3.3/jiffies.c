static cycle_t jiffies_read(struct clocksource *cs)\r\n{\r\nreturn (cycle_t) jiffies;\r\n}\r\nu64 get_jiffies_64(void)\r\n{\r\nunsigned long seq;\r\nu64 ret;\r\ndo {\r\nseq = read_seqbegin(&xtime_lock);\r\nret = jiffies_64;\r\n} while (read_seqretry(&xtime_lock, seq));\r\nreturn ret;\r\n}\r\nstatic int __init init_jiffies_clocksource(void)\r\n{\r\nreturn clocksource_register(&clocksource_jiffies);\r\n}\r\nstruct clocksource * __init __weak clocksource_default_clock(void)\r\n{\r\nreturn &clocksource_jiffies;\r\n}
