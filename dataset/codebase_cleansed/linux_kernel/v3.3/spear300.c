void __init spear300_init(struct pmx_mode *pmx_mode, struct pmx_dev **pmx_devs,\r\nu8 pmx_dev_count)\r\n{\r\nint ret = 0;\r\nspear3xx_init();\r\nshirq_ras1.regs.base = ioremap(SPEAR300_TELECOM_BASE, SZ_4K);\r\nif (shirq_ras1.regs.base) {\r\nret = spear_shirq_register(&shirq_ras1);\r\nif (ret)\r\nprintk(KERN_ERR "Error registering Shared IRQ\n");\r\n}\r\npmx_driver.mode = pmx_mode;\r\npmx_driver.devs = pmx_devs;\r\npmx_driver.devs_count = pmx_dev_count;\r\npmx_driver.base = ioremap(SPEAR300_SOC_CONFIG_BASE, SZ_4K);\r\nif (pmx_driver.base) {\r\nret = pmx_register(&pmx_driver);\r\nif (ret)\r\nprintk(KERN_ERR "padmux: registeration failed. err no"\r\n": %d\n", ret);\r\niounmap(pmx_driver.base);\r\n}\r\n}
