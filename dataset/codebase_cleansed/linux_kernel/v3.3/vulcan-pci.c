void __init vulcan_pci_preinit(void)\r\n{\r\n#ifndef CONFIG_IXP4XX_INDIRECT_PCI\r\npci_cardbus_mem_size = SZ_8M;\r\npr_info("Vulcan PCI: limiting CardBus memory size to %dMB\n",\r\n(int)(pci_cardbus_mem_size >> 20));\r\n#endif\r\nirq_set_irq_type(IXP4XX_GPIO_IRQ(INTA), IRQ_TYPE_LEVEL_LOW);\r\nirq_set_irq_type(IXP4XX_GPIO_IRQ(INTB), IRQ_TYPE_LEVEL_LOW);\r\nixp4xx_pci_preinit();\r\n}\r\nstatic int __init vulcan_map_irq(const struct pci_dev *dev, u8 slot, u8 pin)\r\n{\r\nif (slot == 1)\r\nreturn IXP4XX_GPIO_IRQ(INTA);\r\nif (slot == 2)\r\nreturn IXP4XX_GPIO_IRQ(INTB);\r\nreturn -1;\r\n}\r\nint __init vulcan_pci_init(void)\r\n{\r\nif (machine_is_arcom_vulcan())\r\npci_common_init(&vulcan_pci);\r\nreturn 0;\r\n}
