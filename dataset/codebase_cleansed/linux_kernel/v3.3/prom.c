static void null_prom_display(const char *string, int pos, int clear)\r\n{\r\n}\r\nstatic void null_prom_monitor(void)\r\n{\r\n}\r\nstatic void null_prom_putc(char c)\r\n{\r\n}\r\nvoid prom_putchar(char c)\r\n{\r\n__prom_putc(c);\r\n}\r\nstatic void setup_prom_vectors(void)\r\n{\r\nu32 version = *(u32 *)(RESET_VECTOR + 0x90);\r\nif (version >= 307) {\r\nprom_display = (void *)PROM_DISPLAY_ADDR;\r\n__prom_putc = (void *)PROM_PUTC_ADDR;\r\nprom_monitor = (void *)PROM_MONITOR_ADDR;\r\n}\r\nprintk(KERN_DEBUG "prom vectors set up\n");\r\n}\r\nvoid __init prom_init(void)\r\n{\r\nint argc = fw_arg0;\r\nchar **argv = (char **) fw_arg1;\r\nsetup_prom_vectors();\r\nif (IS_LASAT_200()) {\r\nprintk(KERN_INFO "LASAT 200 board\n");\r\nlasat_ndelay_divider = LASAT_200_DIVIDER;\r\nat93c = &at93c_defs[1];\r\n} else {\r\nprintk(KERN_INFO "LASAT 100 board\n");\r\nlasat_ndelay_divider = LASAT_100_DIVIDER;\r\nat93c = &at93c_defs[0];\r\n}\r\nlasat_init_board_info();\r\nif (argc > 0) {\r\nstrncpy(arcs_cmdline, argv[0], COMMAND_LINE_SIZE-1);\r\narcs_cmdline[COMMAND_LINE_SIZE-1] = '\0';\r\n}\r\nset_io_port_base(KSEG1);\r\nioport_resource.start = 0;\r\nioport_resource.end = 0xffffffff;\r\nadd_memory_region(0, lasat_board_info.li_memsize, BOOT_MEM_RAM);\r\n}\r\nvoid __init prom_free_prom_memory(void)\r\n{\r\n}\r\nconst char *get_system_type(void)\r\n{\r\nreturn lasat_board_info.li_bmstr;\r\n}
