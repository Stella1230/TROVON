static int mmc_set_power(struct device *dev, int slot, int power_on,\r\nint vdd)\r\n{\r\ngpio_set_value(H2_TPS_GPIO_MMC_PWR_EN, power_on);\r\nreturn 0;\r\n}\r\nstatic int mmc_late_init(struct device *dev)\r\n{\r\nint ret = gpio_request(H2_TPS_GPIO_MMC_PWR_EN, "MMC power");\r\nif (ret < 0)\r\nreturn ret;\r\ngpio_direction_output(H2_TPS_GPIO_MMC_PWR_EN, 0);\r\nreturn ret;\r\n}\r\nstatic void mmc_cleanup(struct device *dev)\r\n{\r\ngpio_free(H2_TPS_GPIO_MMC_PWR_EN);\r\n}\r\nvoid __init h2_mmc_init(void)\r\n{\r\nmmc_data[0] = &mmc1_data;\r\nomap1_init_mmc(mmc_data, OMAP16XX_NR_MMC);\r\n}\r\nvoid __init h2_mmc_init(void)\r\n{\r\n}
