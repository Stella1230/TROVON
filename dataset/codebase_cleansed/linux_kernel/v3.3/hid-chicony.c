static int ch_input_mapping(struct hid_device *hdev, struct hid_input *hi,\r\nstruct hid_field *field, struct hid_usage *usage,\r\nunsigned long **bit, int *max)\r\n{\r\nif ((usage->hid & HID_USAGE_PAGE) != HID_UP_MSVENDOR)\r\nreturn 0;\r\nset_bit(EV_REP, hi->input->evbit);\r\nswitch (usage->hid & HID_USAGE) {\r\ncase 0xff01: ch_map_key_clear(BTN_1); break;\r\ncase 0xff02: ch_map_key_clear(BTN_2); break;\r\ncase 0xff03: ch_map_key_clear(BTN_3); break;\r\ncase 0xff04: ch_map_key_clear(BTN_4); break;\r\ncase 0xff05: ch_map_key_clear(BTN_5); break;\r\ncase 0xff06: ch_map_key_clear(BTN_6); break;\r\ncase 0xff07: ch_map_key_clear(BTN_7); break;\r\ncase 0xff08: ch_map_key_clear(BTN_8); break;\r\ncase 0xff09: ch_map_key_clear(BTN_9); break;\r\ncase 0xff0a: ch_map_key_clear(BTN_A); break;\r\ncase 0xff0b: ch_map_key_clear(BTN_B); break;\r\ndefault:\r\nreturn 0;\r\n}\r\nreturn 1;\r\n}\r\nstatic int __init ch_init(void)\r\n{\r\nreturn hid_register_driver(&ch_driver);\r\n}\r\nstatic void __exit ch_exit(void)\r\n{\r\nhid_unregister_driver(&ch_driver);\r\n}
