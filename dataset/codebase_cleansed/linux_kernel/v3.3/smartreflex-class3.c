static int sr_class3_enable(struct voltagedomain *voltdm)\r\n{\r\nunsigned long volt = voltdm_get_voltage(voltdm);\r\nif (!volt) {\r\npr_warning("%s: Curr voltage unknown. Cannot enable sr_%s\n",\r\n__func__, voltdm->name);\r\nreturn -ENODATA;\r\n}\r\nomap_vp_enable(voltdm);\r\nreturn sr_enable(voltdm, volt);\r\n}\r\nstatic int sr_class3_disable(struct voltagedomain *voltdm, int is_volt_reset)\r\n{\r\nomap_vp_disable(voltdm);\r\nsr_disable(voltdm);\r\nif (is_volt_reset)\r\nvoltdm_reset(voltdm);\r\nreturn 0;\r\n}\r\nstatic int sr_class3_configure(struct voltagedomain *voltdm)\r\n{\r\nreturn sr_configure_errgen(voltdm);\r\n}\r\nstatic int __init sr_class3_init(void)\r\n{\r\npr_info("SmartReflex Class3 initialized\n");\r\nreturn sr_register_class(&class3_data);\r\n}
