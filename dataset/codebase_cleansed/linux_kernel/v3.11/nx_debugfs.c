int nx_debugfs_init(struct nx_crypto_driver *drv)\r\n{\r\nstruct nx_debugfs *dfs = &drv->dfs;\r\ndfs->dfs_root = debugfs_create_dir(NX_NAME, NULL);\r\ndfs->dfs_aes_ops =\r\ndebugfs_create_u32("aes_ops",\r\nS_IRUSR | S_IRGRP | S_IROTH,\r\ndfs->dfs_root, (u32 *)&drv->stats.aes_ops);\r\ndfs->dfs_sha256_ops =\r\ndebugfs_create_u32("sha256_ops",\r\nS_IRUSR | S_IRGRP | S_IROTH,\r\ndfs->dfs_root,\r\n(u32 *)&drv->stats.sha256_ops);\r\ndfs->dfs_sha512_ops =\r\ndebugfs_create_u32("sha512_ops",\r\nS_IRUSR | S_IRGRP | S_IROTH,\r\ndfs->dfs_root,\r\n(u32 *)&drv->stats.sha512_ops);\r\ndfs->dfs_aes_bytes =\r\ndebugfs_create_u64("aes_bytes",\r\nS_IRUSR | S_IRGRP | S_IROTH,\r\ndfs->dfs_root,\r\n(u64 *)&drv->stats.aes_bytes);\r\ndfs->dfs_sha256_bytes =\r\ndebugfs_create_u64("sha256_bytes",\r\nS_IRUSR | S_IRGRP | S_IROTH,\r\ndfs->dfs_root,\r\n(u64 *)&drv->stats.sha256_bytes);\r\ndfs->dfs_sha512_bytes =\r\ndebugfs_create_u64("sha512_bytes",\r\nS_IRUSR | S_IRGRP | S_IROTH,\r\ndfs->dfs_root,\r\n(u64 *)&drv->stats.sha512_bytes);\r\ndfs->dfs_errors =\r\ndebugfs_create_u32("errors",\r\nS_IRUSR | S_IRGRP | S_IROTH,\r\ndfs->dfs_root, (u32 *)&drv->stats.errors);\r\ndfs->dfs_last_error =\r\ndebugfs_create_u32("last_error",\r\nS_IRUSR | S_IRGRP | S_IROTH,\r\ndfs->dfs_root,\r\n(u32 *)&drv->stats.last_error);\r\ndfs->dfs_last_error_pid =\r\ndebugfs_create_u32("last_error_pid",\r\nS_IRUSR | S_IRGRP | S_IROTH,\r\ndfs->dfs_root,\r\n(u32 *)&drv->stats.last_error_pid);\r\nreturn 0;\r\n}\r\nvoid\r\nnx_debugfs_fini(struct nx_crypto_driver *drv)\r\n{\r\ndebugfs_remove_recursive(drv->dfs.dfs_root);\r\n}
