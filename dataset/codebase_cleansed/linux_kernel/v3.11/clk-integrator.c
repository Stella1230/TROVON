void __init integrator_clk_init(bool is_cp)\r\n{\r\nstruct clk *clk;\r\nclk = clk_register_fixed_rate(NULL, "apb_pclk", NULL, CLK_IS_ROOT, 0);\r\nclk_register_clkdev(clk, "apb_pclk", NULL);\r\nclk = clk_register_fixed_rate(NULL, "uartclk", NULL, CLK_IS_ROOT,\r\n14745600);\r\nclk_register_clkdev(clk, NULL, "uart0");\r\nclk_register_clkdev(clk, NULL, "uart1");\r\nif (is_cp)\r\nclk_register_clkdev(clk, NULL, "mmci");\r\nclk = clk_register_fixed_rate(NULL, "clk24mhz", NULL, CLK_IS_ROOT,\r\n24000000);\r\nclk_register_clkdev(clk, NULL, "kmi0");\r\nclk_register_clkdev(clk, NULL, "kmi1");\r\nif (!is_cp)\r\nclk_register_clkdev(clk, NULL, "ap_timer");\r\nif (!is_cp)\r\nreturn;\r\nclk = clk_register_fixed_rate(NULL, "clk1mhz", NULL, CLK_IS_ROOT,\r\n1000000);\r\nclk_register_clkdev(clk, NULL, "sp804");\r\nclk = icst_clk_register(NULL, &cp_icst_desc,\r\n__io_address(INTEGRATOR_HDR_BASE));\r\nclk_register_clkdev(clk, NULL, "clcd");\r\n}
