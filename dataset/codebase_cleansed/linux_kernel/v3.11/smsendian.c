void smsendian_handle_tx_message(void *buffer)\r\n{\r\n#ifdef __BIG_ENDIAN\r\nstruct sms_msg_data *msg = (struct sms_msg_data *)buffer;\r\nint i;\r\nint msg_words;\r\nswitch (msg->x_msg_header.msg_type) {\r\ncase MSG_SMS_DATA_DOWNLOAD_REQ:\r\n{\r\nmsg->msg_data[0] = le32_to_cpu(msg->msg_data[0]);\r\nbreak;\r\n}\r\ndefault:\r\nmsg_words = (msg->x_msg_header.msg_length -\r\nsizeof(struct sms_msg_hdr))/4;\r\nfor (i = 0; i < msg_words; i++)\r\nmsg->msg_data[i] = le32_to_cpu(msg->msg_data[i]);\r\nbreak;\r\n}\r\n#endif\r\n}\r\nvoid smsendian_handle_rx_message(void *buffer)\r\n{\r\n#ifdef __BIG_ENDIAN\r\nstruct sms_msg_data *msg = (struct sms_msg_data *)buffer;\r\nint i;\r\nint msg_words;\r\nswitch (msg->x_msg_header.msg_type) {\r\ncase MSG_SMS_GET_VERSION_EX_RES:\r\n{\r\nstruct sms_version_res *ver =\r\n(struct sms_version_res *) msg;\r\nver->chip_model = le16_to_cpu(ver->chip_model);\r\nbreak;\r\n}\r\ncase MSG_SMS_DVBT_BDA_DATA:\r\ncase MSG_SMS_DAB_CHANNEL:\r\ncase MSG_SMS_DATA_MSG:\r\n{\r\nbreak;\r\n}\r\ndefault:\r\n{\r\nmsg_words = (msg->x_msg_header.msg_length -\r\nsizeof(struct sms_msg_hdr))/4;\r\nfor (i = 0; i < msg_words; i++)\r\nmsg->msg_data[i] = le32_to_cpu(msg->msg_data[i]);\r\nbreak;\r\n}\r\n}\r\n#endif\r\n}\r\nvoid smsendian_handle_message_header(void *msg)\r\n{\r\n#ifdef __BIG_ENDIAN\r\nstruct sms_msg_hdr *phdr = (struct sms_msg_hdr *)msg;\r\nphdr->msg_type = le16_to_cpu(phdr->msg_type);\r\nphdr->msg_length = le16_to_cpu(phdr->msg_length);\r\nphdr->msg_flags = le16_to_cpu(phdr->msg_flags);\r\n#endif\r\n}
