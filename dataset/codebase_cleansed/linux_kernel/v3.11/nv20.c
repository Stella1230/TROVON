int\r\nnv20_identify(struct nouveau_device *device)\r\n{\r\nswitch (device->chipset) {\r\ncase 0x20:\r\ndevice->cname = "NV20";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nouveau_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = &nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = &nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLOCK ] = &nv04_clock_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = &nv20_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = &nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = &nv04_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = &nv20_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_VM ] = &nv04_vmmgr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = &nv17_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = &nv10_software_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv20_graph_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = &nv04_disp_oclass;\r\nbreak;\r\ncase 0x25:\r\ndevice->cname = "NV25";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nouveau_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = &nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = &nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLOCK ] = &nv04_clock_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = &nv20_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = &nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = &nv04_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = &nv25_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_VM ] = &nv04_vmmgr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = &nv17_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = &nv10_software_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv25_graph_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = &nv04_disp_oclass;\r\nbreak;\r\ncase 0x28:\r\ndevice->cname = "NV28";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nouveau_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = &nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = &nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLOCK ] = &nv04_clock_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = &nv20_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = &nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = &nv04_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = &nv25_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_VM ] = &nv04_vmmgr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = &nv17_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = &nv10_software_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv25_graph_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = &nv04_disp_oclass;\r\nbreak;\r\ncase 0x2a:\r\ndevice->cname = "NV2A";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nouveau_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = &nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = &nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLOCK ] = &nv04_clock_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = &nv20_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = &nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = &nv04_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = &nv25_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = &nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_VM ] = &nv04_vmmgr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = &nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = &nv17_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = &nv10_software_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv2a_graph_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = &nv04_disp_oclass;\r\nbreak;\r\ndefault:\r\nnv_fatal(device, "unknown Kelvin chipset\n");\r\nreturn -EINVAL;\r\n}\r\nreturn 0;\r\n}
