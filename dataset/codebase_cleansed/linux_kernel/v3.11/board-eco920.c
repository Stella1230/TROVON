static void __init eco920_init_early(void)\r\n{\r\nat91rm9200_set_type(ARCH_REVISON_9200_PQFP);\r\nat91_initialize(18432000);\r\n}\r\nstatic void __init eco920_board_init(void)\r\n{\r\nat91_register_uart(0, 0, 0);\r\nat91_add_device_serial();\r\nat91_add_device_eth(&eco920_eth_data);\r\nat91_add_device_usbh(&eco920_usbh_data);\r\nat91_add_device_udc(&eco920_udc_data);\r\nat91_add_device_mci(0, &eco920_mci0_data);\r\nplatform_device_register(&eco920_flash);\r\nat91_ramc_write(0, AT91_SMC_CSR(7), AT91_SMC_RWHOLD_(1)\r\n| AT91_SMC_RWSETUP_(1)\r\n| AT91_SMC_DBW_8\r\n| AT91_SMC_WSEN\r\n| AT91_SMC_NWS_(15));\r\nat91_set_A_periph(AT91_PIN_PC6, 1);\r\nat91_set_gpio_input(AT91_PIN_PA23, 0);\r\nat91_set_deglitch(AT91_PIN_PA23, 1);\r\nat91_ramc_write(0, AT91_SMC_CSR(3),\r\nAT91_SMC_DBW_16 |\r\nAT91_SMC_WSEN |\r\nAT91_SMC_NWS_(5) |\r\nAT91_SMC_TDF_(1)\r\n);\r\nat91_add_device_spi(eco920_spi_devices, ARRAY_SIZE(eco920_spi_devices));\r\nat91_gpio_leds(eco920_leds, ARRAY_SIZE(eco920_leds));\r\n}
