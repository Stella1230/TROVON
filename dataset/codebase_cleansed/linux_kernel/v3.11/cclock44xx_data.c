int __init omap4xxx_clk_init(void)\r\n{\r\nint rc;\r\nif (cpu_is_omap443x()) {\r\ncpu_mask = RATE_IN_4430;\r\nomap_clocks_register(omap443x_clks, ARRAY_SIZE(omap443x_clks));\r\n} else if (cpu_is_omap446x() || cpu_is_omap447x()) {\r\ncpu_mask = RATE_IN_4460 | RATE_IN_4430;\r\nomap_clocks_register(omap446x_clks, ARRAY_SIZE(omap446x_clks));\r\nif (cpu_is_omap447x())\r\npr_warn("WARNING: OMAP4470 clock data incomplete!\n");\r\n} else {\r\nreturn 0;\r\n}\r\nomap_clocks_register(omap44xx_clks, ARRAY_SIZE(omap44xx_clks));\r\nomap2_clk_disable_autoidle_all();\r\nrc = clk_set_parent(&abe_dpll_refclk_mux_ck, &sys_32k_ck);\r\nif (!rc)\r\nrc = clk_set_rate(&dpll_abe_ck, OMAP4_DPLL_ABE_DEFFREQ);\r\nif (rc)\r\npr_err("%s: failed to configure ABE DPLL!\n", __func__);\r\nrc = clk_set_rate(&dpll_usb_ck, OMAP4_DPLL_USB_DEFFREQ);\r\nif (rc)\r\npr_err("%s: failed to configure USB DPLL!\n", __func__);\r\nreturn 0;\r\n}
