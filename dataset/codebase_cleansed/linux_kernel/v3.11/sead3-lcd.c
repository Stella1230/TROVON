static __init int sead3_lcd_add(void)\r\n{\r\nstruct platform_device *pdev;\r\nint retval;\r\npdev = platform_device_alloc("cobalt-lcd", -1);\r\nif (!pdev)\r\nreturn -ENOMEM;\r\nretval = platform_device_add_resources(pdev, &sead3_lcd_resource, 1);\r\nif (retval)\r\ngoto err_free_device;\r\nretval = platform_device_add(pdev);\r\nif (retval)\r\ngoto err_free_device;\r\nreturn 0;\r\nerr_free_device:\r\nplatform_device_put(pdev);\r\nreturn retval;\r\n}
