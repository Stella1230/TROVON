void __init bcm2835_init_clocks(void)\r\n{\r\nstruct clk *clk;\r\nint ret;\r\nclk = clk_register_fixed_rate(NULL, "sys_pclk", NULL, CLK_IS_ROOT,\r\n250000000);\r\nif (IS_ERR(clk))\r\npr_err("sys_pclk not registered\n");\r\nclk = clk_register_fixed_rate(NULL, "apb_pclk", NULL, CLK_IS_ROOT,\r\n126000000);\r\nif (IS_ERR(clk))\r\npr_err("apb_pclk not registered\n");\r\nclk = clk_register_fixed_rate(NULL, "uart0_pclk", NULL, CLK_IS_ROOT,\r\n3000000);\r\nif (IS_ERR(clk))\r\npr_err("uart0_pclk not registered\n");\r\nret = clk_register_clkdev(clk, NULL, "20201000.uart");\r\nif (ret)\r\npr_err("uart0_pclk alias not registered\n");\r\nclk = clk_register_fixed_rate(NULL, "uart1_pclk", NULL, CLK_IS_ROOT,\r\n125000000);\r\nif (IS_ERR(clk))\r\npr_err("uart1_pclk not registered\n");\r\nret = clk_register_clkdev(clk, NULL, "20215000.uart");\r\nif (ret)\r\npr_err("uart1_pclk alias not registered\n");\r\nof_clk_init(clk_match);\r\n}
