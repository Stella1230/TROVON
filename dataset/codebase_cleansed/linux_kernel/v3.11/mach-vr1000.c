static void vr1000_power_off(void)\r\n{\r\ngpio_direction_output(S3C2410_GPB(9), 1);\r\n}\r\nstatic void __init vr1000_map_io(void)\r\n{\r\ns3c24xx_dclk0.parent = &clk_upll;\r\ns3c24xx_dclk0.rate = 12*1000*1000;\r\ns3c24xx_dclk1.parent = NULL;\r\ns3c24xx_dclk1.rate = 3692307;\r\ns3c24xx_clkout0.parent = &s3c24xx_dclk0;\r\ns3c24xx_clkout1.parent = &s3c24xx_dclk1;\r\ns3c24xx_uclk.parent = &s3c24xx_clkout1;\r\ns3c24xx_register_clocks(vr1000_clocks, ARRAY_SIZE(vr1000_clocks));\r\npm_power_off = vr1000_power_off;\r\ns3c24xx_init_io(vr1000_iodesc, ARRAY_SIZE(vr1000_iodesc));\r\ns3c24xx_init_clocks(0);\r\ns3c24xx_init_uarts(vr1000_uartcfgs, ARRAY_SIZE(vr1000_uartcfgs));\r\nsamsung_set_timer_source(SAMSUNG_PWM3, SAMSUNG_PWM4);\r\n}\r\nstatic void __init vr1000_init(void)\r\n{\r\ns3c_i2c0_set_platdata(NULL);\r\nplatform_add_devices(vr1000_devices, ARRAY_SIZE(vr1000_devices));\r\ni2c_register_board_info(0, vr1000_i2c_devs,\r\nARRAY_SIZE(vr1000_i2c_devs));\r\nnor_simtec_init();\r\nsimtec_audio_add(NULL, true, NULL);\r\nWARN_ON(gpio_request(S3C2410_GPB(9), "power off"));\r\n}
