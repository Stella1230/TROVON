void show_regs(struct pt_regs *regs)\r\n{\r\nprintk("\n");\r\nprintk("EIP: %04lx:[<%08lx>] CPU: %d %s",\r\n0xffff & PT_REGS_CS(regs), PT_REGS_IP(regs),\r\nsmp_processor_id(), print_tainted());\r\nif (PT_REGS_CS(regs) & 3)\r\nprintk(" ESP: %04lx:%08lx", 0xffff & PT_REGS_SS(regs),\r\nPT_REGS_SP(regs));\r\nprintk(" EFLAGS: %08lx\n %s\n", PT_REGS_EFLAGS(regs),\r\nprint_tainted());\r\nprintk("EAX: %08lx EBX: %08lx ECX: %08lx EDX: %08lx\n",\r\nPT_REGS_AX(regs), PT_REGS_BX(regs),\r\nPT_REGS_CX(regs), PT_REGS_DX(regs));\r\nprintk("ESI: %08lx EDI: %08lx EBP: %08lx",\r\nPT_REGS_SI(regs), PT_REGS_DI(regs), PT_REGS_BP(regs));\r\nprintk(" DS: %04lx ES: %04lx\n",\r\n0xffff & PT_REGS_DS(regs),\r\n0xffff & PT_REGS_ES(regs));\r\n}
