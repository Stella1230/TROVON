static int dp83848_ack_interrupt(struct phy_device *phydev)\r\n{\r\nint err = phy_read(phydev, DP83848_MISR);\r\nreturn err < 0 ? err : 0;\r\n}\r\nstatic int dp83848_config_intr(struct phy_device *phydev)\r\n{\r\nint err;\r\nif (phydev->interrupts == PHY_INTERRUPT_ENABLED) {\r\nerr = phy_write(phydev, DP83848_MICR,\r\nDP83848_MICR_INT_OE |\r\nDP83848_MICR_INTEN);\r\nif (err < 0)\r\nreturn err;\r\nreturn phy_write(phydev, DP83848_MISR,\r\nDP83848_MISR_ANC_INT_EN |\r\nDP83848_MISR_DUP_INT_EN |\r\nDP83848_MISR_SPD_INT_EN |\r\nDP83848_MISR_LINK_INT_EN);\r\n}\r\nreturn phy_write(phydev, DP83848_MICR, 0x0);\r\n}
