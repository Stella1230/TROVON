static int __init txx9aclc_generic_probe(struct platform_device *pdev)\r\n{\r\nint ret;\r\nsoc_pdev = platform_device_alloc("soc-audio", -1);\r\nif (!soc_pdev)\r\nreturn -ENOMEM;\r\nplatform_set_drvdata(soc_pdev, &txx9aclc_generic_card);\r\nret = platform_device_add(soc_pdev);\r\nif (ret) {\r\nplatform_device_put(soc_pdev);\r\nreturn ret;\r\n}\r\nreturn 0;\r\n}\r\nstatic int __exit txx9aclc_generic_remove(struct platform_device *pdev)\r\n{\r\nplatform_device_unregister(soc_pdev);\r\nreturn 0;\r\n}\r\nstatic int __init txx9aclc_generic_init(void)\r\n{\r\nreturn platform_driver_probe(&txx9aclc_generic_driver,\r\ntxx9aclc_generic_probe);\r\n}\r\nstatic void __exit txx9aclc_generic_exit(void)\r\n{\r\nplatform_driver_unregister(&txx9aclc_generic_driver);\r\n}
