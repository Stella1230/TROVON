u64\r\ngm107_devinit_disable(struct nvkm_devinit *init)\r\n{\r\nstruct nvkm_device *device = init->subdev.device;\r\nu32 r021c00 = nvkm_rd32(device, 0x021c00);\r\nu32 r021c04 = nvkm_rd32(device, 0x021c04);\r\nu64 disable = 0ULL;\r\nif (r021c00 & 0x00000001)\r\ndisable |= (1ULL << NVKM_ENGINE_CE0);\r\nif (r021c00 & 0x00000004)\r\ndisable |= (1ULL << NVKM_ENGINE_CE2);\r\nif (r021c04 & 0x00000001)\r\ndisable |= (1ULL << NVKM_ENGINE_DISP);\r\nreturn disable;\r\n}\r\nint\r\ngm107_devinit_new(struct nvkm_device *device, int index,\r\nstruct nvkm_devinit **pinit)\r\n{\r\nreturn nv50_devinit_new_(&gm107_devinit, device, index, pinit);\r\n}
