void omap2_clkt_iclk_allow_idle(struct clk_hw_omap *clk)\r\n{\r\nu32 v;\r\nvoid __iomem *r;\r\nr = (__force void __iomem *)\r\n((__force u32)clk->enable_reg ^ (CM_AUTOIDLE ^ CM_ICLKEN));\r\nv = ti_clk_ll_ops->clk_readl(r);\r\nv |= (1 << clk->enable_bit);\r\nti_clk_ll_ops->clk_writel(v, r);\r\n}\r\nvoid omap2_clkt_iclk_deny_idle(struct clk_hw_omap *clk)\r\n{\r\nu32 v;\r\nvoid __iomem *r;\r\nr = (__force void __iomem *)\r\n((__force u32)clk->enable_reg ^ (CM_AUTOIDLE ^ CM_ICLKEN));\r\nv = ti_clk_ll_ops->clk_readl(r);\r\nv &= ~(1 << clk->enable_bit);\r\nti_clk_ll_ops->clk_writel(v, r);\r\n}\r\nstatic void omap2430_clk_i2chs_find_idlest(struct clk_hw_omap *clk,\r\nvoid __iomem **idlest_reg,\r\nu8 *idlest_bit,\r\nu8 *idlest_val)\r\n{\r\nu32 r;\r\nr = ((__force u32)clk->enable_reg ^ (OMAP24XX_CM_FCLKEN2 ^ CM_IDLEST));\r\n*idlest_reg = (__force void __iomem *)r;\r\n*idlest_bit = clk->enable_bit;\r\n*idlest_val = OMAP24XX_CM_IDLEST_VAL;\r\n}
