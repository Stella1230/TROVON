static int psci_boot_secondary(unsigned int cpu, struct task_struct *idle)\r\n{\r\nif (psci_ops.cpu_on)\r\nreturn psci_ops.cpu_on(cpu_logical_map(cpu),\r\n__pa(secondary_startup));\r\nreturn -ENODEV;\r\n}\r\nvoid __ref psci_cpu_die(unsigned int cpu)\r\n{\r\nconst struct psci_power_state ps = {\r\n.type = PSCI_POWER_STATE_TYPE_POWER_DOWN,\r\n};\r\nif (psci_ops.cpu_off)\r\npsci_ops.cpu_off(ps);\r\npanic("psci: cpu %d failed to shutdown\n", cpu);\r\n}\r\nbool __init psci_smp_available(void)\r\n{\r\nreturn (psci_ops.cpu_on != NULL);\r\n}
