void __init omap2_set_globals_cm(void __iomem *cm, void __iomem *cm2)\r\n{\r\ncm_base = cm;\r\ncm2_base = cm2;\r\n}\r\nint cm_split_idlest_reg(void __iomem *idlest_reg, s16 *prcm_inst,\r\nu8 *idlest_reg_id)\r\n{\r\nif (!cm_ll_data->split_idlest_reg) {\r\nWARN_ONCE(1, "cm: %s: no low-level function defined\n",\r\n__func__);\r\nreturn -EINVAL;\r\n}\r\nreturn cm_ll_data->split_idlest_reg(idlest_reg, prcm_inst,\r\nidlest_reg_id);\r\n}\r\nint cm_wait_module_ready(s16 prcm_mod, u8 idlest_id, u8 idlest_shift)\r\n{\r\nif (!cm_ll_data->wait_module_ready) {\r\nWARN_ONCE(1, "cm: %s: no low-level function defined\n",\r\n__func__);\r\nreturn -EINVAL;\r\n}\r\nreturn cm_ll_data->wait_module_ready(prcm_mod, idlest_id, idlest_shift);\r\n}\r\nint cm_register(struct cm_ll_data *cld)\r\n{\r\nif (!cld)\r\nreturn -EINVAL;\r\nif (cm_ll_data != &null_cm_ll_data)\r\nreturn -EEXIST;\r\ncm_ll_data = cld;\r\nreturn 0;\r\n}\r\nint cm_unregister(struct cm_ll_data *cld)\r\n{\r\nif (!cld || cm_ll_data != cld)\r\nreturn -EINVAL;\r\ncm_ll_data = &null_cm_ll_data;\r\nreturn 0;\r\n}
