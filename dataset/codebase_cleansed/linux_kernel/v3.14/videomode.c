void videomode_from_timing(const struct display_timing *dt,\r\nstruct videomode *vm)\r\n{\r\nvm->pixelclock = dt->pixelclock.typ;\r\nvm->hactive = dt->hactive.typ;\r\nvm->hfront_porch = dt->hfront_porch.typ;\r\nvm->hback_porch = dt->hback_porch.typ;\r\nvm->hsync_len = dt->hsync_len.typ;\r\nvm->vactive = dt->vactive.typ;\r\nvm->vfront_porch = dt->vfront_porch.typ;\r\nvm->vback_porch = dt->vback_porch.typ;\r\nvm->vsync_len = dt->vsync_len.typ;\r\nvm->flags = dt->flags;\r\n}\r\nint videomode_from_timings(const struct display_timings *disp,\r\nstruct videomode *vm, unsigned int index)\r\n{\r\nstruct display_timing *dt;\r\ndt = display_timings_get(disp, index);\r\nif (!dt)\r\nreturn -EINVAL;\r\nvideomode_from_timing(dt, vm);\r\nreturn 0;\r\n}
