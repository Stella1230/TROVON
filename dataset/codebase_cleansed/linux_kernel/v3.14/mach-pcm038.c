static void __init pcm038_init_sram(void)\r\n{\r\n__raw_writel(0x0000d843, MX27_IO_ADDRESS(MX27_WEIM_CSCRxU(1)));\r\n__raw_writel(0x22252521, MX27_IO_ADDRESS(MX27_WEIM_CSCRxL(1)));\r\n__raw_writel(0x22220a00, MX27_IO_ADDRESS(MX27_WEIM_CSCRxA(1)));\r\n}\r\nstatic int pcm038_usbh2_init(struct platform_device *pdev)\r\n{\r\nreturn mx27_initialize_usb_hw(pdev->id, MXC_EHCI_POWER_PINS_ENABLED |\r\nMXC_EHCI_INTERFACE_DIFF_UNI);\r\n}\r\nstatic void __init pcm038_init(void)\r\n{\r\nimx27_soc_init();\r\nmxc_gpio_setup_multiple_pins(pcm038_pins, ARRAY_SIZE(pcm038_pins),\r\n"PCM038");\r\npcm038_init_sram();\r\nimx27_add_imx_uart0(&uart_pdata);\r\nimx27_add_imx_uart1(&uart_pdata);\r\nimx27_add_imx_uart2(&uart_pdata);\r\nmxc_gpio_mode(PE16_AF_OWIRE);\r\nimx27_add_mxc_nand(&pcm038_nand_board_info);\r\ni2c_register_board_info(1, pcm038_i2c_devices,\r\nARRAY_SIZE(pcm038_i2c_devices));\r\nimx27_add_imx_i2c(1, &pcm038_i2c1_data);\r\nmxc_gpio_mode(GPIO_PORTE | 18 | GPIO_GPIO | GPIO_OUT);\r\nmxc_gpio_mode(GPIO_PORTD | 28 | GPIO_GPIO | GPIO_OUT);\r\nmxc_gpio_mode(GPIO_PORTB | 23 | GPIO_GPIO | GPIO_IN);\r\nimx27_add_spi_imx0(&pcm038_spi0_data);\r\npcm038_spi_board_info[0].irq = gpio_to_irq(IMX_GPIO_NR(2, 23));\r\nspi_register_board_info(pcm038_spi_board_info,\r\nARRAY_SIZE(pcm038_spi_board_info));\r\nimx27_add_mxc_ehci_hs(2, &usbh2_pdata);\r\nimx27_add_fec(NULL);\r\nplatform_add_devices(platform_devices, ARRAY_SIZE(platform_devices));\r\nimx27_add_imx2_wdt();\r\nimx27_add_mxc_w1();\r\n#ifdef CONFIG_MACH_PCM970_BASEBOARD\r\npcm970_baseboard_init();\r\n#endif\r\n}\r\nstatic void __init pcm038_timer_init(void)\r\n{\r\nmx27_clocks_init(26000000);\r\n}
