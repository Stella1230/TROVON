static int db8500_cpufreq_cooling_probe(struct platform_device *pdev)\r\n{\r\nstruct thermal_cooling_device *cdev;\r\nstruct cpumask mask_val;\r\nif (!cpufreq_frequency_get_table(0))\r\nreturn -EPROBE_DEFER;\r\ncpumask_set_cpu(0, &mask_val);\r\ncdev = cpufreq_cooling_register(&mask_val);\r\nif (IS_ERR(cdev)) {\r\ndev_err(&pdev->dev, "Failed to register cooling device\n");\r\nreturn PTR_ERR(cdev);\r\n}\r\nplatform_set_drvdata(pdev, cdev);\r\ndev_info(&pdev->dev, "Cooling device registered: %s\n", cdev->type);\r\nreturn 0;\r\n}\r\nstatic int db8500_cpufreq_cooling_remove(struct platform_device *pdev)\r\n{\r\nstruct thermal_cooling_device *cdev = platform_get_drvdata(pdev);\r\ncpufreq_cooling_unregister(cdev);\r\nreturn 0;\r\n}\r\nstatic int db8500_cpufreq_cooling_suspend(struct platform_device *pdev,\r\npm_message_t state)\r\n{\r\nreturn -ENOSYS;\r\n}\r\nstatic int db8500_cpufreq_cooling_resume(struct platform_device *pdev)\r\n{\r\nreturn -ENOSYS;\r\n}\r\nstatic int __init db8500_cpufreq_cooling_init(void)\r\n{\r\nreturn platform_driver_register(&db8500_cpufreq_cooling_driver);\r\n}\r\nstatic void __exit db8500_cpufreq_cooling_exit(void)\r\n{\r\nplatform_driver_unregister(&db8500_cpufreq_cooling_driver);\r\n}
