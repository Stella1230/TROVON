static int rtl821x_ack_interrupt(struct phy_device *phydev)\r\n{\r\nint err;\r\nerr = phy_read(phydev, RTL821x_INSR);\r\nreturn (err < 0) ? err : 0;\r\n}\r\nstatic int rtl8211b_config_intr(struct phy_device *phydev)\r\n{\r\nint err;\r\nif (phydev->interrupts == PHY_INTERRUPT_ENABLED)\r\nerr = phy_write(phydev, RTL821x_INER,\r\nRTL821x_INER_INIT);\r\nelse\r\nerr = phy_write(phydev, RTL821x_INER, 0);\r\nreturn err;\r\n}\r\nstatic int rtl8211e_config_intr(struct phy_device *phydev)\r\n{\r\nint err;\r\nif (phydev->interrupts == PHY_INTERRUPT_ENABLED)\r\nerr = phy_write(phydev, RTL821x_INER,\r\nRTL8211E_INER_LINK_STATUS);\r\nelse\r\nerr = phy_write(phydev, RTL821x_INER, 0);\r\nreturn err;\r\n}\r\nstatic int __init realtek_init(void)\r\n{\r\nint ret;\r\nret = phy_driver_register(&rtl8201cp_driver);\r\nif (ret < 0)\r\nreturn -ENODEV;\r\nret = phy_driver_register(&rtl8211b_driver);\r\nif (ret < 0)\r\nreturn -ENODEV;\r\nreturn phy_driver_register(&rtl8211e_driver);\r\n}\r\nstatic void __exit realtek_exit(void)\r\n{\r\nphy_driver_unregister(&rtl8211b_driver);\r\nphy_driver_unregister(&rtl8211e_driver);\r\n}
