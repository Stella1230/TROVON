static int\r\nselect_task_rq_idle(struct task_struct *p, int cpu, int sd_flag, int flags)\r\n{\r\nreturn task_cpu(p);\r\n}\r\nstatic void pre_schedule_idle(struct rq *rq, struct task_struct *prev)\r\n{\r\nidle_exit_fair(rq);\r\nrq_last_tick_reset(rq);\r\n}\r\nstatic void post_schedule_idle(struct rq *rq)\r\n{\r\nidle_enter_fair(rq);\r\n}\r\nstatic void check_preempt_curr_idle(struct rq *rq, struct task_struct *p, int flags)\r\n{\r\nresched_task(rq->idle);\r\n}\r\nstatic struct task_struct *pick_next_task_idle(struct rq *rq)\r\n{\r\nschedstat_inc(rq, sched_goidle);\r\n#ifdef CONFIG_SMP\r\nrq->post_schedule = 1;\r\n#endif\r\nreturn rq->idle;\r\n}\r\nstatic void\r\ndequeue_task_idle(struct rq *rq, struct task_struct *p, int flags)\r\n{\r\nraw_spin_unlock_irq(&rq->lock);\r\nprintk(KERN_ERR "bad: scheduling from the idle thread!\n");\r\ndump_stack();\r\nraw_spin_lock_irq(&rq->lock);\r\n}\r\nstatic void put_prev_task_idle(struct rq *rq, struct task_struct *prev)\r\n{\r\n}\r\nstatic void task_tick_idle(struct rq *rq, struct task_struct *curr, int queued)\r\n{\r\n}\r\nstatic void set_curr_task_idle(struct rq *rq)\r\n{\r\n}\r\nstatic void switched_to_idle(struct rq *rq, struct task_struct *p)\r\n{\r\nBUG();\r\n}\r\nstatic void\r\nprio_changed_idle(struct rq *rq, struct task_struct *p, int oldprio)\r\n{\r\nBUG();\r\n}\r\nstatic unsigned int get_rr_interval_idle(struct rq *rq, struct task_struct *task)\r\n{\r\nreturn 0;\r\n}
