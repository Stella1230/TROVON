void hda_display_power(bool enable)\r\n{\r\nif (!get_power || !put_power)\r\nreturn;\r\nsnd_printdd("HDA display power %s \n",\r\nenable ? "Enable" : "Disable");\r\nif (enable)\r\nget_power();\r\nelse\r\nput_power();\r\n}\r\nint hda_i915_init(void)\r\n{\r\nint err = 0;\r\nget_power = symbol_request(i915_request_power_well);\r\nif (!get_power) {\r\nsnd_printk(KERN_WARNING "hda-i915: get_power symbol get fail\n");\r\nreturn -ENODEV;\r\n}\r\nput_power = symbol_request(i915_release_power_well);\r\nif (!put_power) {\r\nsymbol_put(i915_request_power_well);\r\nget_power = NULL;\r\nreturn -ENODEV;\r\n}\r\nsnd_printd("HDA driver get symbol successfully from i915 module\n");\r\nreturn err;\r\n}\r\nint hda_i915_exit(void)\r\n{\r\nif (get_power) {\r\nsymbol_put(i915_request_power_well);\r\nget_power = NULL;\r\n}\r\nif (put_power) {\r\nsymbol_put(i915_release_power_well);\r\nput_power = NULL;\r\n}\r\nreturn 0;\r\n}
