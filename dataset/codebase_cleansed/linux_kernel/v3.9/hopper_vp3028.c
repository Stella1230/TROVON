static int vp3028_frontend_init(struct mantis_pci *mantis, struct dvb_frontend *fe)\r\n{\r\nstruct i2c_adapter *adapter = &mantis->adapter;\r\nstruct mantis_hwconfig *config = mantis->hwconfig;\r\nint err = 0;\r\nmantis_gpio_set_bits(mantis, config->reset, 0);\r\nmsleep(100);\r\nerr = mantis_frontend_power(mantis, POWER_ON);\r\nmsleep(100);\r\nmantis_gpio_set_bits(mantis, config->reset, 1);\r\nerr = mantis_frontend_power(mantis, POWER_ON);\r\nif (err == 0) {\r\nmsleep(250);\r\ndprintk(MANTIS_ERROR, 1, "Probing for 10353 (DVB-T)");\r\nfe = dvb_attach(zl10353_attach, &hopper_vp3028_config, adapter);\r\nif (!fe)\r\nreturn -1;\r\n} else {\r\ndprintk(MANTIS_ERROR, 1, "Frontend on <%s> POWER ON failed! <%d>",\r\nadapter->name,\r\nerr);\r\nreturn -EIO;\r\n}\r\ndprintk(MANTIS_ERROR, 1, "Done!");\r\nreturn 0;\r\n}
