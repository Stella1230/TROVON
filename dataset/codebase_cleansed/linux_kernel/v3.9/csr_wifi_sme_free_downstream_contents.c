void CsrWifiSmeFreeDownstreamMessageContents(u16 eventClass, void *message)\r\n{\r\nif (eventClass != CSR_WIFI_SME_PRIM)\r\n{\r\nreturn;\r\n}\r\nif (NULL == message)\r\n{\r\nreturn;\r\n}\r\nswitch (*((CsrWifiSmePrim *) message))\r\n{\r\ncase CSR_WIFI_SME_BLACKLIST_REQ:\r\n{\r\nCsrWifiSmeBlacklistReq *p = (CsrWifiSmeBlacklistReq *)message;\r\nkfree(p->setAddresses);\r\np->setAddresses = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_CALIBRATION_DATA_SET_REQ:\r\n{\r\nCsrWifiSmeCalibrationDataSetReq *p = (CsrWifiSmeCalibrationDataSetReq *)message;\r\nkfree(p->calibrationData);\r\np->calibrationData = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_CONNECT_REQ:\r\n{\r\nCsrWifiSmeConnectReq *p = (CsrWifiSmeConnectReq *)message;\r\nkfree(p->connectionConfig.mlmeAssociateReqInformationElements);\r\np->connectionConfig.mlmeAssociateReqInformationElements = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_MIB_GET_NEXT_REQ:\r\n{\r\nCsrWifiSmeMibGetNextReq *p = (CsrWifiSmeMibGetNextReq *)message;\r\nkfree(p->mibAttribute);\r\np->mibAttribute = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_MIB_GET_REQ:\r\n{\r\nCsrWifiSmeMibGetReq *p = (CsrWifiSmeMibGetReq *)message;\r\nkfree(p->mibAttribute);\r\np->mibAttribute = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_MIB_SET_REQ:\r\n{\r\nCsrWifiSmeMibSetReq *p = (CsrWifiSmeMibSetReq *)message;\r\nkfree(p->mibAttribute);\r\np->mibAttribute = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_MULTICAST_ADDRESS_REQ:\r\n{\r\nCsrWifiSmeMulticastAddressReq *p = (CsrWifiSmeMulticastAddressReq *)message;\r\nkfree(p->setAddresses);\r\np->setAddresses = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_PACKET_FILTER_SET_REQ:\r\n{\r\nCsrWifiSmePacketFilterSetReq *p = (CsrWifiSmePacketFilterSetReq *)message;\r\nkfree(p->filter);\r\np->filter = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_PMKID_REQ:\r\n{\r\nCsrWifiSmePmkidReq *p = (CsrWifiSmePmkidReq *)message;\r\nkfree(p->setPmkids);\r\np->setPmkids = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_SCAN_CONFIG_SET_REQ:\r\n{\r\nCsrWifiSmeScanConfigSetReq *p = (CsrWifiSmeScanConfigSetReq *)message;\r\nkfree(p->scanConfig.passiveChannelList);\r\np->scanConfig.passiveChannelList = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_SCAN_FULL_REQ:\r\n{\r\nCsrWifiSmeScanFullReq *p = (CsrWifiSmeScanFullReq *)message;\r\nkfree(p->ssid);\r\np->ssid = NULL;\r\nkfree(p->channelList);\r\np->channelList = NULL;\r\nkfree(p->probeIe);\r\np->probeIe = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_TSPEC_REQ:\r\n{\r\nCsrWifiSmeTspecReq *p = (CsrWifiSmeTspecReq *)message;\r\nkfree(p->tspec);\r\np->tspec = NULL;\r\nkfree(p->tclas);\r\np->tclas = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_WIFI_FLIGHTMODE_REQ:\r\n{\r\nCsrWifiSmeWifiFlightmodeReq *p = (CsrWifiSmeWifiFlightmodeReq *)message;\r\n{\r\nu16 i1;\r\nfor (i1 = 0; i1 < p->mibFilesCount; i1++)\r\n{\r\nkfree(p->mibFiles[i1].data);\r\np->mibFiles[i1].data = NULL;\r\n}\r\n}\r\nkfree(p->mibFiles);\r\np->mibFiles = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_WIFI_ON_REQ:\r\n{\r\nCsrWifiSmeWifiOnReq *p = (CsrWifiSmeWifiOnReq *)message;\r\n{\r\nu16 i1;\r\nfor (i1 = 0; i1 < p->mibFilesCount; i1++)\r\n{\r\nkfree(p->mibFiles[i1].data);\r\np->mibFiles[i1].data = NULL;\r\n}\r\n}\r\nkfree(p->mibFiles);\r\np->mibFiles = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_CLOAKED_SSIDS_SET_REQ:\r\n{\r\nCsrWifiSmeCloakedSsidsSetReq *p = (CsrWifiSmeCloakedSsidsSetReq *)message;\r\nkfree(p->cloakedSsids.cloakedSsids);\r\np->cloakedSsids.cloakedSsids = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_WPS_CONFIGURATION_REQ:\r\n{\r\nCsrWifiSmeWpsConfigurationReq *p = (CsrWifiSmeWpsConfigurationReq *)message;\r\nkfree(p->wpsConfig.secondaryDeviceType);\r\np->wpsConfig.secondaryDeviceType = NULL;\r\nbreak;\r\n}\r\ncase CSR_WIFI_SME_SET_REQ:\r\n{\r\nCsrWifiSmeSetReq *p = (CsrWifiSmeSetReq *)message;\r\nkfree(p->data);\r\np->data = NULL;\r\nbreak;\r\n}\r\ndefault:\r\nbreak;\r\n}\r\n}
