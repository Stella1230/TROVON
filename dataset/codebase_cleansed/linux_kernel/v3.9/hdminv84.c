int\r\nnv84_hdmi_ctrl(struct nv50_disp_priv *priv, int head, int or, u32 data)\r\n{\r\nconst u32 hoff = (head * 0x800);\r\nif (!(data & NV84_DISP_SOR_HDMI_PWR_STATE_ON)) {\r\nnv_mask(priv, 0x6165a4 + hoff, 0x40000000, 0x00000000);\r\nnv_mask(priv, 0x616520 + hoff, 0x00000001, 0x00000000);\r\nnv_mask(priv, 0x616500 + hoff, 0x00000001, 0x00000000);\r\nreturn 0;\r\n}\r\nnv_mask(priv, 0x616520 + hoff, 0x00000001, 0x00000000);\r\nnv_wr32(priv, 0x616528 + hoff, 0x000d0282);\r\nnv_wr32(priv, 0x61652c + hoff, 0x0000006f);\r\nnv_wr32(priv, 0x616530 + hoff, 0x00000000);\r\nnv_wr32(priv, 0x616534 + hoff, 0x00000000);\r\nnv_wr32(priv, 0x616538 + hoff, 0x00000000);\r\nnv_mask(priv, 0x616520 + hoff, 0x00000001, 0x00000001);\r\nnv_mask(priv, 0x616500 + hoff, 0x00000001, 0x00000000);\r\nnv_wr32(priv, 0x616508 + hoff, 0x000a0184);\r\nnv_wr32(priv, 0x61650c + hoff, 0x00000071);\r\nnv_wr32(priv, 0x616510 + hoff, 0x00000000);\r\nnv_mask(priv, 0x616500 + hoff, 0x00000001, 0x00000001);\r\nnv_mask(priv, 0x61733c, 0x00100000, 0x00100000);\r\nnv_mask(priv, 0x61733c, 0x10000000, 0x10000000);\r\nnv_mask(priv, 0x61733c, 0x00100000, 0x00000000);\r\nnv_mask(priv, 0x6165a4 + hoff, 0x5f1f007f, data | 0x1f000000 );\r\nreturn 0;\r\n}
