int msg_create(struct msg_mgr **msg_man,\r\nstruct dev_object *hdev_obj, msg_onexit msg_callback)\r\n{\r\nstruct bridge_drv_interface *intf_fxns;\r\nstruct msg_mgr_ *msg_mgr_obj;\r\nstruct msg_mgr *hmsg_mgr;\r\nint status = 0;\r\n*msg_man = NULL;\r\ndev_get_intf_fxns(hdev_obj, &intf_fxns);\r\nstatus =\r\n(*intf_fxns->msg_create) (&hmsg_mgr, hdev_obj, msg_callback);\r\nif (!status) {\r\nmsg_mgr_obj = (struct msg_mgr_ *)hmsg_mgr;\r\nmsg_mgr_obj->intf_fxns = intf_fxns;\r\n*msg_man = hmsg_mgr;\r\n} else {\r\nstatus = -EPERM;\r\n}\r\nreturn status;\r\n}\r\nvoid msg_delete(struct msg_mgr *hmsg_mgr)\r\n{\r\nstruct msg_mgr_ *msg_mgr_obj = (struct msg_mgr_ *)hmsg_mgr;\r\nstruct bridge_drv_interface *intf_fxns;\r\nif (msg_mgr_obj) {\r\nintf_fxns = msg_mgr_obj->intf_fxns;\r\n(*intf_fxns->msg_delete) (hmsg_mgr);\r\n} else {\r\ndev_dbg(bridge, "%s: Error hmsg_mgr handle: %p\n",\r\n__func__, hmsg_mgr);\r\n}\r\n}
