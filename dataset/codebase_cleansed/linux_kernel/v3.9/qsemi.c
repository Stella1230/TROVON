static int qs6612_config_init(struct phy_device *phydev)\r\n{\r\nreturn phy_write(phydev, MII_QS6612_PCR, 0x0dc0);\r\n}\r\nstatic int qs6612_ack_interrupt(struct phy_device *phydev)\r\n{\r\nint err;\r\nerr = phy_read(phydev, MII_QS6612_ISR);\r\nif (err < 0)\r\nreturn err;\r\nerr = phy_read(phydev, MII_BMSR);\r\nif (err < 0)\r\nreturn err;\r\nerr = phy_read(phydev, MII_EXPANSION);\r\nif (err < 0)\r\nreturn err;\r\nreturn 0;\r\n}\r\nstatic int qs6612_config_intr(struct phy_device *phydev)\r\n{\r\nint err;\r\nif (phydev->interrupts == PHY_INTERRUPT_ENABLED)\r\nerr = phy_write(phydev, MII_QS6612_IMR,\r\nMII_QS6612_IMR_INIT);\r\nelse\r\nerr = phy_write(phydev, MII_QS6612_IMR, 0);\r\nreturn err;\r\n}\r\nstatic int __init qs6612_init(void)\r\n{\r\nreturn phy_driver_register(&qs6612_driver);\r\n}\r\nstatic void __exit qs6612_exit(void)\r\n{\r\nphy_driver_unregister(&qs6612_driver);\r\n}
