void CsrWifiSmeMicFailureIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeMicFailureInd* ind = (CsrWifiSmeMicFailureInd*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeMicFailureIndSend: invalid priv\n");\r\nreturn;\r\n}\r\nunifi_trace(priv, UDBG1,\r\n"CsrWifiSmeMicFailureIndSend: count=%d, KeyType=%d\n",\r\nind->count, ind->keyType);\r\nwext_send_michaelmicfailure_event(priv, ind->count, ind->address, ind->keyType, ind->interfaceTag);\r\n#endif\r\n}\r\nvoid CsrWifiSmePmkidCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmePmkidCfm* cfm = (CsrWifiSmePmkidCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmePmkidCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmePmkidCandidateListIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmePmkidCandidateListInd* ind = (CsrWifiSmePmkidCandidateListInd*)msg;\r\nint i;\r\nif (priv->smepriv == NULL) {\r\nunifi_error(priv, "CsrWifiSmePmkidCandidateListIndSend: invalid smepriv\n");\r\nreturn;\r\n}\r\nfor (i = 0; i < ind->pmkidCandidatesCount; i++)\r\n{\r\nwext_send_pmkid_candidate_event(priv, ind->pmkidCandidates[i].bssid, ind->pmkidCandidates[i].preAuthAllowed, ind->interfaceTag);\r\n}\r\n#endif\r\n}\r\nvoid CsrWifiSmeScanResultsFlushCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeScanResultsGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeScanResultsGetCfm* cfm = (CsrWifiSmeScanResultsGetCfm*)msg;\r\nint bytesRequired = cfm->scanResultsCount * sizeof(CsrWifiSmeScanResult);\r\nint i;\r\nu8* current_buff;\r\nCsrWifiSmeScanResult* scanCopy;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeScanResultsGetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nfor (i = 0; i < cfm->scanResultsCount; ++i) {\r\nconst CsrWifiSmeScanResult *scan_result = &cfm->scanResults[i];\r\nbytesRequired += scan_result->informationElementsLength;\r\n}\r\nscanCopy = kmalloc(bytesRequired, GFP_KERNEL);\r\nmemcpy(scanCopy, cfm->scanResults, sizeof(CsrWifiSmeScanResult) * cfm->scanResultsCount);\r\ncurrent_buff = (u8*)&scanCopy[cfm->scanResultsCount];\r\nfor (i = 0; i < cfm->scanResultsCount; ++i)\r\n{\r\nCsrWifiSmeScanResult *scan_result = &scanCopy[i];\r\nmemcpy(current_buff, scan_result->informationElements, scan_result->informationElementsLength);\r\nscan_result->informationElements = current_buff;\r\ncurrent_buff += scan_result->informationElementsLength;\r\n}\r\npriv->sme_reply.reply_scan_results_count = cfm->scanResultsCount;\r\npriv->sme_reply.reply_scan_results = scanCopy;\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeScanFullCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeScanFullCfm* cfm = (CsrWifiSmeScanFullCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeScanFullCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeScanResultIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeConnectCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeConnectCfm* cfm = (CsrWifiSmeConnectCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeConnectCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeDisconnectCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeDisconnectCfm* cfm = (CsrWifiSmeDisconnectCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeDisconnectCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeKeyCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeKeyCfm* cfm = (CsrWifiSmeKeyCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeKeyCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeMulticastAddressCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeMulticastAddressCfm* cfm = (CsrWifiSmeMulticastAddressCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeMulticastAddressCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeWifiFlightmodeCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeWifiFlightmodeCfm* cfm = (CsrWifiSmeWifiFlightmodeCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeWifiFlightmodeCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeWifiOnCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeWifiOnCfm* cfm = (CsrWifiSmeWifiOnCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeWifiOnCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nunifi_trace(priv, UDBG4,\r\n"CsrWifiSmeWifiOnCfmSend: wake up status %d\n", cfm->status);\r\n#ifdef CSR_SUPPORT_WEXT_AP\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n#endif\r\n}\r\nvoid CsrWifiSmeWifiOffCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeWifiOffCfm* cfm = (CsrWifiSmeWifiOffCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeWifiOffCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeWifiOffIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeWifiOffInd* ind = (CsrWifiSmeWifiOffInd*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiRouterCtrlStoppedReqSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nif (priv->smepriv == NULL) {\r\nunifi_error(priv, "CsrWifiRouterCtrlStoppedReqSend: invalid smepriv\n");\r\nreturn;\r\n}\r\nswitch (ind->reason) {\r\ncase CSR_WIFI_SME_CONTROL_INDICATION_ERROR:\r\nunifi_trace(priv, UDBG1,\r\n"CsrWifiRouterCtrlStoppedReqSend: Restarting SME (ind:%d)\n",\r\nind->reason);\r\nsme_mgt_wifi_on(priv);\r\nbreak;\r\ncase CSR_WIFI_SME_CONTROL_INDICATION_EXIT:\r\n#ifdef CSR_SUPPORT_WEXT_AP\r\nsme_complete_request(priv, 0);\r\n#endif\r\nbreak;\r\ndefault:\r\nbreak;\r\n}\r\n#endif\r\n}\r\nvoid CsrWifiSmeVersionsGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeVersionsGetCfm* cfm = (CsrWifiSmeVersionsGetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeVersionsGetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\npriv->sme_reply.versions = cfm->versions;\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmePowerConfigGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmePowerConfigGetCfm* cfm = (CsrWifiSmePowerConfigGetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmePowerConfigGetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\npriv->sme_reply.powerConfig = cfm->powerConfig;\r\nsme_complete_request(priv, cfm->status);\r\n}\r\nvoid CsrWifiSmeHostConfigGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeHostConfigGetCfm* cfm = (CsrWifiSmeHostConfigGetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeHostConfigGetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\npriv->sme_reply.hostConfig = cfm->hostConfig;\r\nsme_complete_request(priv, cfm->status);\r\n}\r\nvoid CsrWifiSmeCoexInfoGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeCoexInfoGetCfm* cfm = (CsrWifiSmeCoexInfoGetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeCoexInfoGetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\npriv->sme_reply.coexInfo = cfm->coexInfo;\r\nsme_complete_request(priv, cfm->status);\r\n}\r\nvoid CsrWifiSmeCoexConfigGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeCoexConfigGetCfm* cfm = (CsrWifiSmeCoexConfigGetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeCoexConfigGetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\npriv->sme_reply.coexConfig = cfm->coexConfig;\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeMibConfigGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeMibConfigGetCfm* cfm = (CsrWifiSmeMibConfigGetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeMibConfigGetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\npriv->sme_reply.mibConfig = cfm->mibConfig;\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeConnectionInfoGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeConnectionInfoGetCfm* cfm = (CsrWifiSmeConnectionInfoGetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeConnectionInfoGetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\npriv->sme_reply.connectionInfo = cfm->connectionInfo;\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeConnectionConfigGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeConnectionConfigGetCfm* cfm = (CsrWifiSmeConnectionConfigGetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeConnectionConfigGetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\npriv->sme_reply.connectionConfig = cfm->connectionConfig;\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeConnectionStatsGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeConnectionStatsGetCfm* cfm = (CsrWifiSmeConnectionStatsGetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeConnectionStatsGetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\npriv->sme_reply.connectionStats = cfm->connectionStats;\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeMibSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeMibSetCfm* cfm = (CsrWifiSmeMibSetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeMibSetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeMibGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeMibGetCfm* cfm = (CsrWifiSmeMibGetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeMibGetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nif (cfm->mibAttribute == NULL) {\r\nunifi_error(priv, "CsrWifiSmeMibGetCfmSend: Empty reply.\n");\r\nsme_complete_request(priv, cfm->status);\r\nreturn;\r\n}\r\nif ((priv->mib_cfm_buffer != NULL) &&\r\n(priv->mib_cfm_buffer_length >= cfm->mibAttributeLength)) {\r\nmemcpy(priv->mib_cfm_buffer, cfm->mibAttribute, cfm->mibAttributeLength);\r\npriv->mib_cfm_buffer_length = cfm->mibAttributeLength;\r\n} else {\r\nunifi_error(priv,\r\n"CsrWifiSmeMibGetCfmSend: No room to store MIB data (have=%d need=%d).\n",\r\npriv->mib_cfm_buffer_length, cfm->mibAttributeLength);\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeMibGetNextCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeMibGetNextCfm* cfm = (CsrWifiSmeMibGetNextCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeMibGetNextCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeConnectionQualityIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeConnectionQualityInd* ind = (CsrWifiSmeConnectionQualityInd*)msg;\r\nint signal, noise, snr;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeConnectionQualityIndSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsignal = ind->linkQuality.unifiRssi;\r\nsnr = (ind->linkQuality.unifiSnr > 0) ? ind->linkQuality.unifiSnr : 0;\r\nsnr = (snr < 255) ? snr : 255;\r\nnoise = signal - snr;\r\nsignal = (signal < 63) ? signal : 63;\r\nsignal = (signal > -192) ? signal : -192;\r\nnoise = (noise < 63) ? noise : 63;\r\nnoise = (noise > -192) ? noise : -192;\r\nsignal = ( signal < 0 ) ? signal + 0x100 : signal;\r\nnoise = ( noise < 0 ) ? noise + 0x100 : noise;\r\npriv->wext_wireless_stats.qual.level = (u8)signal;\r\npriv->wext_wireless_stats.qual.noise = (u8)noise;\r\npriv->wext_wireless_stats.qual.qual = snr;\r\npriv->wext_wireless_stats.qual.updated = 0;\r\n#if WIRELESS_EXT > 16\r\npriv->wext_wireless_stats.qual.updated |= IW_QUAL_LEVEL_UPDATED |\r\nIW_QUAL_NOISE_UPDATED |\r\nIW_QUAL_QUAL_UPDATED;\r\n#if WIRELESS_EXT > 18\r\npriv->wext_wireless_stats.qual.updated |= IW_QUAL_DBM;\r\n#endif\r\n#endif\r\n#endif\r\n}\r\nvoid CsrWifiSmePacketFilterSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmePacketFilterSetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\n}\r\nvoid CsrWifiSmeTspecCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeTspecCfm* cfm = (CsrWifiSmeTspecCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeTspecCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n}\r\nvoid CsrWifiSmeTspecIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeBlacklistCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeEventMaskSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeRoamStartIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeRoamCompleteIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeAssociationStartIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeAssociationCompleteIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeIbssStationIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeWifiOnIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeRestrictedAccessEnableCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeRestrictedAccessDisableCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeAdhocConfigGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeAdhocConfigSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeAdhocConfigSetCfm* cfm = (CsrWifiSmeAdhocConfigSetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeSmeConfigSetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeCalibrationDataGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeCalibrationDataSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeCalibrationDataSetCfm* cfm = (CsrWifiSmeCalibrationDataSetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeSmeConfigSetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeCcxConfigGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeCcxConfigSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeCcxConfigSetCfm* cfm = (CsrWifiSmeCcxConfigSetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeSmeConfigSetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeCloakedSsidsGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeCloakedSsidsSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeCloakedSsidsSetCfm* cfm = (CsrWifiSmeCloakedSsidsSetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeSmeConfigSetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeCoexConfigSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeCoexConfigSetCfm* cfm = (CsrWifiSmeCoexConfigSetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeSmeConfigSetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeHostConfigSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeHostConfigSetCfm* cfm = (CsrWifiSmeHostConfigSetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeSmeConfigSetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n}\r\nvoid CsrWifiSmeLinkQualityGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeMibConfigSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeMibConfigSetCfm* cfm = (CsrWifiSmeMibConfigSetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeSmeConfigSetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmePermanentMacAddressGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmePowerConfigSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmePowerConfigSetCfm* cfm = (CsrWifiSmePowerConfigSetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeSmeConfigSetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n}\r\nvoid CsrWifiSmeRegulatoryDomainInfoGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeRoamingConfigGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeMediaStatusIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeMediaStatusInd* ind = (CsrWifiSmeMediaStatusInd*)msg;\r\nif (priv->smepriv == NULL) {\r\nunifi_error(priv, "CsrWifiSmeMediaStatusIndSend: invalid smepriv\n");\r\nreturn;\r\n}\r\nif (ind->mediaStatus == CSR_WIFI_SME_MEDIA_STATUS_CONNECTED) {\r\nwext_send_assoc_event(priv,\r\n(unsigned char *)ind->connectionInfo.bssid.a,\r\n(unsigned char *)ind->connectionInfo.assocReqInfoElements,\r\nind->connectionInfo.assocReqInfoElementsLength,\r\n(unsigned char *)ind->connectionInfo.assocRspInfoElements,\r\nind->connectionInfo.assocRspInfoElementsLength,\r\n(unsigned char *)ind->connectionInfo.assocScanInfoElements,\r\nind->connectionInfo.assocScanInfoElementsLength);\r\nunifi_trace(priv, UDBG2, "CsrWifiSmeMediaStatusIndSend: IBSS=%pM\n",\r\nind->connectionInfo.bssid.a);\r\nsme_mgt_packet_filter_set(priv);\r\n} else {\r\nwext_send_disassoc_event(priv);\r\n}\r\n#endif\r\n}\r\nvoid CsrWifiSmeRoamingConfigSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeRoamingConfigSetCfm* cfm = (CsrWifiSmeRoamingConfigSetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeRoamingConfigSetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n}\r\nvoid CsrWifiSmeScanConfigGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeScanConfigSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n#ifdef CSR_SUPPORT_WEXT\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeScanConfigSetCfm* cfm = (CsrWifiSmeScanConfigSetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeSmeConfigSetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n#endif\r\n}\r\nvoid CsrWifiSmeStationMacAddressGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeSmeCommonConfigGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeSmeCommonConfigGetCfm* cfm = (CsrWifiSmeSmeCommonConfigGetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeSmeCommonConfigGetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\npriv->sme_reply.deviceConfig = cfm->deviceConfig;\r\nsme_complete_request(priv, cfm->status);\r\n}\r\nvoid CsrWifiSmeSmeStaConfigGetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeSmeStaConfigGetCfm* cfm = (CsrWifiSmeSmeStaConfigGetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeSmeStaConfigGetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\npriv->sme_reply.staConfig = cfm->smeConfig;\r\nsme_complete_request(priv, cfm->status);\r\n}\r\nvoid CsrWifiSmeSmeCommonConfigSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeSmeCommonConfigSetCfm* cfm = (CsrWifiSmeSmeCommonConfigSetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeSmeCommonConfigGetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n}\r\nvoid CsrWifiSmeSmeStaConfigSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiSmeSmeStaConfigSetCfm* cfm = (CsrWifiSmeSmeStaConfigSetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiSmeSmeStaConfigGetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n}\r\nvoid CsrWifiSmeGetInterfaceCapabilityCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeErrorIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeInfoIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeCoreDumpIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeAmpStatusChangeIndHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeActivateCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiSmeDeactivateCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\n}\r\nvoid CsrWifiNmeApStartCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiNmeApStartCfm* cfm = (CsrWifiNmeApStartCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiNmeApStartCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n}\r\nvoid CsrWifiNmeApStopCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiNmeApStopCfm* cfm = (CsrWifiNmeApStopCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiNmeApStopCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n}\r\nvoid CsrWifiNmeApConfigSetCfmHandler(void* drvpriv, CsrWifiFsmEvent* msg)\r\n{\r\nunifi_priv_t *priv = (unifi_priv_t*)drvpriv;\r\nCsrWifiNmeApConfigSetCfm* cfm = (CsrWifiNmeApConfigSetCfm*)msg;\r\nif (priv == NULL) {\r\nunifi_error(NULL, "CsrWifiNmeApConfigSetCfmSend: Invalid ospriv.\n");\r\nreturn;\r\n}\r\nsme_complete_request(priv, cfm->status);\r\n}
