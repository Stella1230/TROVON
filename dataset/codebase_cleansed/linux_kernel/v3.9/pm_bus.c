static int omap1_pm_runtime_suspend(struct device *dev)\r\n{\r\nint ret;\r\ndev_dbg(dev, "%s\n", __func__);\r\nret = pm_generic_runtime_suspend(dev);\r\nif (ret)\r\nreturn ret;\r\nret = pm_clk_suspend(dev);\r\nif (ret) {\r\npm_generic_runtime_resume(dev);\r\nreturn ret;\r\n}\r\nreturn 0;\r\n}\r\nstatic int omap1_pm_runtime_resume(struct device *dev)\r\n{\r\ndev_dbg(dev, "%s\n", __func__);\r\npm_clk_resume(dev);\r\nreturn pm_generic_runtime_resume(dev);\r\n}\r\nstatic int __init omap1_pm_runtime_init(void)\r\n{\r\nif (!cpu_class_is_omap1())\r\nreturn -ENODEV;\r\npm_clk_add_notifier(&platform_bus_type, &platform_bus_notifier);\r\nreturn 0;\r\n}
