void u8500_clk_init(void)\r\n{\r\nstruct prcmu_fw_version *fw_version;\r\nconst char *sgaclk_parent = NULL;\r\nstruct clk *clk;\r\nclk = clk_reg_prcmu_gate("soc0_pll", NULL, PRCMU_PLLSOC0,\r\nCLK_IS_ROOT|CLK_IGNORE_UNUSED);\r\nclk_register_clkdev(clk, "soc0_pll", NULL);\r\nclk = clk_reg_prcmu_gate("soc1_pll", NULL, PRCMU_PLLSOC1,\r\nCLK_IS_ROOT|CLK_IGNORE_UNUSED);\r\nclk_register_clkdev(clk, "soc1_pll", NULL);\r\nclk = clk_reg_prcmu_gate("ddr_pll", NULL, PRCMU_PLLDDR,\r\nCLK_IS_ROOT|CLK_IGNORE_UNUSED);\r\nclk_register_clkdev(clk, "ddr_pll", NULL);\r\nclk = clk_register_fixed_rate(NULL, "rtc32k", "NULL",\r\nCLK_IS_ROOT|CLK_IGNORE_UNUSED,\r\n32768);\r\nclk_register_clkdev(clk, "clk32k", NULL);\r\nclk_register_clkdev(clk, "apb_pclk", "rtc-pl031");\r\nfw_version = prcmu_get_fw_version();\r\nif (fw_version != NULL) {\r\nswitch (fw_version->project) {\r\ncase PRCMU_FW_PROJECT_U8500_C2:\r\ncase PRCMU_FW_PROJECT_U8520:\r\ncase PRCMU_FW_PROJECT_U8420:\r\nsgaclk_parent = "soc0_pll";\r\nbreak;\r\ndefault:\r\nbreak;\r\n}\r\n}\r\nif (sgaclk_parent)\r\nclk = clk_reg_prcmu_gate("sgclk", sgaclk_parent,\r\nPRCMU_SGACLK, 0);\r\nelse\r\nclk = clk_reg_prcmu_gate("sgclk", NULL,\r\nPRCMU_SGACLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "mali");\r\nclk = clk_reg_prcmu_gate("uartclk", NULL, PRCMU_UARTCLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "UART");\r\nclk = clk_reg_prcmu_gate("msp02clk", NULL, PRCMU_MSP02CLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "MSP02");\r\nclk = clk_reg_prcmu_gate("msp1clk", NULL, PRCMU_MSP1CLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "MSP1");\r\nclk = clk_reg_prcmu_gate("i2cclk", NULL, PRCMU_I2CCLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "I2C");\r\nclk = clk_reg_prcmu_gate("slimclk", NULL, PRCMU_SLIMCLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "slim");\r\nclk = clk_reg_prcmu_gate("per1clk", NULL, PRCMU_PER1CLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "PERIPH1");\r\nclk = clk_reg_prcmu_gate("per2clk", NULL, PRCMU_PER2CLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "PERIPH2");\r\nclk = clk_reg_prcmu_gate("per3clk", NULL, PRCMU_PER3CLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "PERIPH3");\r\nclk = clk_reg_prcmu_gate("per5clk", NULL, PRCMU_PER5CLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "PERIPH5");\r\nclk = clk_reg_prcmu_gate("per6clk", NULL, PRCMU_PER6CLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "PERIPH6");\r\nclk = clk_reg_prcmu_gate("per7clk", NULL, PRCMU_PER7CLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "PERIPH7");\r\nclk = clk_reg_prcmu_scalable("lcdclk", NULL, PRCMU_LCDCLK, 0,\r\nCLK_IS_ROOT|CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "lcd");\r\nclk_register_clkdev(clk, "lcd", "mcde");\r\nclk = clk_reg_prcmu_opp_gate("bmlclk", NULL, PRCMU_BMLCLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "bml");\r\nclk = clk_reg_prcmu_scalable("hsitxclk", NULL, PRCMU_HSITXCLK, 0,\r\nCLK_IS_ROOT|CLK_SET_RATE_GATE);\r\nclk = clk_reg_prcmu_scalable("hsirxclk", NULL, PRCMU_HSIRXCLK, 0,\r\nCLK_IS_ROOT|CLK_SET_RATE_GATE);\r\nclk = clk_reg_prcmu_scalable("hdmiclk", NULL, PRCMU_HDMICLK, 0,\r\nCLK_IS_ROOT|CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "hdmi");\r\nclk_register_clkdev(clk, "hdmi", "mcde");\r\nclk = clk_reg_prcmu_gate("apeatclk", NULL, PRCMU_APEATCLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "apeat");\r\nclk = clk_reg_prcmu_gate("apetraceclk", NULL, PRCMU_APETRACECLK,\r\nCLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "apetrace");\r\nclk = clk_reg_prcmu_gate("mcdeclk", NULL, PRCMU_MCDECLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "mcde");\r\nclk_register_clkdev(clk, "mcde", "mcde");\r\nclk_register_clkdev(clk, "dsisys", "dsilink.0");\r\nclk_register_clkdev(clk, "dsisys", "dsilink.1");\r\nclk_register_clkdev(clk, "dsisys", "dsilink.2");\r\nclk = clk_reg_prcmu_opp_gate("ipi2cclk", NULL, PRCMU_IPI2CCLK,\r\nCLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "ipi2");\r\nclk = clk_reg_prcmu_gate("dsialtclk", NULL, PRCMU_DSIALTCLK,\r\nCLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "dsialt");\r\nclk = clk_reg_prcmu_gate("dmaclk", NULL, PRCMU_DMACLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "dma40.0");\r\nclk = clk_reg_prcmu_gate("b2r2clk", NULL, PRCMU_B2R2CLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "b2r2");\r\nclk_register_clkdev(clk, NULL, "b2r2_core");\r\nclk_register_clkdev(clk, NULL, "U8500-B2R2.0");\r\nclk = clk_reg_prcmu_scalable("tvclk", NULL, PRCMU_TVCLK, 0,\r\nCLK_IS_ROOT|CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "tv");\r\nclk_register_clkdev(clk, "tv", "mcde");\r\nclk = clk_reg_prcmu_gate("sspclk", NULL, PRCMU_SSPCLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "SSP");\r\nclk = clk_reg_prcmu_gate("rngclk", NULL, PRCMU_RNGCLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "rngclk");\r\nclk = clk_reg_prcmu_gate("uiccclk", NULL, PRCMU_UICCCLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "uicc");\r\nclk = clk_reg_prcmu_gate("timclk", NULL, PRCMU_TIMCLK, CLK_IS_ROOT);\r\nclk_register_clkdev(clk, NULL, "mtu0");\r\nclk_register_clkdev(clk, NULL, "mtu1");\r\nclk = clk_reg_prcmu_opp_volt_scalable("sdmmcclk", NULL, PRCMU_SDMMCCLK,\r\n100000000,\r\nCLK_IS_ROOT|CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "sdmmc");\r\nclk = clk_reg_prcmu_scalable("dsi_pll", "hdmiclk",\r\nPRCMU_PLLDSI, 0, CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, "dsihs2", "mcde");\r\nclk_register_clkdev(clk, "dsihs2", "dsilink.2");\r\nclk = clk_reg_prcmu_scalable("dsi0clk", "dsi_pll",\r\nPRCMU_DSI0CLK, 0, CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, "dsihs0", "mcde");\r\nclk_register_clkdev(clk, "dsihs0", "dsilink.0");\r\nclk = clk_reg_prcmu_scalable("dsi1clk", "dsi_pll",\r\nPRCMU_DSI1CLK, 0, CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, "dsihs1", "mcde");\r\nclk_register_clkdev(clk, "dsihs1", "dsilink.1");\r\nclk = clk_reg_prcmu_scalable("dsi0escclk", "tvclk",\r\nPRCMU_DSI0ESCCLK, 0, CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, "dsilp0", "dsilink.0");\r\nclk_register_clkdev(clk, "dsilp0", "mcde");\r\nclk = clk_reg_prcmu_scalable("dsi1escclk", "tvclk",\r\nPRCMU_DSI1ESCCLK, 0, CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, "dsilp1", "dsilink.1");\r\nclk_register_clkdev(clk, "dsilp1", "mcde");\r\nclk = clk_reg_prcmu_scalable("dsi2escclk", "tvclk",\r\nPRCMU_DSI2ESCCLK, 0, CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, "dsilp2", "dsilink.2");\r\nclk_register_clkdev(clk, "dsilp2", "mcde");\r\nclk = clk_reg_prcmu_scalable_rate("armss", NULL,\r\nPRCMU_ARMSS, 0, CLK_IS_ROOT|CLK_IGNORE_UNUSED);\r\nclk_register_clkdev(clk, "armss", NULL);\r\nclk = clk_register_fixed_factor(NULL, "smp_twd", "armss",\r\nCLK_IGNORE_UNUSED, 1, 2);\r\nclk_register_clkdev(clk, NULL, "smp_twd");\r\nclk = clk_reg_prcc_pclk("p1_pclk0", "per1clk", U8500_CLKRST1_BASE,\r\nBIT(0), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "uart0");\r\nclk = clk_reg_prcc_pclk("p1_pclk1", "per1clk", U8500_CLKRST1_BASE,\r\nBIT(1), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "uart1");\r\nclk = clk_reg_prcc_pclk("p1_pclk2", "per1clk", U8500_CLKRST1_BASE,\r\nBIT(2), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "nmk-i2c.1");\r\nclk = clk_reg_prcc_pclk("p1_pclk3", "per1clk", U8500_CLKRST1_BASE,\r\nBIT(3), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "msp0");\r\nclk_register_clkdev(clk, "apb_pclk", "ux500-msp-i2s.0");\r\nclk = clk_reg_prcc_pclk("p1_pclk4", "per1clk", U8500_CLKRST1_BASE,\r\nBIT(4), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "msp1");\r\nclk_register_clkdev(clk, "apb_pclk", "ux500-msp-i2s.1");\r\nclk = clk_reg_prcc_pclk("p1_pclk5", "per1clk", U8500_CLKRST1_BASE,\r\nBIT(5), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "sdi0");\r\nclk = clk_reg_prcc_pclk("p1_pclk6", "per1clk", U8500_CLKRST1_BASE,\r\nBIT(6), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "nmk-i2c.2");\r\nclk = clk_reg_prcc_pclk("p1_pclk7", "per1clk", U8500_CLKRST1_BASE,\r\nBIT(7), 0);\r\nclk_register_clkdev(clk, NULL, "spi3");\r\nclk = clk_reg_prcc_pclk("p1_pclk8", "per1clk", U8500_CLKRST1_BASE,\r\nBIT(8), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "slimbus0");\r\nclk = clk_reg_prcc_pclk("p1_pclk9", "per1clk", U8500_CLKRST1_BASE,\r\nBIT(9), 0);\r\nclk_register_clkdev(clk, NULL, "gpio.0");\r\nclk_register_clkdev(clk, NULL, "gpio.1");\r\nclk_register_clkdev(clk, NULL, "gpioblock0");\r\nclk = clk_reg_prcc_pclk("p1_pclk10", "per1clk", U8500_CLKRST1_BASE,\r\nBIT(10), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "nmk-i2c.4");\r\nclk = clk_reg_prcc_pclk("p1_pclk11", "per1clk", U8500_CLKRST1_BASE,\r\nBIT(11), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "msp3");\r\nclk_register_clkdev(clk, "apb_pclk", "ux500-msp-i2s.3");\r\nclk = clk_reg_prcc_pclk("p2_pclk0", "per2clk", U8500_CLKRST2_BASE,\r\nBIT(0), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "nmk-i2c.3");\r\nclk = clk_reg_prcc_pclk("p2_pclk1", "per2clk", U8500_CLKRST2_BASE,\r\nBIT(1), 0);\r\nclk_register_clkdev(clk, NULL, "spi2");\r\nclk = clk_reg_prcc_pclk("p2_pclk2", "per2clk", U8500_CLKRST2_BASE,\r\nBIT(2), 0);\r\nclk_register_clkdev(clk, NULL, "spi1");\r\nclk = clk_reg_prcc_pclk("p2_pclk3", "per2clk", U8500_CLKRST2_BASE,\r\nBIT(3), 0);\r\nclk_register_clkdev(clk, NULL, "pwl");\r\nclk = clk_reg_prcc_pclk("p2_pclk4", "per2clk", U8500_CLKRST2_BASE,\r\nBIT(4), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "sdi4");\r\nclk = clk_reg_prcc_pclk("p2_pclk5", "per2clk", U8500_CLKRST2_BASE,\r\nBIT(5), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "msp2");\r\nclk_register_clkdev(clk, "apb_pclk", "ux500-msp-i2s.2");\r\nclk = clk_reg_prcc_pclk("p2_pclk6", "per2clk", U8500_CLKRST2_BASE,\r\nBIT(6), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "sdi1");\r\nclk = clk_reg_prcc_pclk("p2_pclk7", "per2clk", U8500_CLKRST2_BASE,\r\nBIT(7), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "sdi3");\r\nclk = clk_reg_prcc_pclk("p2_pclk8", "per2clk", U8500_CLKRST2_BASE,\r\nBIT(8), 0);\r\nclk_register_clkdev(clk, NULL, "spi0");\r\nclk = clk_reg_prcc_pclk("p2_pclk9", "per2clk", U8500_CLKRST2_BASE,\r\nBIT(9), 0);\r\nclk_register_clkdev(clk, "hsir_hclk", "ste_hsi.0");\r\nclk = clk_reg_prcc_pclk("p2_pclk10", "per2clk", U8500_CLKRST2_BASE,\r\nBIT(10), 0);\r\nclk_register_clkdev(clk, "hsit_hclk", "ste_hsi.0");\r\nclk = clk_reg_prcc_pclk("p2_pclk11", "per2clk", U8500_CLKRST2_BASE,\r\nBIT(11), 0);\r\nclk_register_clkdev(clk, NULL, "gpio.6");\r\nclk_register_clkdev(clk, NULL, "gpio.7");\r\nclk_register_clkdev(clk, NULL, "gpioblock1");\r\nclk = clk_reg_prcc_pclk("p2_pclk12", "per2clk", U8500_CLKRST2_BASE,\r\nBIT(12), 0);\r\nclk = clk_reg_prcc_pclk("p3_pclk0", "per3clk", U8500_CLKRST3_BASE,\r\nBIT(0), 0);\r\nclk_register_clkdev(clk, NULL, "fsmc");\r\nclk = clk_reg_prcc_pclk("p3_pclk1", "per3clk", U8500_CLKRST3_BASE,\r\nBIT(1), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "ssp0");\r\nclk = clk_reg_prcc_pclk("p3_pclk2", "per3clk", U8500_CLKRST3_BASE,\r\nBIT(2), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "ssp1");\r\nclk = clk_reg_prcc_pclk("p3_pclk3", "per3clk", U8500_CLKRST3_BASE,\r\nBIT(3), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "nmk-i2c.0");\r\nclk = clk_reg_prcc_pclk("p3_pclk4", "per3clk", U8500_CLKRST3_BASE,\r\nBIT(4), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "sdi2");\r\nclk = clk_reg_prcc_pclk("p3_pclk5", "per3clk", U8500_CLKRST3_BASE,\r\nBIT(5), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "ske");\r\nclk_register_clkdev(clk, "apb_pclk", "nmk-ske-keypad");\r\nclk = clk_reg_prcc_pclk("p3_pclk6", "per3clk", U8500_CLKRST3_BASE,\r\nBIT(6), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "uart2");\r\nclk = clk_reg_prcc_pclk("p3_pclk7", "per3clk", U8500_CLKRST3_BASE,\r\nBIT(7), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "sdi5");\r\nclk = clk_reg_prcc_pclk("p3_pclk8", "per3clk", U8500_CLKRST3_BASE,\r\nBIT(8), 0);\r\nclk_register_clkdev(clk, NULL, "gpio.2");\r\nclk_register_clkdev(clk, NULL, "gpio.3");\r\nclk_register_clkdev(clk, NULL, "gpio.4");\r\nclk_register_clkdev(clk, NULL, "gpio.5");\r\nclk_register_clkdev(clk, NULL, "gpioblock2");\r\nclk = clk_reg_prcc_pclk("p5_pclk0", "per5clk", U8500_CLKRST5_BASE,\r\nBIT(0), 0);\r\nclk_register_clkdev(clk, "usb", "musb-ux500.0");\r\nclk = clk_reg_prcc_pclk("p5_pclk1", "per5clk", U8500_CLKRST5_BASE,\r\nBIT(1), 0);\r\nclk_register_clkdev(clk, NULL, "gpio.8");\r\nclk_register_clkdev(clk, NULL, "gpioblock3");\r\nclk = clk_reg_prcc_pclk("p6_pclk0", "per6clk", U8500_CLKRST6_BASE,\r\nBIT(0), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "rng");\r\nclk = clk_reg_prcc_pclk("p6_pclk1", "per6clk", U8500_CLKRST6_BASE,\r\nBIT(1), 0);\r\nclk_register_clkdev(clk, NULL, "cryp0");\r\nclk_register_clkdev(clk, NULL, "cryp1");\r\nclk = clk_reg_prcc_pclk("p6_pclk2", "per6clk", U8500_CLKRST6_BASE,\r\nBIT(2), 0);\r\nclk_register_clkdev(clk, NULL, "hash0");\r\nclk = clk_reg_prcc_pclk("p6_pclk3", "per6clk", U8500_CLKRST6_BASE,\r\nBIT(3), 0);\r\nclk_register_clkdev(clk, NULL, "pka");\r\nclk = clk_reg_prcc_pclk("p6_pclk4", "per6clk", U8500_CLKRST6_BASE,\r\nBIT(4), 0);\r\nclk_register_clkdev(clk, NULL, "hash1");\r\nclk = clk_reg_prcc_pclk("p6_pclk5", "per6clk", U8500_CLKRST6_BASE,\r\nBIT(5), 0);\r\nclk_register_clkdev(clk, NULL, "cfgreg");\r\nclk = clk_reg_prcc_pclk("p6_pclk6", "per6clk", U8500_CLKRST6_BASE,\r\nBIT(6), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "mtu0");\r\nclk = clk_reg_prcc_pclk("p6_pclk7", "per6clk", U8500_CLKRST6_BASE,\r\nBIT(7), 0);\r\nclk_register_clkdev(clk, "apb_pclk", "mtu1");\r\nclk = clk_reg_prcc_kclk("p1_uart0_kclk", "uartclk",\r\nU8500_CLKRST1_BASE, BIT(0), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "uart0");\r\nclk = clk_reg_prcc_kclk("p1_uart1_kclk", "uartclk",\r\nU8500_CLKRST1_BASE, BIT(1), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "uart1");\r\nclk = clk_reg_prcc_kclk("p1_i2c1_kclk", "i2cclk",\r\nU8500_CLKRST1_BASE, BIT(2), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "nmk-i2c.1");\r\nclk = clk_reg_prcc_kclk("p1_msp0_kclk", "msp02clk",\r\nU8500_CLKRST1_BASE, BIT(3), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "msp0");\r\nclk_register_clkdev(clk, NULL, "ux500-msp-i2s.0");\r\nclk = clk_reg_prcc_kclk("p1_msp1_kclk", "msp1clk",\r\nU8500_CLKRST1_BASE, BIT(4), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "msp1");\r\nclk_register_clkdev(clk, NULL, "ux500-msp-i2s.1");\r\nclk = clk_reg_prcc_kclk("p1_sdi0_kclk", "sdmmcclk",\r\nU8500_CLKRST1_BASE, BIT(5), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "sdi0");\r\nclk = clk_reg_prcc_kclk("p1_i2c2_kclk", "i2cclk",\r\nU8500_CLKRST1_BASE, BIT(6), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "nmk-i2c.2");\r\nclk = clk_reg_prcc_kclk("p1_slimbus0_kclk", "slimclk",\r\nU8500_CLKRST1_BASE, BIT(8), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "slimbus0");\r\nclk = clk_reg_prcc_kclk("p1_i2c4_kclk", "i2cclk",\r\nU8500_CLKRST1_BASE, BIT(9), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "nmk-i2c.4");\r\nclk = clk_reg_prcc_kclk("p1_msp3_kclk", "msp1clk",\r\nU8500_CLKRST1_BASE, BIT(10), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "msp3");\r\nclk_register_clkdev(clk, NULL, "ux500-msp-i2s.3");\r\nclk = clk_reg_prcc_kclk("p2_i2c3_kclk", "i2cclk",\r\nU8500_CLKRST2_BASE, BIT(0), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "nmk-i2c.3");\r\nclk = clk_reg_prcc_kclk("p2_sdi4_kclk", "sdmmcclk",\r\nU8500_CLKRST2_BASE, BIT(2), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "sdi4");\r\nclk = clk_reg_prcc_kclk("p2_msp2_kclk", "msp02clk",\r\nU8500_CLKRST2_BASE, BIT(3), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "msp2");\r\nclk_register_clkdev(clk, NULL, "ux500-msp-i2s.2");\r\nclk = clk_reg_prcc_kclk("p2_sdi1_kclk", "sdmmcclk",\r\nU8500_CLKRST2_BASE, BIT(4), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "sdi1");\r\nclk = clk_reg_prcc_kclk("p2_sdi3_kclk", "sdmmcclk",\r\nU8500_CLKRST2_BASE, BIT(5), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "sdi3");\r\nclk = clk_reg_prcc_kclk("p2_ssirx_kclk", "hsirxclk",\r\nU8500_CLKRST2_BASE, BIT(6),\r\nCLK_SET_RATE_GATE|CLK_SET_RATE_PARENT);\r\nclk = clk_reg_prcc_kclk("p2_ssitx_kclk", "hsitxclk",\r\nU8500_CLKRST2_BASE, BIT(7),\r\nCLK_SET_RATE_GATE|CLK_SET_RATE_PARENT);\r\nclk = clk_reg_prcc_kclk("p3_ssp0_kclk", "sspclk",\r\nU8500_CLKRST3_BASE, BIT(1), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "ssp0");\r\nclk = clk_reg_prcc_kclk("p3_ssp1_kclk", "sspclk",\r\nU8500_CLKRST3_BASE, BIT(2), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "ssp1");\r\nclk = clk_reg_prcc_kclk("p3_i2c0_kclk", "i2cclk",\r\nU8500_CLKRST3_BASE, BIT(3), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "nmk-i2c.0");\r\nclk = clk_reg_prcc_kclk("p3_sdi2_kclk", "sdmmcclk",\r\nU8500_CLKRST3_BASE, BIT(4), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "sdi2");\r\nclk = clk_reg_prcc_kclk("p3_ske_kclk", "rtc32k",\r\nU8500_CLKRST3_BASE, BIT(5), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "ske");\r\nclk_register_clkdev(clk, NULL, "nmk-ske-keypad");\r\nclk = clk_reg_prcc_kclk("p3_uart2_kclk", "uartclk",\r\nU8500_CLKRST3_BASE, BIT(6), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "uart2");\r\nclk = clk_reg_prcc_kclk("p3_sdi5_kclk", "sdmmcclk",\r\nU8500_CLKRST3_BASE, BIT(7), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "sdi5");\r\nclk = clk_reg_prcc_kclk("p3_rng_kclk", "rngclk",\r\nU8500_CLKRST6_BASE, BIT(0), CLK_SET_RATE_GATE);\r\nclk_register_clkdev(clk, NULL, "rng");\r\n}
