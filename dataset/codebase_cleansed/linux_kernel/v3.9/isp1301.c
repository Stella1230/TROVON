static int isp1301_probe(struct i2c_client *client,\r\nconst struct i2c_device_id *i2c_id)\r\n{\r\nisp1301_i2c_client = client;\r\nreturn 0;\r\n}\r\nstatic int isp1301_remove(struct i2c_client *client)\r\n{\r\nreturn 0;\r\n}\r\nstatic int match(struct device *dev, void *data)\r\n{\r\nstruct device_node *node = (struct device_node *)data;\r\nreturn (dev->of_node == node) &&\r\n(dev->driver == &isp1301_driver.driver);\r\n}\r\nstruct i2c_client *isp1301_get_client(struct device_node *node)\r\n{\r\nif (node) {\r\nstruct device *dev = bus_find_device(&i2c_bus_type, NULL,\r\nnode, match);\r\nif (!dev)\r\nreturn NULL;\r\nreturn to_i2c_client(dev);\r\n} else {\r\nreturn isp1301_i2c_client;\r\n}\r\n}
