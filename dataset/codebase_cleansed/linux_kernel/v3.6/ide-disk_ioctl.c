int ide_disk_ioctl(ide_drive_t *drive, struct block_device *bdev, fmode_t mode,\r\nunsigned int cmd, unsigned long arg)\r\n{\r\nint err;\r\nmutex_lock(&ide_disk_ioctl_mutex);\r\nerr = ide_setting_ioctl(drive, bdev, cmd, arg, ide_disk_ioctl_settings);\r\nif (err != -EOPNOTSUPP)\r\ngoto out;\r\nerr = generic_ide_ioctl(drive, bdev, cmd, arg);\r\nout:\r\nmutex_unlock(&ide_disk_ioctl_mutex);\r\nreturn err;\r\n}
