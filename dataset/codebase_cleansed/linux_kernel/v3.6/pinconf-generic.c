void pinconf_generic_dump_pin(struct pinctrl_dev *pctldev,\r\nstruct seq_file *s, unsigned pin)\r\n{\r\nconst struct pinconf_ops *ops = pctldev->desc->confops;\r\nint i;\r\nif (!ops->is_generic)\r\nreturn;\r\nfor(i = 0; i < ARRAY_SIZE(conf_items); i++) {\r\nunsigned long config;\r\nint ret;\r\nconfig = pinconf_to_config_packed(conf_items[i].param, 0);\r\nret = pin_config_get_for_pin(pctldev, pin, &config);\r\nif (ret == -EINVAL || ret == -ENOTSUPP)\r\ncontinue;\r\nif (ret) {\r\nseq_printf(s, "ERROR READING CONFIG SETTING %d ", i);\r\ncontinue;\r\n}\r\nseq_puts(s, " ");\r\nseq_puts(s, conf_items[i].display);\r\nif (conf_items[i].format &&\r\npinconf_to_config_argument(config) != 0)\r\nseq_printf(s, " (%u %s)",\r\npinconf_to_config_argument(config),\r\nconf_items[i].format);\r\n}\r\n}\r\nvoid pinconf_generic_dump_group(struct pinctrl_dev *pctldev,\r\nstruct seq_file *s, const char *gname)\r\n{\r\nconst struct pinconf_ops *ops = pctldev->desc->confops;\r\nint i;\r\nif (!ops->is_generic)\r\nreturn;\r\nfor(i = 0; i < ARRAY_SIZE(conf_items); i++) {\r\nunsigned long config;\r\nint ret;\r\nconfig = pinconf_to_config_packed(conf_items[i].param, 0);\r\nret = pin_config_group_get(dev_name(pctldev->dev), gname,\r\n&config);\r\nif (ret == -EINVAL || ret == -ENOTSUPP)\r\ncontinue;\r\nif (ret) {\r\nseq_printf(s, "ERROR READING CONFIG SETTING %d ", i);\r\ncontinue;\r\n}\r\nseq_puts(s, " ");\r\nseq_puts(s, conf_items[i].display);\r\nif (conf_items[i].format && config != 0)\r\nseq_printf(s, " (%u %s)",\r\npinconf_to_config_argument(config),\r\nconf_items[i].format);\r\n}\r\n}
