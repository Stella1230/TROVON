static int sh4202_read_vcr(unsigned long base, struct superhyway_vcr_info *vcr)\r\n{\r\nu32 vcrh, vcrl;\r\nu64 tmp;\r\nvcrh = __raw_readl(base);\r\nvcrl = __raw_readl(base + sizeof(u32));\r\ntmp = ((u64)vcrh << 32) | vcrl;\r\nmemcpy(vcr, &tmp, sizeof(u64));\r\nreturn 0;\r\n}\r\nstatic int sh4202_write_vcr(unsigned long base, struct superhyway_vcr_info vcr)\r\n{\r\nu64 tmp = *(u64 *)&vcr;\r\n__raw_writel((tmp >> 32) & 0xffffffff, base);\r\n__raw_writel(tmp & 0xffffffff, base + sizeof(u32));\r\nreturn 0;\r\n}\r\nint __init superhyway_scan_bus(struct superhyway_bus *bus)\r\n{\r\nreturn superhyway_add_devices(bus, sh4202_devices,\r\nARRAY_SIZE(sh4202_devices));\r\n}
