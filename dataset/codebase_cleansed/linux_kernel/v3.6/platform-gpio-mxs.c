struct platform_device *__init mxs_add_gpio(\r\nchar *name, int id, resource_size_t iobase, int irq)\r\n{\r\nstruct resource res[] = {\r\n{\r\n.start = iobase,\r\n.end = iobase + SZ_8K - 1,\r\n.flags = IORESOURCE_MEM,\r\n}, {\r\n.start = irq,\r\n.end = irq,\r\n.flags = IORESOURCE_IRQ,\r\n},\r\n};\r\nreturn platform_device_register_resndata(&mxs_apbh_bus,\r\nname, id, res, ARRAY_SIZE(res), NULL, 0);\r\n}
