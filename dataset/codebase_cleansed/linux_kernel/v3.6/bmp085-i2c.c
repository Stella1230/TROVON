static int bmp085_i2c_detect(struct i2c_client *client,\r\nstruct i2c_board_info *info)\r\n{\r\nif (client->addr != BMP085_I2C_ADDRESS)\r\nreturn -ENODEV;\r\nreturn bmp085_detect(&client->dev);\r\n}\r\nstatic int __devinit bmp085_i2c_probe(struct i2c_client *client,\r\nconst struct i2c_device_id *id)\r\n{\r\nint err;\r\nstruct regmap *regmap = devm_regmap_init_i2c(client,\r\n&bmp085_regmap_config);\r\nif (IS_ERR(regmap)) {\r\nerr = PTR_ERR(regmap);\r\ndev_err(&client->dev, "Failed to init regmap: %d\n", err);\r\nreturn err;\r\n}\r\nreturn bmp085_probe(&client->dev, regmap);\r\n}\r\nstatic int bmp085_i2c_remove(struct i2c_client *client)\r\n{\r\nreturn bmp085_remove(&client->dev);\r\n}
