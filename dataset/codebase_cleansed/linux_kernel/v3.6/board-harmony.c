static void __init harmony_i2c_init(void)\r\n{\r\nplatform_device_register(&tegra_i2c_device1);\r\nplatform_device_register(&tegra_i2c_device2);\r\nplatform_device_register(&tegra_i2c_device3);\r\nplatform_device_register(&tegra_i2c_device4);\r\nwm8903_board_info.irq = gpio_to_irq(TEGRA_GPIO_CDC_IRQ);\r\ni2c_register_board_info(0, &wm8903_board_info, 1);\r\n}\r\nstatic void __init tegra_harmony_fixup(struct tag *tags, char **cmdline,\r\nstruct meminfo *mi)\r\n{\r\nmi->nr_banks = 2;\r\nmi->bank[0].start = PHYS_OFFSET;\r\nmi->bank[0].size = 448 * SZ_1M;\r\nmi->bank[1].start = SZ_512M;\r\nmi->bank[1].size = SZ_512M;\r\n}\r\nstatic void __init tegra_harmony_init(void)\r\n{\r\ntegra_clk_init_from_table(harmony_clk_init_table);\r\nharmony_pinmux_init();\r\ntegra_sdhci_device1.dev.platform_data = &sdhci_pdata1;\r\ntegra_sdhci_device2.dev.platform_data = &sdhci_pdata2;\r\ntegra_sdhci_device4.dev.platform_data = &sdhci_pdata4;\r\nplatform_add_devices(harmony_devices, ARRAY_SIZE(harmony_devices));\r\nharmony_i2c_init();\r\nharmony_regulator_init();\r\n}
