static void __init msm8x60_fixup(struct tag *tag, char **cmdline,\r\nstruct meminfo *mi)\r\n{\r\nfor (; tag->hdr.size; tag = tag_next(tag))\r\nif (tag->hdr.tag == ATAG_MEM &&\r\ntag->u.mem.start == 0x40200000) {\r\ntag->u.mem.start = 0x40000000;\r\ntag->u.mem.size += SZ_2M;\r\n}\r\n}\r\nstatic void __init msm8x60_reserve(void)\r\n{\r\nmemblock_remove(0x40000000, SZ_2M);\r\n}\r\nstatic void __init msm8x60_map_io(void)\r\n{\r\nmsm_map_msm8x60_io();\r\n}\r\nstatic void __init msm8x60_init_irq(void)\r\n{\r\nif (!of_have_populated_dt())\r\ngic_init(0, GIC_PPI_START, MSM_QGIC_DIST_BASE,\r\n(void *)MSM_QGIC_CPU_BASE);\r\n#ifdef CONFIG_OF\r\nelse\r\nof_irq_init(msm_dt_gic_match);\r\n#endif\r\nwritel(0xFFFFD7FF, MSM_QGIC_DIST_BASE + GIC_DIST_CONFIG + 4);\r\nif (!machine_is_msm8x60_sim())\r\nwritel(0x0000FFFF, MSM_QGIC_DIST_BASE + GIC_DIST_ENABLE_SET);\r\n}\r\nstatic void __init msm8x60_init(void)\r\n{\r\n}\r\nstatic void __init msm8x60_init_late(void)\r\n{\r\nsmd_debugfs_init();\r\n}\r\nstatic void __init msm8x60_dt_init(void)\r\n{\r\nif (of_machine_is_compatible("qcom,msm8660-surf")) {\r\nprintk(KERN_INFO "Init surf UART registers\n");\r\nmsm8x60_init_uart12dm();\r\n}\r\nof_platform_populate(NULL, of_default_bus_match_table,\r\nmsm_auxdata_lookup, NULL);\r\n}
