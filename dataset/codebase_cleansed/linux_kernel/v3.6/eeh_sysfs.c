void eeh_sysfs_add_device(struct pci_dev *pdev)\r\n{\r\nint rc=0;\r\nrc += device_create_file(&pdev->dev, &dev_attr_eeh_mode);\r\nrc += device_create_file(&pdev->dev, &dev_attr_eeh_config_addr);\r\nrc += device_create_file(&pdev->dev, &dev_attr_eeh_pe_config_addr);\r\nrc += device_create_file(&pdev->dev, &dev_attr_eeh_check_count);\r\nrc += device_create_file(&pdev->dev, &dev_attr_eeh_false_positives);\r\nrc += device_create_file(&pdev->dev, &dev_attr_eeh_freeze_count);\r\nif (rc)\r\nprintk(KERN_WARNING "EEH: Unable to create sysfs entries\n");\r\n}\r\nvoid eeh_sysfs_remove_device(struct pci_dev *pdev)\r\n{\r\ndevice_remove_file(&pdev->dev, &dev_attr_eeh_mode);\r\ndevice_remove_file(&pdev->dev, &dev_attr_eeh_config_addr);\r\ndevice_remove_file(&pdev->dev, &dev_attr_eeh_pe_config_addr);\r\ndevice_remove_file(&pdev->dev, &dev_attr_eeh_check_count);\r\ndevice_remove_file(&pdev->dev, &dev_attr_eeh_false_positives);\r\ndevice_remove_file(&pdev->dev, &dev_attr_eeh_freeze_count);\r\n}
