u32 omap_secure_dispatcher(u32 idx, u32 flag, u32 nargs, u32 arg1, u32 arg2,\r\nu32 arg3, u32 arg4)\r\n{\r\nu32 ret;\r\nu32 param[5];\r\nparam[0] = nargs;\r\nparam[1] = arg1;\r\nparam[2] = arg2;\r\nparam[3] = arg3;\r\nparam[4] = arg4;\r\nflush_cache_all();\r\nouter_clean_range(__pa(param), __pa(param + 5));\r\nret = omap_smc2(idx, flag, __pa(param));\r\nreturn ret;\r\n}\r\nint __init omap_secure_ram_reserve_memblock(void)\r\n{\r\nu32 size = OMAP_SECURE_RAM_STORAGE;\r\nsize = ALIGN(size, SZ_1M);\r\nomap_secure_memblock_base = arm_memblock_steal(size, SZ_1M);\r\nreturn 0;\r\n}\r\nphys_addr_t omap_secure_ram_mempool_base(void)\r\n{\r\nreturn omap_secure_memblock_base;\r\n}
