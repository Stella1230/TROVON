static inline void unmask_rm7k_irq(struct irq_data *d)\r\n{\r\nset_c0_intcontrol(0x100 << (d->irq - RM7K_CPU_IRQ_BASE));\r\n}\r\nstatic inline void mask_rm7k_irq(struct irq_data *d)\r\n{\r\nclear_c0_intcontrol(0x100 << (d->irq - RM7K_CPU_IRQ_BASE));\r\n}\r\nvoid __init rm7k_cpu_irq_init(void)\r\n{\r\nint base = RM7K_CPU_IRQ_BASE;\r\nint i;\r\nclear_c0_intcontrol(0x00000f00);\r\nfor (i = base; i < base + 4; i++)\r\nirq_set_chip_and_handler(i, &rm7k_irq_controller,\r\nhandle_percpu_irq);\r\n}
