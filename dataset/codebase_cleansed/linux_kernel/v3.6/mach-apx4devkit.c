static void __init apx4devkit_add_regulators(void)\r\n{\r\nplatform_device_register(&apx4devkit_voltage_regulator);\r\n}\r\nstatic void __init apx4devkit_add_regulators(void) {}\r\nstatic int apx4devkit_phy_fixup(struct phy_device *phy)\r\n{\r\nphy->dev_flags |= MICREL_PHY_50MHZ_CLK;\r\nreturn 0;\r\n}\r\nstatic void __init apx4devkit_fec_phy_clk_enable(void)\r\n{\r\nstruct clk *clk;\r\nclk = clk_get_sys("enet_out", NULL);\r\nif (!IS_ERR(clk))\r\nclk_prepare_enable(clk);\r\n}\r\nstatic void __init apx4devkit_init(void)\r\n{\r\nmx28_soc_init();\r\nmxs_iomux_setup_multiple_pads(apx4devkit_pads,\r\nARRAY_SIZE(apx4devkit_pads));\r\nmx28_add_duart();\r\nmx28_add_auart0();\r\nmx28_add_auart1();\r\nmx28_add_auart2();\r\nmx28_add_auart3();\r\nphy_register_fixup_for_uid(PHY_ID_KS8051, MICREL_PHY_ID_MASK,\r\napx4devkit_phy_fixup);\r\napx4devkit_fec_phy_clk_enable();\r\nmx28_add_fec(0, &mx28_fec_pdata);\r\nmx28_add_mxs_mmc(0, &apx4devkit_mmc_pdata);\r\ngpio_led_register_device(0, &apx4devkit_led_data);\r\nmxs_saif_clkmux_select(MXS_DIGCTL_SAIF_CLKMUX_EXTMSTR0);\r\nmx28_add_saif(0, &apx4devkit_mxs_saif_pdata[0]);\r\nmx28_add_saif(1, &apx4devkit_mxs_saif_pdata[1]);\r\napx4devkit_add_regulators();\r\nmx28_add_mxs_i2c(0);\r\ni2c_register_board_info(0, apx4devkit_i2c_boardinfo,\r\nARRAY_SIZE(apx4devkit_i2c_boardinfo));\r\nmxs_add_platform_device("mxs-sgtl5000", 0, NULL, 0, NULL, 0);\r\n}\r\nstatic void __init apx4devkit_timer_init(void)\r\n{\r\nmx28_clocks_init();\r\n}
