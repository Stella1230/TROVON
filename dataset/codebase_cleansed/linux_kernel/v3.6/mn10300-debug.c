void debug_to_serial_mnser(const char *p, int n)\r\n{\r\nchar ch;\r\nfor (; n > 0; n--) {\r\nch = *p++;\r\n#if MN10300_CONSOLE_ON_SERIO == 0\r\nwhile (SC0STR & (SC01STR_TBF)) continue;\r\nSC0TXB = ch;\r\nwhile (SC0STR & (SC01STR_TBF)) continue;\r\nif (ch == 0x0a) {\r\nSC0TXB = 0x0d;\r\nwhile (SC0STR & (SC01STR_TBF)) continue;\r\n}\r\n#elif MN10300_CONSOLE_ON_SERIO == 1\r\nwhile (SC1STR & (SC01STR_TBF)) continue;\r\nSC1TXB = ch;\r\nwhile (SC1STR & (SC01STR_TBF)) continue;\r\nif (ch == 0x0a) {\r\nSC1TXB = 0x0d;\r\nwhile (SC1STR & (SC01STR_TBF)) continue;\r\n}\r\n#elif MN10300_CONSOLE_ON_SERIO == 2\r\nwhile (SC2STR & (SC2STR_TBF)) continue;\r\nSC2TXB = ch;\r\nwhile (SC2STR & (SC2STR_TBF)) continue;\r\nif (ch == 0x0a) {\r\nSC2TXB = 0x0d;\r\nwhile (SC2STR & (SC2STR_TBF)) continue;\r\n}\r\n#endif\r\n}\r\n}
