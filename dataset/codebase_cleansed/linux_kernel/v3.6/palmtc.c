static void __init palmtc_mmc_init(void)\r\n{\r\npxa_set_mci_info(&palmtc_mci_platform_data);\r\n}\r\nstatic inline void palmtc_mmc_init(void) {}\r\nstatic void __init palmtc_keys_init(void)\r\n{\r\nplatform_device_register(&palmtc_pxa_keys);\r\n}\r\nstatic inline void palmtc_keys_init(void) {}\r\nstatic int palmtc_backlight_init(struct device *dev)\r\n{\r\nint ret;\r\nret = gpio_request(GPIO_NR_PALMTC_BL_POWER, "BL POWER");\r\nif (ret)\r\ngoto err;\r\nret = gpio_direction_output(GPIO_NR_PALMTC_BL_POWER, 1);\r\nif (ret)\r\ngoto err2;\r\nreturn 0;\r\nerr2:\r\ngpio_free(GPIO_NR_PALMTC_BL_POWER);\r\nerr:\r\nreturn ret;\r\n}\r\nstatic int palmtc_backlight_notify(struct device *dev, int brightness)\r\n{\r\ngpio_set_value(GPIO_NR_PALMTC_BL_POWER, brightness);\r\nreturn brightness;\r\n}\r\nstatic void palmtc_backlight_exit(struct device *dev)\r\n{\r\ngpio_free(GPIO_NR_PALMTC_BL_POWER);\r\n}\r\nstatic void __init palmtc_pwm_init(void)\r\n{\r\nplatform_device_register(&palmtc_backlight);\r\n}\r\nstatic inline void palmtc_pwm_init(void) {}\r\nstatic void __init palmtc_irda_init(void)\r\n{\r\npxa_set_ficp_info(&palmtc_ficp_platform_data);\r\n}\r\nstatic inline void palmtc_irda_init(void) {}\r\nstatic void __init palmtc_mkp_init(void)\r\n{\r\nplatform_device_register(&palmtc_keyboard);\r\n}\r\nstatic inline void palmtc_mkp_init(void) {}\r\nstatic void __init palmtc_udc_init(void)\r\n{\r\nplatform_device_register(&palmtc_gpio_vbus);\r\n}\r\nstatic inline void palmtc_udc_init(void) {}\r\nstatic void __init palmtc_ts_init(void)\r\n{\r\npxa_set_ac97_info(NULL);\r\nplatform_device_register(&palmtc_ucb1400_device);\r\n}\r\nstatic inline void palmtc_ts_init(void) {}\r\nstatic void __init palmtc_leds_init(void)\r\n{\r\nplatform_device_register(&palmtc_leds);\r\n}\r\nstatic inline void palmtc_leds_init(void) {}\r\nstatic void __init palmtc_nor_init(void)\r\n{\r\nplatform_device_register(&palmtc_flash);\r\n}\r\nstatic inline void palmtc_nor_init(void) {}\r\nstatic void __init palmtc_lcd_init(void)\r\n{\r\npxa_set_fb_info(NULL, &palmtc_lcd_screen);\r\n}\r\nstatic inline void palmtc_lcd_init(void) {}\r\nstatic void __init palmtc_init(void)\r\n{\r\npxa2xx_mfp_config(ARRAY_AND_SIZE(palmtc_pin_config));\r\npxa_set_ffuart_info(NULL);\r\npxa_set_btuart_info(NULL);\r\npxa_set_stuart_info(NULL);\r\npxa_set_hwuart_info(NULL);\r\npalmtc_mmc_init();\r\npalmtc_keys_init();\r\npalmtc_pwm_init();\r\npalmtc_irda_init();\r\npalmtc_mkp_init();\r\npalmtc_udc_init();\r\npalmtc_ts_init();\r\npalmtc_nor_init();\r\npalmtc_lcd_init();\r\npalmtc_leds_init();\r\n}
