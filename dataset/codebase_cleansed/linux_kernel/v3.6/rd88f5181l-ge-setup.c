static void __init rd88f5181l_ge_init(void)\r\n{\r\norion5x_init();\r\norion5x_mpp_conf(rd88f5181l_ge_mpp_modes);\r\norion5x_ehci0_init();\r\norion5x_eth_init(&rd88f5181l_ge_eth_data);\r\norion5x_eth_switch_init(&rd88f5181l_ge_switch_plat_data,\r\ngpio_to_irq(8));\r\norion5x_i2c_init();\r\norion5x_uart0_init();\r\norion5x_setup_dev_boot_win(RD88F5181L_GE_NOR_BOOT_BASE,\r\nRD88F5181L_GE_NOR_BOOT_SIZE);\r\nplatform_device_register(&rd88f5181l_ge_nor_boot_flash);\r\ni2c_register_board_info(0, &rd88f5181l_ge_i2c_rtc, 1);\r\n}\r\nstatic int __init\r\nrd88f5181l_ge_pci_map_irq(const struct pci_dev *dev, u8 slot, u8 pin)\r\n{\r\nint irq;\r\nirq = orion5x_pci_map_irq(dev, slot, pin);\r\nif (irq != -1)\r\nreturn irq;\r\nif (pin == 1)\r\nreturn gpio_to_irq(4);\r\nelse\r\nreturn gpio_to_irq(10);\r\n}\r\nstatic int __init rd88f5181l_ge_pci_init(void)\r\n{\r\nif (machine_is_rd88f5181l_ge()) {\r\norion5x_pci_set_cardbus_mode();\r\npci_common_init(&rd88f5181l_ge_pci);\r\n}\r\nreturn 0;\r\n}
