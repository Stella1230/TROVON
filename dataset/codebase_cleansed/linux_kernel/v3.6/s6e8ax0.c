static void s6e8ax0_regulator_enable(struct s6e8ax0 *lcd)\r\n{\r\nint ret = 0;\r\nstruct lcd_platform_data *pd = NULL;\r\npd = lcd->ddi_pd;\r\nmutex_lock(&lcd->lock);\r\nif (!lcd->enabled) {\r\nret = regulator_bulk_enable(ARRAY_SIZE(supplies), supplies);\r\nif (ret)\r\ngoto out;\r\nlcd->enabled = true;\r\n}\r\nmsleep(pd->power_on_delay);\r\nout:\r\nmutex_unlock(&lcd->lock);\r\n}\r\nstatic void s6e8ax0_regulator_disable(struct s6e8ax0 *lcd)\r\n{\r\nint ret = 0;\r\nmutex_lock(&lcd->lock);\r\nif (lcd->enabled) {\r\nret = regulator_bulk_disable(ARRAY_SIZE(supplies), supplies);\r\nif (ret)\r\ngoto out;\r\nlcd->enabled = false;\r\n}\r\nout:\r\nmutex_unlock(&lcd->lock);\r\n}\r\nstatic void s6e8ax0_panel_cond(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0xf8, 0x3d, 0x35, 0x00, 0x00, 0x00, 0x93, 0x00, 0x3c, 0x7d,\r\n0x08, 0x27, 0x7d, 0x3f, 0x00, 0x00, 0x00, 0x20, 0x04, 0x08,\r\n0x6e, 0x00, 0x00, 0x00, 0x02, 0x08, 0x08, 0x23, 0x23, 0xc0,\r\n0xc8, 0x08, 0x48, 0xc1, 0x00, 0xc1, 0xff, 0xff, 0xc8\r\n};\r\nstatic const unsigned char data_to_send_panel_reverse[] = {\r\n0xf8, 0x19, 0x35, 0x00, 0x00, 0x00, 0x93, 0x00, 0x3c, 0x7d,\r\n0x08, 0x27, 0x7d, 0x3f, 0x00, 0x00, 0x00, 0x20, 0x04, 0x08,\r\n0x6e, 0x00, 0x00, 0x00, 0x02, 0x08, 0x08, 0x23, 0x23, 0xc0,\r\n0xc1, 0x01, 0x41, 0xc1, 0x00, 0xc1, 0xf6, 0xf6, 0xc1\r\n};\r\nif (lcd->dsim_dev->panel_reverse)\r\nops->cmd_write(lcd_to_master(lcd), MIPI_DSI_DCS_LONG_WRITE,\r\ndata_to_send_panel_reverse,\r\nARRAY_SIZE(data_to_send_panel_reverse));\r\nelse\r\nops->cmd_write(lcd_to_master(lcd), MIPI_DSI_DCS_LONG_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_display_cond(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0xf2, 0x80, 0x03, 0x0d\r\n};\r\nops->cmd_write(lcd_to_master(lcd), MIPI_DSI_DCS_LONG_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_gamma_cond(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nunsigned int gamma = lcd->bd->props.brightness;\r\nops->cmd_write(lcd_to_master(lcd), MIPI_DSI_DCS_LONG_WRITE,\r\ns6e8ax0_22_gamma_table[gamma],\r\nGAMMA_TABLE_COUNT);\r\n}\r\nstatic void s6e8ax0_gamma_update(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0xf7, 0x03\r\n};\r\nops->cmd_write(lcd_to_master(lcd),\r\nMIPI_DSI_DCS_SHORT_WRITE_PARAM, data_to_send,\r\nARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_etc_cond1(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0xd1, 0xfe, 0x80, 0x00, 0x01, 0x0b, 0x00, 0x00, 0x40,\r\n0x0d, 0x00, 0x00\r\n};\r\nops->cmd_write(lcd_to_master(lcd), MIPI_DSI_DCS_LONG_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_etc_cond2(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0xb6, 0x0c, 0x02, 0x03, 0x32, 0xff, 0x44, 0x44, 0xc0,\r\n0x00\r\n};\r\nops->cmd_write(lcd_to_master(lcd), MIPI_DSI_DCS_LONG_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_etc_cond3(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0xe1, 0x10, 0x1c, 0x17, 0x08, 0x1d\r\n};\r\nops->cmd_write(lcd_to_master(lcd), MIPI_DSI_DCS_LONG_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_etc_cond4(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0xe2, 0xed, 0x07, 0xc3, 0x13, 0x0d, 0x03\r\n};\r\nops->cmd_write(lcd_to_master(lcd), MIPI_DSI_DCS_LONG_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_etc_cond5(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0xf4, 0xcf, 0x0a, 0x12, 0x10, 0x19, 0x33, 0x02\r\n};\r\nops->cmd_write(lcd_to_master(lcd), MIPI_DSI_DCS_LONG_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_etc_cond6(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0xe3, 0x40\r\n};\r\nops->cmd_write(lcd_to_master(lcd),\r\nMIPI_DSI_DCS_SHORT_WRITE_PARAM,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_etc_cond7(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0xe4, 0x00, 0x00, 0x14, 0x80, 0x00, 0x00, 0x00\r\n};\r\nops->cmd_write(lcd_to_master(lcd), MIPI_DSI_DCS_LONG_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_elvss_set(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0xb1, 0x04, 0x00\r\n};\r\nops->cmd_write(lcd_to_master(lcd), MIPI_DSI_DCS_LONG_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_elvss_nvm_set(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0xd9, 0x5c, 0x20, 0x0c, 0x0f, 0x41, 0x00, 0x10, 0x11,\r\n0x12, 0xd1, 0x00, 0x00, 0x00, 0x00, 0x80, 0xcb, 0xed,\r\n0x64, 0xaf\r\n};\r\nops->cmd_write(lcd_to_master(lcd), MIPI_DSI_DCS_LONG_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_sleep_in(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0x10, 0x00\r\n};\r\nops->cmd_write(lcd_to_master(lcd),\r\nMIPI_DSI_DCS_SHORT_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_sleep_out(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0x11, 0x00\r\n};\r\nops->cmd_write(lcd_to_master(lcd),\r\nMIPI_DSI_DCS_SHORT_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_display_on(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0x29, 0x00\r\n};\r\nops->cmd_write(lcd_to_master(lcd),\r\nMIPI_DSI_DCS_SHORT_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_display_off(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0x28, 0x00\r\n};\r\nops->cmd_write(lcd_to_master(lcd),\r\nMIPI_DSI_DCS_SHORT_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_apply_level2_key(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0xf0, 0x5a, 0x5a\r\n};\r\nops->cmd_write(lcd_to_master(lcd), MIPI_DSI_DCS_LONG_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_acl_on(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0xc0, 0x01\r\n};\r\nops->cmd_write(lcd_to_master(lcd),\r\nMIPI_DSI_DCS_SHORT_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_acl_off(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char data_to_send[] = {\r\n0xc0, 0x00\r\n};\r\nops->cmd_write(lcd_to_master(lcd),\r\nMIPI_DSI_DCS_SHORT_WRITE,\r\ndata_to_send, ARRAY_SIZE(data_to_send));\r\n}\r\nstatic void s6e8ax0_acl_ctrl_set(struct s6e8ax0 *lcd)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nstatic const unsigned char cutoff_50[] = {\r\n0xc1, 0x47, 0x53, 0x13, 0x53, 0x00, 0x00, 0x02, 0xcf,\r\n0x00, 0x00, 0x04, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00,\r\n0x01, 0x08, 0x0f, 0x16, 0x1d, 0x24, 0x2a, 0x31, 0x38,\r\n0x3f, 0x46\r\n};\r\nstatic const unsigned char cutoff_45[] = {\r\n0xc1, 0x47, 0x53, 0x13, 0x53, 0x00, 0x00, 0x02, 0xcf,\r\n0x00, 0x00, 0x04, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00,\r\n0x01, 0x07, 0x0d, 0x13, 0x19, 0x1f, 0x25, 0x2b, 0x31,\r\n0x37, 0x3d\r\n};\r\nstatic const unsigned char cutoff_40[] = {\r\n0xc1, 0x47, 0x53, 0x13, 0x53, 0x00, 0x00, 0x02, 0xcf,\r\n0x00, 0x00, 0x04, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00,\r\n0x01, 0x06, 0x0c, 0x11, 0x16, 0x1c, 0x21, 0x26, 0x2b,\r\n0x31, 0x36\r\n};\r\nif (lcd->acl_enable) {\r\nif (lcd->cur_acl == 0) {\r\nif (lcd->gamma == 0 || lcd->gamma == 1) {\r\ns6e8ax0_acl_off(lcd);\r\ndev_dbg(&lcd->ld->dev,\r\n"cur_acl=%d\n", lcd->cur_acl);\r\n} else\r\ns6e8ax0_acl_on(lcd);\r\n}\r\nswitch (lcd->gamma) {\r\ncase 0:\r\ns6e8ax0_acl_off(lcd);\r\nlcd->cur_acl = 0;\r\nbreak;\r\ncase 1 ... 3:\r\nops->cmd_write(lcd_to_master(lcd),\r\nMIPI_DSI_DCS_LONG_WRITE,\r\ncutoff_40,\r\nARRAY_SIZE(cutoff_40));\r\nlcd->cur_acl = 40;\r\nbreak;\r\ncase 4 ... 7:\r\nops->cmd_write(lcd_to_master(lcd),\r\nMIPI_DSI_DCS_LONG_WRITE,\r\ncutoff_45,\r\nARRAY_SIZE(cutoff_45));\r\nlcd->cur_acl = 45;\r\nbreak;\r\ncase 8 ... 10:\r\nops->cmd_write(lcd_to_master(lcd),\r\nMIPI_DSI_DCS_LONG_WRITE,\r\ncutoff_50,\r\nARRAY_SIZE(cutoff_50));\r\nlcd->cur_acl = 50;\r\nbreak;\r\ndefault:\r\nbreak;\r\n}\r\n} else {\r\ns6e8ax0_acl_off(lcd);\r\nlcd->cur_acl = 0;\r\ndev_dbg(&lcd->ld->dev, "cur_acl = %d\n", lcd->cur_acl);\r\n}\r\n}\r\nstatic void s6e8ax0_read_id(struct s6e8ax0 *lcd, u8 *mtp_id)\r\n{\r\nunsigned int ret;\r\nunsigned int addr = 0xd1;\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nret = ops->cmd_read(lcd_to_master(lcd),\r\nMIPI_DSI_GENERIC_READ_REQUEST_1_PARAM,\r\naddr, 3, mtp_id);\r\n}\r\nstatic int s6e8ax0_panel_init(struct s6e8ax0 *lcd)\r\n{\r\ns6e8ax0_apply_level2_key(lcd);\r\ns6e8ax0_sleep_out(lcd);\r\nmsleep(1);\r\ns6e8ax0_panel_cond(lcd);\r\ns6e8ax0_display_cond(lcd);\r\ns6e8ax0_gamma_cond(lcd);\r\ns6e8ax0_gamma_update(lcd);\r\ns6e8ax0_etc_cond1(lcd);\r\ns6e8ax0_etc_cond2(lcd);\r\ns6e8ax0_etc_cond3(lcd);\r\ns6e8ax0_etc_cond4(lcd);\r\ns6e8ax0_etc_cond5(lcd);\r\ns6e8ax0_etc_cond6(lcd);\r\ns6e8ax0_etc_cond7(lcd);\r\ns6e8ax0_elvss_nvm_set(lcd);\r\ns6e8ax0_elvss_set(lcd);\r\ns6e8ax0_acl_ctrl_set(lcd);\r\ns6e8ax0_acl_on(lcd);\r\nmsleep(lcd->ddi_pd->power_on_delay);\r\nreturn 0;\r\n}\r\nstatic int s6e8ax0_update_gamma_ctrl(struct s6e8ax0 *lcd, int brightness)\r\n{\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nops->cmd_write(lcd_to_master(lcd), MIPI_DSI_DCS_LONG_WRITE,\r\ns6e8ax0_22_gamma_table[brightness],\r\nARRAY_SIZE(s6e8ax0_22_gamma_table));\r\ns6e8ax0_gamma_update(lcd);\r\nlcd->gamma = brightness;\r\nreturn 0;\r\n}\r\nstatic int s6e8ax0_gamma_ctrl(struct s6e8ax0 *lcd, int gamma)\r\n{\r\ns6e8ax0_update_gamma_ctrl(lcd, gamma);\r\nreturn 0;\r\n}\r\nstatic int s6e8ax0_set_power(struct lcd_device *ld, int power)\r\n{\r\nstruct s6e8ax0 *lcd = lcd_get_data(ld);\r\nstruct mipi_dsim_master_ops *ops = lcd_to_master_ops(lcd);\r\nint ret = 0;\r\nif (power != FB_BLANK_UNBLANK && power != FB_BLANK_POWERDOWN &&\r\npower != FB_BLANK_NORMAL) {\r\ndev_err(lcd->dev, "power value should be 0, 1 or 4.\n");\r\nreturn -EINVAL;\r\n}\r\nif ((power == FB_BLANK_UNBLANK) && ops->set_blank_mode) {\r\nif ((POWER_IS_ON(power) && POWER_IS_OFF(lcd->power))\r\n|| (POWER_IS_ON(power) && POWER_IS_NRM(lcd->power))) {\r\nret = ops->set_blank_mode(lcd_to_master(lcd), power);\r\nif (!ret && lcd->power != power)\r\nlcd->power = power;\r\n}\r\n} else if ((power == FB_BLANK_POWERDOWN) && ops->set_early_blank_mode) {\r\nif ((POWER_IS_OFF(power) && POWER_IS_ON(lcd->power)) ||\r\n(POWER_IS_ON(lcd->power) && POWER_IS_NRM(power))) {\r\nret = ops->set_early_blank_mode(lcd_to_master(lcd),\r\npower);\r\nif (!ret && lcd->power != power)\r\nlcd->power = power;\r\n}\r\n}\r\nreturn ret;\r\n}\r\nstatic int s6e8ax0_get_power(struct lcd_device *ld)\r\n{\r\nstruct s6e8ax0 *lcd = lcd_get_data(ld);\r\nreturn lcd->power;\r\n}\r\nstatic int s6e8ax0_get_brightness(struct backlight_device *bd)\r\n{\r\nreturn bd->props.brightness;\r\n}\r\nstatic int s6e8ax0_set_brightness(struct backlight_device *bd)\r\n{\r\nint ret = 0, brightness = bd->props.brightness;\r\nstruct s6e8ax0 *lcd = bl_get_data(bd);\r\nif (brightness < MIN_BRIGHTNESS ||\r\nbrightness > bd->props.max_brightness) {\r\ndev_err(lcd->dev, "lcd brightness should be %d to %d.\n",\r\nMIN_BRIGHTNESS, MAX_BRIGHTNESS);\r\nreturn -EINVAL;\r\n}\r\nret = s6e8ax0_gamma_ctrl(lcd, brightness);\r\nif (ret) {\r\ndev_err(&bd->dev, "lcd brightness setting failed.\n");\r\nreturn -EIO;\r\n}\r\nreturn ret;\r\n}\r\nstatic void s6e8ax0_power_on(struct mipi_dsim_lcd_device *dsim_dev, int power)\r\n{\r\nstruct s6e8ax0 *lcd = dev_get_drvdata(&dsim_dev->dev);\r\nmsleep(lcd->ddi_pd->power_on_delay);\r\nif (power)\r\ns6e8ax0_regulator_enable(lcd);\r\nelse\r\ns6e8ax0_regulator_disable(lcd);\r\nmsleep(lcd->ddi_pd->reset_delay);\r\nif (lcd->ddi_pd->reset)\r\nlcd->ddi_pd->reset(lcd->ld);\r\nmsleep(5);\r\n}\r\nstatic void s6e8ax0_set_sequence(struct mipi_dsim_lcd_device *dsim_dev)\r\n{\r\nstruct s6e8ax0 *lcd = dev_get_drvdata(&dsim_dev->dev);\r\ns6e8ax0_panel_init(lcd);\r\ns6e8ax0_display_on(lcd);\r\nlcd->power = FB_BLANK_UNBLANK;\r\n}\r\nstatic int s6e8ax0_probe(struct mipi_dsim_lcd_device *dsim_dev)\r\n{\r\nstruct s6e8ax0 *lcd;\r\nint ret;\r\nu8 mtp_id[3] = {0, };\r\nlcd = kzalloc(sizeof(struct s6e8ax0), GFP_KERNEL);\r\nif (!lcd) {\r\ndev_err(&dsim_dev->dev, "failed to allocate s6e8ax0 structure.\n");\r\nreturn -ENOMEM;\r\n}\r\nlcd->dsim_dev = dsim_dev;\r\nlcd->ddi_pd = (struct lcd_platform_data *)dsim_dev->platform_data;\r\nlcd->dev = &dsim_dev->dev;\r\nmutex_init(&lcd->lock);\r\nret = regulator_bulk_get(lcd->dev, ARRAY_SIZE(supplies), supplies);\r\nif (ret) {\r\ndev_err(lcd->dev, "Failed to get regulators: %d\n", ret);\r\ngoto err_lcd_register;\r\n}\r\nlcd->ld = lcd_device_register("s6e8ax0", lcd->dev, lcd,\r\n&s6e8ax0_lcd_ops);\r\nif (IS_ERR(lcd->ld)) {\r\ndev_err(lcd->dev, "failed to register lcd ops.\n");\r\nret = PTR_ERR(lcd->ld);\r\ngoto err_lcd_register;\r\n}\r\nlcd->bd = backlight_device_register("s6e8ax0-bl", lcd->dev, lcd,\r\n&s6e8ax0_backlight_ops, NULL);\r\nif (IS_ERR(lcd->bd)) {\r\ndev_err(lcd->dev, "failed to register backlight ops.\n");\r\nret = PTR_ERR(lcd->bd);\r\ngoto err_backlight_register;\r\n}\r\nlcd->bd->props.max_brightness = MAX_BRIGHTNESS;\r\nlcd->bd->props.brightness = MAX_BRIGHTNESS;\r\ns6e8ax0_read_id(lcd, mtp_id);\r\nif (mtp_id[0] == 0x00)\r\ndev_err(lcd->dev, "read id failed\n");\r\ndev_info(lcd->dev, "Read ID : %x, %x, %x\n",\r\nmtp_id[0], mtp_id[1], mtp_id[2]);\r\nif (mtp_id[2] == 0x33)\r\ndev_info(lcd->dev,\r\n"ID-3 is 0xff does not support dynamic elvss\n");\r\nelse\r\ndev_info(lcd->dev,\r\n"ID-3 is 0x%x support dynamic elvss\n", mtp_id[2]);\r\nlcd->acl_enable = 1;\r\nlcd->cur_acl = 0;\r\ndev_set_drvdata(&dsim_dev->dev, lcd);\r\ndev_dbg(lcd->dev, "probed s6e8ax0 panel driver.\n");\r\nreturn 0;\r\nerr_backlight_register:\r\nlcd_device_unregister(lcd->ld);\r\nerr_lcd_register:\r\nregulator_bulk_free(ARRAY_SIZE(supplies), supplies);\r\nkfree(lcd);\r\nreturn ret;\r\n}\r\nstatic int s6e8ax0_suspend(struct mipi_dsim_lcd_device *dsim_dev)\r\n{\r\nstruct s6e8ax0 *lcd = dev_get_drvdata(&dsim_dev->dev);\r\ns6e8ax0_sleep_in(lcd);\r\nmsleep(lcd->ddi_pd->power_off_delay);\r\ns6e8ax0_display_off(lcd);\r\ns6e8ax0_regulator_disable(lcd);\r\nreturn 0;\r\n}\r\nstatic int s6e8ax0_resume(struct mipi_dsim_lcd_device *dsim_dev)\r\n{\r\nstruct s6e8ax0 *lcd = dev_get_drvdata(&dsim_dev->dev);\r\ns6e8ax0_sleep_out(lcd);\r\nmsleep(lcd->ddi_pd->power_on_delay);\r\ns6e8ax0_regulator_enable(lcd);\r\ns6e8ax0_set_sequence(dsim_dev);\r\nreturn 0;\r\n}\r\nstatic int s6e8ax0_init(void)\r\n{\r\nexynos_mipi_dsi_register_lcd_driver(&s6e8ax0_dsim_ddi_driver);\r\nreturn 0;\r\n}\r\nstatic void s6e8ax0_exit(void)\r\n{\r\nreturn;\r\n}
