static void smdk2416_hsudc_gpio_init(void)\r\n{\r\ns3c_gpio_setpull(S3C2410_GPH(14), S3C_GPIO_PULL_UP);\r\ns3c_gpio_setpull(S3C2410_GPF(2), S3C_GPIO_PULL_NONE);\r\ns3c_gpio_cfgpin(S3C2410_GPH(14), S3C_GPIO_SFN(1));\r\ns3c2410_modify_misccr(S3C2416_MISCCR_SEL_SUSPND, 0);\r\n}\r\nstatic void smdk2416_hsudc_gpio_uninit(void)\r\n{\r\ns3c2410_modify_misccr(S3C2416_MISCCR_SEL_SUSPND, 1);\r\ns3c_gpio_setpull(S3C2410_GPH(14), S3C_GPIO_PULL_NONE);\r\ns3c_gpio_cfgpin(S3C2410_GPH(14), S3C_GPIO_SFN(0));\r\n}\r\nstatic void s3c2416_fb_gpio_setup_24bpp(void)\r\n{\r\nunsigned int gpio;\r\nfor (gpio = S3C2410_GPC(1); gpio <= S3C2410_GPC(4); gpio++) {\r\ns3c_gpio_cfgpin(gpio, S3C_GPIO_SFN(2));\r\ns3c_gpio_setpull(gpio, S3C_GPIO_PULL_NONE);\r\n}\r\nfor (gpio = S3C2410_GPC(8); gpio <= S3C2410_GPC(15); gpio++) {\r\ns3c_gpio_cfgpin(gpio, S3C_GPIO_SFN(2));\r\ns3c_gpio_setpull(gpio, S3C_GPIO_PULL_NONE);\r\n}\r\nfor (gpio = S3C2410_GPD(0); gpio <= S3C2410_GPD(15); gpio++) {\r\ns3c_gpio_cfgpin(gpio, S3C_GPIO_SFN(2));\r\ns3c_gpio_setpull(gpio, S3C_GPIO_PULL_NONE);\r\n}\r\n}\r\nstatic void __init smdk2416_map_io(void)\r\n{\r\ns3c24xx_init_io(smdk2416_iodesc, ARRAY_SIZE(smdk2416_iodesc));\r\ns3c24xx_init_clocks(12000000);\r\ns3c24xx_init_uarts(smdk2416_uartcfgs, ARRAY_SIZE(smdk2416_uartcfgs));\r\n}\r\nstatic void __init smdk2416_machine_init(void)\r\n{\r\ns3c_i2c0_set_platdata(NULL);\r\ns3c_fb_set_platdata(&smdk2416_fb_platdata);\r\ns3c_sdhci0_set_platdata(&smdk2416_hsmmc0_pdata);\r\ns3c_sdhci1_set_platdata(&smdk2416_hsmmc1_pdata);\r\ns3c24xx_hsudc_set_platdata(&smdk2416_hsudc_platdata);\r\ngpio_request(S3C2410_GPB(4), "USBHost Power");\r\ngpio_direction_output(S3C2410_GPB(4), 1);\r\ngpio_request(S3C2410_GPB(3), "Display Power");\r\ngpio_direction_output(S3C2410_GPB(3), 1);\r\ngpio_request(S3C2410_GPB(1), "Display Reset");\r\ngpio_direction_output(S3C2410_GPB(1), 1);\r\nplatform_add_devices(smdk2416_devices, ARRAY_SIZE(smdk2416_devices));\r\nsmdk_machine_init();\r\n}
