int __init omap4_mux_init(struct omap_board_mux *board_subset,\r\nstruct omap_board_mux *board_wkup_subset, int flags)\r\n{\r\nstruct omap_ball *package_balls_core;\r\nstruct omap_ball *package_balls_wkup = omap4_wkup_cbl_cbs_ball;\r\nstruct omap_mux *core_muxmodes;\r\nstruct omap_mux *core_subset = NULL;\r\nint ret;\r\nswitch (flags & OMAP_PACKAGE_MASK) {\r\ncase OMAP_PACKAGE_CBL:\r\npr_debug("%s: OMAP4430 ES1.0 -> OMAP_PACKAGE_CBL\n", __func__);\r\npackage_balls_core = omap4_core_cbl_ball;\r\ncore_muxmodes = omap4_core_muxmodes;\r\nbreak;\r\ncase OMAP_PACKAGE_CBS:\r\npr_debug("%s: OMAP4430 ES2.X -> OMAP_PACKAGE_CBS\n", __func__);\r\npackage_balls_core = omap4_core_cbs_ball;\r\ncore_muxmodes = omap4_core_muxmodes;\r\ncore_subset = omap4_es2_core_subset;\r\nbreak;\r\ndefault:\r\npr_err("%s: Unknown omap package, mux disabled\n", __func__);\r\nreturn -EINVAL;\r\n}\r\nret = omap_mux_init("core",\r\nOMAP_MUX_GPIO_IN_MODE3,\r\nOMAP4_CTRL_MODULE_PAD_CORE_MUX_PBASE,\r\nOMAP4_CTRL_MODULE_PAD_CORE_MUX_SIZE,\r\ncore_muxmodes, core_subset, board_subset,\r\npackage_balls_core);\r\nif (ret)\r\nreturn ret;\r\nret = omap_mux_init("wkup",\r\nOMAP_MUX_GPIO_IN_MODE3,\r\nOMAP4_CTRL_MODULE_PAD_WKUP_MUX_PBASE,\r\nOMAP4_CTRL_MODULE_PAD_WKUP_MUX_SIZE,\r\nomap4_wkup_muxmodes, NULL, board_wkup_subset,\r\npackage_balls_wkup);\r\nreturn ret;\r\n}
