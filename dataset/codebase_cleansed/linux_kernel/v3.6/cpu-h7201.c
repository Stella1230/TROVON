static irqreturn_t\r\nh7201_timer_interrupt(int irq, void *dev_id)\r\n{\r\nCPU_REG (TIMER_VIRT, TIMER_TOPSTAT);\r\ntimer_tick();\r\nreturn IRQ_HANDLED;\r\n}\r\nvoid __init h7201_init_time(void)\r\n{\r\nCPU_REG (TIMER_VIRT, TM0_PERIOD) = LATCH;\r\nCPU_REG (TIMER_VIRT, TM0_CTRL) = TM_RESET;\r\nCPU_REG (TIMER_VIRT, TM0_CTRL) = TM_REPEAT | TM_START;\r\nCPU_REG (TIMER_VIRT, TIMER_TOPCTRL) = ENABLE_TM0_INTR | TIMER_ENABLE_BIT;\r\nsetup_irq(IRQ_TIMER0, &h7201_timer_irq);\r\n}
