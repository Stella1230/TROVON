u16\r\ndcb_conntab(struct nouveau_bios *bios, u8 *ver, u8 *hdr, u8 *cnt, u8 *len)\r\n{\r\nu16 dcb = dcb_table(bios, ver, hdr, cnt, len);\r\nif (dcb && *ver >= 0x30 && *hdr >= 0x16) {\r\nu16 data = nv_ro16(bios, dcb + 0x14);\r\nif (data) {\r\n*ver = nv_ro08(bios, data + 0);\r\n*hdr = nv_ro08(bios, data + 1);\r\n*cnt = nv_ro08(bios, data + 2);\r\n*len = nv_ro08(bios, data + 3);\r\nreturn data;\r\n}\r\n}\r\nreturn 0x0000;\r\n}\r\nu16\r\ndcb_conn(struct nouveau_bios *bios, u8 idx, u8 *ver, u8 *len)\r\n{\r\nu8 hdr, cnt;\r\nu16 data = dcb_conntab(bios, ver, &hdr, &cnt, len);\r\nif (data && idx < cnt)\r\nreturn data + hdr + (idx * *len);\r\nreturn 0x0000;\r\n}
