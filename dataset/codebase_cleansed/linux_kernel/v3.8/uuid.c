static void __uuid_gen_common(__u8 b[16])\r\n{\r\nint i;\r\nu32 r;\r\nfor (i = 0; i < 4; i++) {\r\nr = random32();\r\nmemcpy(b + i * 4, &r, 4);\r\n}\r\nb[8] = (b[8] & 0x3F) | 0x80;\r\n}\r\nvoid uuid_le_gen(uuid_le *lu)\r\n{\r\n__uuid_gen_common(lu->b);\r\nlu->b[7] = (lu->b[7] & 0x0F) | 0x40;\r\n}\r\nvoid uuid_be_gen(uuid_be *bu)\r\n{\r\n__uuid_gen_common(bu->b);\r\nbu->b[6] = (bu->b[6] & 0x0F) | 0x40;\r\n}
