void exynos_mipi_dsi_func_reset(struct mipi_dsim_device *dsim)\r\n{\r\nunsigned int reg;\r\nreg = readl(dsim->reg_base + EXYNOS_DSIM_SWRST);\r\nreg |= DSIM_FUNCRST;\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_SWRST);\r\n}\r\nvoid exynos_mipi_dsi_sw_reset(struct mipi_dsim_device *dsim)\r\n{\r\nunsigned int reg;\r\nreg = readl(dsim->reg_base + EXYNOS_DSIM_SWRST);\r\nreg |= DSIM_SWRST;\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_SWRST);\r\n}\r\nvoid exynos_mipi_dsi_sw_reset_release(struct mipi_dsim_device *dsim)\r\n{\r\nunsigned int reg;\r\nreg = readl(dsim->reg_base + EXYNOS_DSIM_INTSRC);\r\nreg |= INTSRC_SW_RST_RELEASE;\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_INTSRC);\r\n}\r\nint exynos_mipi_dsi_get_sw_reset_release(struct mipi_dsim_device *dsim)\r\n{\r\nreturn (readl(dsim->reg_base + EXYNOS_DSIM_INTSRC)) &\r\nINTSRC_SW_RST_RELEASE;\r\n}\r\nunsigned int exynos_mipi_dsi_read_interrupt_mask(struct mipi_dsim_device *dsim)\r\n{\r\nunsigned int reg;\r\nreg = readl(dsim->reg_base + EXYNOS_DSIM_INTMSK);\r\nreturn reg;\r\n}\r\nvoid exynos_mipi_dsi_set_interrupt_mask(struct mipi_dsim_device *dsim,\r\nunsigned int mode, unsigned int mask)\r\n{\r\nunsigned int reg = 0;\r\nif (mask)\r\nreg |= mode;\r\nelse\r\nreg &= ~mode;\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_INTMSK);\r\n}\r\nvoid exynos_mipi_dsi_init_fifo_pointer(struct mipi_dsim_device *dsim,\r\nunsigned int cfg)\r\n{\r\nunsigned int reg;\r\nreg = readl(dsim->reg_base + EXYNOS_DSIM_FIFOCTRL);\r\nwritel(reg & ~(cfg), dsim->reg_base + EXYNOS_DSIM_FIFOCTRL);\r\nmdelay(10);\r\nreg |= cfg;\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_FIFOCTRL);\r\n}\r\nvoid exynos_mipi_dsi_set_phy_tunning(struct mipi_dsim_device *dsim,\r\nunsigned int value)\r\n{\r\nwritel(DSIM_AFC_CTL(value), dsim->reg_base + EXYNOS_DSIM_PHYACCHR);\r\n}\r\nvoid exynos_mipi_dsi_set_main_stand_by(struct mipi_dsim_device *dsim,\r\nunsigned int enable)\r\n{\r\nunsigned int reg;\r\nreg = readl(dsim->reg_base + EXYNOS_DSIM_MDRESOL);\r\nreg &= ~DSIM_MAIN_STAND_BY;\r\nif (enable)\r\nreg |= DSIM_MAIN_STAND_BY;\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_MDRESOL);\r\n}\r\nvoid exynos_mipi_dsi_set_main_disp_resol(struct mipi_dsim_device *dsim,\r\nunsigned int width_resol, unsigned int height_resol)\r\n{\r\nunsigned int reg;\r\nreg = (readl(dsim->reg_base + EXYNOS_DSIM_MDRESOL)) &\r\n~(DSIM_MAIN_STAND_BY);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_MDRESOL);\r\nreg &= ~((0x7ff << 16) | (0x7ff << 0));\r\nreg |= DSIM_MAIN_VRESOL(height_resol) | DSIM_MAIN_HRESOL(width_resol);\r\nreg |= DSIM_MAIN_STAND_BY;\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_MDRESOL);\r\n}\r\nvoid exynos_mipi_dsi_set_main_disp_vporch(struct mipi_dsim_device *dsim,\r\nunsigned int cmd_allow, unsigned int vfront, unsigned int vback)\r\n{\r\nunsigned int reg;\r\nreg = (readl(dsim->reg_base + EXYNOS_DSIM_MVPORCH)) &\r\n~((DSIM_CMD_ALLOW_MASK) | (DSIM_STABLE_VFP_MASK) |\r\n(DSIM_MAIN_VBP_MASK));\r\nreg |= (DSIM_CMD_ALLOW_SHIFT(cmd_allow & 0xf) |\r\nDSIM_STABLE_VFP_SHIFT(vfront & 0x7ff) |\r\nDSIM_MAIN_VBP_SHIFT(vback & 0x7ff));\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_MVPORCH);\r\n}\r\nvoid exynos_mipi_dsi_set_main_disp_hporch(struct mipi_dsim_device *dsim,\r\nunsigned int front, unsigned int back)\r\n{\r\nunsigned int reg;\r\nreg = (readl(dsim->reg_base + EXYNOS_DSIM_MHPORCH)) &\r\n~((DSIM_MAIN_HFP_MASK) | (DSIM_MAIN_HBP_MASK));\r\nreg |= DSIM_MAIN_HFP_SHIFT(front) | DSIM_MAIN_HBP_SHIFT(back);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_MHPORCH);\r\n}\r\nvoid exynos_mipi_dsi_set_main_disp_sync_area(struct mipi_dsim_device *dsim,\r\nunsigned int vert, unsigned int hori)\r\n{\r\nunsigned int reg;\r\nreg = (readl(dsim->reg_base + EXYNOS_DSIM_MSYNC)) &\r\n~((DSIM_MAIN_VSA_MASK) | (DSIM_MAIN_HSA_MASK));\r\nreg |= (DSIM_MAIN_VSA_SHIFT(vert & 0x3ff) |\r\nDSIM_MAIN_HSA_SHIFT(hori));\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_MSYNC);\r\n}\r\nvoid exynos_mipi_dsi_set_sub_disp_resol(struct mipi_dsim_device *dsim,\r\nunsigned int vert, unsigned int hori)\r\n{\r\nunsigned int reg;\r\nreg = (readl(dsim->reg_base + EXYNOS_DSIM_SDRESOL)) &\r\n~(DSIM_SUB_STANDY_MASK);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_SDRESOL);\r\nreg &= ~(DSIM_SUB_VRESOL_MASK) | ~(DSIM_SUB_HRESOL_MASK);\r\nreg |= (DSIM_SUB_VRESOL_SHIFT(vert & 0x7ff) |\r\nDSIM_SUB_HRESOL_SHIFT(hori & 0x7ff));\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_SDRESOL);\r\nreg |= DSIM_SUB_STANDY_SHIFT(1);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_SDRESOL);\r\n}\r\nvoid exynos_mipi_dsi_init_config(struct mipi_dsim_device *dsim)\r\n{\r\nstruct mipi_dsim_config *dsim_config = dsim->dsim_config;\r\nunsigned int cfg = (readl(dsim->reg_base + EXYNOS_DSIM_CONFIG)) &\r\n~((1 << 28) | (0x1f << 20) | (0x3 << 5));\r\ncfg = ((DSIM_AUTO_FLUSH(dsim_config->auto_flush)) |\r\n(DSIM_EOT_DISABLE(dsim_config->eot_disable)) |\r\n(DSIM_AUTO_MODE_SHIFT(dsim_config->auto_vertical_cnt)) |\r\n(DSIM_HSE_MODE_SHIFT(dsim_config->hse)) |\r\n(DSIM_HFP_MODE_SHIFT(dsim_config->hfp)) |\r\n(DSIM_HBP_MODE_SHIFT(dsim_config->hbp)) |\r\n(DSIM_HSA_MODE_SHIFT(dsim_config->hsa)) |\r\n(DSIM_NUM_OF_DATALANE_SHIFT(dsim_config->e_no_data_lane)));\r\nwritel(cfg, dsim->reg_base + EXYNOS_DSIM_CONFIG);\r\n}\r\nvoid exynos_mipi_dsi_display_config(struct mipi_dsim_device *dsim,\r\nstruct mipi_dsim_config *dsim_config)\r\n{\r\nu32 reg = (readl(dsim->reg_base + EXYNOS_DSIM_CONFIG)) &\r\n~((0x3 << 26) | (1 << 25) | (0x3 << 18) | (0x7 << 12) |\r\n(0x3 << 16) | (0x7 << 8));\r\nif (dsim_config->e_interface == DSIM_VIDEO)\r\nreg |= (1 << 25);\r\nelse if (dsim_config->e_interface == DSIM_COMMAND)\r\nreg &= ~(1 << 25);\r\nelse {\r\ndev_err(dsim->dev, "unknown lcd type.\n");\r\nreturn;\r\n}\r\nreg |= ((u8) (dsim_config->e_burst_mode) & 0x3) << 26 |\r\n((u8) (dsim_config->e_virtual_ch) & 0x3) << 18 |\r\n((u8) (dsim_config->e_pixel_format) & 0x7) << 12;\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_CONFIG);\r\n}\r\nvoid exynos_mipi_dsi_enable_lane(struct mipi_dsim_device *dsim, unsigned int lane,\r\nunsigned int enable)\r\n{\r\nunsigned int reg;\r\nreg = readl(dsim->reg_base + EXYNOS_DSIM_CONFIG);\r\nif (enable)\r\nreg |= DSIM_LANE_ENx(lane);\r\nelse\r\nreg &= ~DSIM_LANE_ENx(lane);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_CONFIG);\r\n}\r\nvoid exynos_mipi_dsi_set_data_lane_number(struct mipi_dsim_device *dsim,\r\nunsigned int count)\r\n{\r\nunsigned int cfg;\r\ncfg = DSIM_NUM_OF_DATALANE_SHIFT(count);\r\nwritel(cfg, dsim->reg_base + EXYNOS_DSIM_CONFIG);\r\n}\r\nvoid exynos_mipi_dsi_enable_afc(struct mipi_dsim_device *dsim, unsigned int enable,\r\nunsigned int afc_code)\r\n{\r\nunsigned int reg = readl(dsim->reg_base + EXYNOS_DSIM_PHYACCHR);\r\nif (enable) {\r\nreg |= (1 << 14);\r\nreg &= ~(0x7 << 5);\r\nreg |= (afc_code & 0x7) << 5;\r\n} else\r\nreg &= ~(1 << 14);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_PHYACCHR);\r\n}\r\nvoid exynos_mipi_dsi_enable_pll_bypass(struct mipi_dsim_device *dsim,\r\nunsigned int enable)\r\n{\r\nunsigned int reg = (readl(dsim->reg_base + EXYNOS_DSIM_CLKCTRL)) &\r\n~(DSIM_PLL_BYPASS_SHIFT(0x1));\r\nreg |= DSIM_PLL_BYPASS_SHIFT(enable);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_CLKCTRL);\r\n}\r\nvoid exynos_mipi_dsi_set_pll_pms(struct mipi_dsim_device *dsim, unsigned int p,\r\nunsigned int m, unsigned int s)\r\n{\r\nunsigned int reg = readl(dsim->reg_base + EXYNOS_DSIM_PLLCTRL);\r\nreg |= ((p & 0x3f) << 13) | ((m & 0x1ff) << 4) | ((s & 0x7) << 1);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_PLLCTRL);\r\n}\r\nvoid exynos_mipi_dsi_pll_freq_band(struct mipi_dsim_device *dsim,\r\nunsigned int freq_band)\r\n{\r\nunsigned int reg = (readl(dsim->reg_base + EXYNOS_DSIM_PLLCTRL)) &\r\n~(DSIM_FREQ_BAND_SHIFT(0x1f));\r\nreg |= DSIM_FREQ_BAND_SHIFT(freq_band & 0x1f);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_PLLCTRL);\r\n}\r\nvoid exynos_mipi_dsi_pll_freq(struct mipi_dsim_device *dsim,\r\nunsigned int pre_divider, unsigned int main_divider,\r\nunsigned int scaler)\r\n{\r\nunsigned int reg = (readl(dsim->reg_base + EXYNOS_DSIM_PLLCTRL)) &\r\n~(0x7ffff << 1);\r\nreg |= (pre_divider & 0x3f) << 13 | (main_divider & 0x1ff) << 4 |\r\n(scaler & 0x7) << 1;\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_PLLCTRL);\r\n}\r\nvoid exynos_mipi_dsi_pll_stable_time(struct mipi_dsim_device *dsim,\r\nunsigned int lock_time)\r\n{\r\nwritel(lock_time, dsim->reg_base + EXYNOS_DSIM_PLLTMR);\r\n}\r\nvoid exynos_mipi_dsi_enable_pll(struct mipi_dsim_device *dsim, unsigned int enable)\r\n{\r\nunsigned int reg = (readl(dsim->reg_base + EXYNOS_DSIM_PLLCTRL)) &\r\n~(DSIM_PLL_EN_SHIFT(0x1));\r\nreg |= DSIM_PLL_EN_SHIFT(enable & 0x1);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_PLLCTRL);\r\n}\r\nvoid exynos_mipi_dsi_set_byte_clock_src(struct mipi_dsim_device *dsim,\r\nunsigned int src)\r\n{\r\nunsigned int reg = (readl(dsim->reg_base + EXYNOS_DSIM_CLKCTRL)) &\r\n~(DSIM_BYTE_CLK_SRC_SHIFT(0x3));\r\nreg |= (DSIM_BYTE_CLK_SRC_SHIFT(src));\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_CLKCTRL);\r\n}\r\nvoid exynos_mipi_dsi_enable_byte_clock(struct mipi_dsim_device *dsim,\r\nunsigned int enable)\r\n{\r\nunsigned int reg = (readl(dsim->reg_base + EXYNOS_DSIM_CLKCTRL)) &\r\n~(DSIM_BYTE_CLKEN_SHIFT(0x1));\r\nreg |= DSIM_BYTE_CLKEN_SHIFT(enable);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_CLKCTRL);\r\n}\r\nvoid exynos_mipi_dsi_set_esc_clk_prs(struct mipi_dsim_device *dsim,\r\nunsigned int enable, unsigned int prs_val)\r\n{\r\nunsigned int reg = (readl(dsim->reg_base + EXYNOS_DSIM_CLKCTRL)) &\r\n~(DSIM_ESC_CLKEN_SHIFT(0x1) | 0xffff);\r\nreg |= DSIM_ESC_CLKEN_SHIFT(enable);\r\nif (enable)\r\nreg |= prs_val;\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_CLKCTRL);\r\n}\r\nvoid exynos_mipi_dsi_enable_esc_clk_on_lane(struct mipi_dsim_device *dsim,\r\nunsigned int lane_sel, unsigned int enable)\r\n{\r\nunsigned int reg = readl(dsim->reg_base + EXYNOS_DSIM_CLKCTRL);\r\nif (enable)\r\nreg |= DSIM_LANE_ESC_CLKEN(lane_sel);\r\nelse\r\nreg &= ~DSIM_LANE_ESC_CLKEN(lane_sel);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_CLKCTRL);\r\n}\r\nvoid exynos_mipi_dsi_force_dphy_stop_state(struct mipi_dsim_device *dsim,\r\nunsigned int enable)\r\n{\r\nunsigned int reg = (readl(dsim->reg_base + EXYNOS_DSIM_ESCMODE)) &\r\n~(DSIM_FORCE_STOP_STATE_SHIFT(0x1));\r\nreg |= (DSIM_FORCE_STOP_STATE_SHIFT(enable & 0x1));\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_ESCMODE);\r\n}\r\nunsigned int exynos_mipi_dsi_is_lane_state(struct mipi_dsim_device *dsim)\r\n{\r\nunsigned int reg = readl(dsim->reg_base + EXYNOS_DSIM_STATUS);\r\nif ((reg & DSIM_STOP_STATE_DAT(0xf)) &&\r\n((reg & DSIM_STOP_STATE_CLK) ||\r\n(reg & DSIM_TX_READY_HS_CLK)))\r\nreturn 1;\r\nreturn 0;\r\n}\r\nvoid exynos_mipi_dsi_set_stop_state_counter(struct mipi_dsim_device *dsim,\r\nunsigned int cnt_val)\r\n{\r\nunsigned int reg = (readl(dsim->reg_base + EXYNOS_DSIM_ESCMODE)) &\r\n~(DSIM_STOP_STATE_CNT_SHIFT(0x7ff));\r\nreg |= (DSIM_STOP_STATE_CNT_SHIFT(cnt_val & 0x7ff));\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_ESCMODE);\r\n}\r\nvoid exynos_mipi_dsi_set_bta_timeout(struct mipi_dsim_device *dsim,\r\nunsigned int timeout)\r\n{\r\nunsigned int reg = (readl(dsim->reg_base + EXYNOS_DSIM_TIMEOUT)) &\r\n~(DSIM_BTA_TOUT_SHIFT(0xff));\r\nreg |= (DSIM_BTA_TOUT_SHIFT(timeout));\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_TIMEOUT);\r\n}\r\nvoid exynos_mipi_dsi_set_lpdr_timeout(struct mipi_dsim_device *dsim,\r\nunsigned int timeout)\r\n{\r\nunsigned int reg = (readl(dsim->reg_base + EXYNOS_DSIM_TIMEOUT)) &\r\n~(DSIM_LPDR_TOUT_SHIFT(0xffff));\r\nreg |= (DSIM_LPDR_TOUT_SHIFT(timeout));\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_TIMEOUT);\r\n}\r\nvoid exynos_mipi_dsi_set_cpu_transfer_mode(struct mipi_dsim_device *dsim,\r\nunsigned int lp)\r\n{\r\nunsigned int reg = readl(dsim->reg_base + EXYNOS_DSIM_ESCMODE);\r\nreg &= ~DSIM_CMD_LPDT_LP;\r\nif (lp)\r\nreg |= DSIM_CMD_LPDT_LP;\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_ESCMODE);\r\n}\r\nvoid exynos_mipi_dsi_set_lcdc_transfer_mode(struct mipi_dsim_device *dsim,\r\nunsigned int lp)\r\n{\r\nunsigned int reg = readl(dsim->reg_base + EXYNOS_DSIM_ESCMODE);\r\nreg &= ~DSIM_TX_LPDT_LP;\r\nif (lp)\r\nreg |= DSIM_TX_LPDT_LP;\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_ESCMODE);\r\n}\r\nvoid exynos_mipi_dsi_enable_hs_clock(struct mipi_dsim_device *dsim,\r\nunsigned int enable)\r\n{\r\nunsigned int reg = (readl(dsim->reg_base + EXYNOS_DSIM_CLKCTRL)) &\r\n~(DSIM_TX_REQUEST_HSCLK_SHIFT(0x1));\r\nreg |= DSIM_TX_REQUEST_HSCLK_SHIFT(enable);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_CLKCTRL);\r\n}\r\nvoid exynos_mipi_dsi_dp_dn_swap(struct mipi_dsim_device *dsim,\r\nunsigned int swap_en)\r\n{\r\nunsigned int reg = readl(dsim->reg_base + EXYNOS_DSIM_PHYACCHR1);\r\nreg &= ~(0x3 << 0);\r\nreg |= (swap_en & 0x3) << 0;\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_PHYACCHR1);\r\n}\r\nvoid exynos_mipi_dsi_hs_zero_ctrl(struct mipi_dsim_device *dsim,\r\nunsigned int hs_zero)\r\n{\r\nunsigned int reg = (readl(dsim->reg_base + EXYNOS_DSIM_PLLCTRL)) &\r\n~(0xf << 28);\r\nreg |= ((hs_zero & 0xf) << 28);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_PLLCTRL);\r\n}\r\nvoid exynos_mipi_dsi_prep_ctrl(struct mipi_dsim_device *dsim, unsigned int prep)\r\n{\r\nunsigned int reg = (readl(dsim->reg_base + EXYNOS_DSIM_PLLCTRL)) &\r\n~(0x7 << 20);\r\nreg |= ((prep & 0x7) << 20);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_PLLCTRL);\r\n}\r\nunsigned int exynos_mipi_dsi_read_interrupt(struct mipi_dsim_device *dsim)\r\n{\r\nreturn readl(dsim->reg_base + EXYNOS_DSIM_INTSRC);\r\n}\r\nvoid exynos_mipi_dsi_clear_interrupt(struct mipi_dsim_device *dsim,\r\nunsigned int src)\r\n{\r\nunsigned int reg = readl(dsim->reg_base + EXYNOS_DSIM_INTSRC);\r\nreg |= src;\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_INTSRC);\r\n}\r\nvoid exynos_mipi_dsi_set_interrupt(struct mipi_dsim_device *dsim,\r\nunsigned int src, unsigned int enable)\r\n{\r\nunsigned int reg = 0;\r\nif (enable)\r\nreg |= src;\r\nelse\r\nreg &= ~src;\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_INTSRC);\r\n}\r\nunsigned int exynos_mipi_dsi_is_pll_stable(struct mipi_dsim_device *dsim)\r\n{\r\nunsigned int reg;\r\nreg = readl(dsim->reg_base + EXYNOS_DSIM_STATUS);\r\nreturn reg & (1 << 31) ? 1 : 0;\r\n}\r\nunsigned int exynos_mipi_dsi_get_fifo_state(struct mipi_dsim_device *dsim)\r\n{\r\nreturn readl(dsim->reg_base + EXYNOS_DSIM_FIFOCTRL) & ~(0x1f);\r\n}\r\nvoid exynos_mipi_dsi_wr_tx_header(struct mipi_dsim_device *dsim,\r\nunsigned int di, unsigned int data0, unsigned int data1)\r\n{\r\nunsigned int reg = (data1 << 16) | (data0 << 8) | ((di & 0x3f) << 0);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_PKTHDR);\r\n}\r\nvoid exynos_mipi_dsi_rd_tx_header(struct mipi_dsim_device *dsim,\r\nunsigned int di, unsigned int data0)\r\n{\r\nunsigned int reg = (data0 << 8) | (di << 0);\r\nwritel(reg, dsim->reg_base + EXYNOS_DSIM_PKTHDR);\r\n}\r\nunsigned int exynos_mipi_dsi_rd_rx_fifo(struct mipi_dsim_device *dsim)\r\n{\r\nreturn readl(dsim->reg_base + EXYNOS_DSIM_RXFIFO);\r\n}\r\nunsigned int _exynos_mipi_dsi_get_frame_done_status(struct mipi_dsim_device *dsim)\r\n{\r\nunsigned int reg = readl(dsim->reg_base + EXYNOS_DSIM_INTSRC);\r\nreturn (reg & INTSRC_FRAME_DONE) ? 1 : 0;\r\n}\r\nvoid _exynos_mipi_dsi_clear_frame_done(struct mipi_dsim_device *dsim)\r\n{\r\nunsigned int reg = readl(dsim->reg_base + EXYNOS_DSIM_INTSRC);\r\nwritel(reg | INTSRC_FRAME_DONE, dsim->reg_base +\r\nEXYNOS_DSIM_INTSRC);\r\n}\r\nvoid exynos_mipi_dsi_wr_tx_data(struct mipi_dsim_device *dsim,\r\nunsigned int tx_data)\r\n{\r\nwritel(tx_data, dsim->reg_base + EXYNOS_DSIM_PAYLOAD);\r\n}
