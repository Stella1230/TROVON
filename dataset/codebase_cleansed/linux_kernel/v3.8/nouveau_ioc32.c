long nouveau_compat_ioctl(struct file *filp, unsigned int cmd,\r\nunsigned long arg)\r\n{\r\nunsigned int nr = DRM_IOCTL_NR(cmd);\r\ndrm_ioctl_compat_t *fn = NULL;\r\nint ret;\r\nif (nr < DRM_COMMAND_BASE)\r\nreturn drm_compat_ioctl(filp, cmd, arg);\r\n#if 0\r\nif (nr < DRM_COMMAND_BASE + DRM_ARRAY_SIZE(mga_compat_ioctls))\r\nfn = nouveau_compat_ioctls[nr - DRM_COMMAND_BASE];\r\n#endif\r\nif (fn != NULL)\r\nret = (*fn)(filp, cmd, arg);\r\nelse\r\nret = drm_ioctl(filp, cmd, arg);\r\nreturn ret;\r\n}
