static void sead3_pled_set(struct led_classdev *led_cdev,\r\nenum led_brightness value)\r\n{\r\npr_debug("sead3_pled_set\n");\r\nwritel(value, (void __iomem *)0xBF000210);\r\n}\r\nstatic void sead3_fled_set(struct led_classdev *led_cdev,\r\nenum led_brightness value)\r\n{\r\npr_debug("sead3_fled_set\n");\r\nwritel(value, (void __iomem *)0xBF000218);\r\n}\r\nstatic int sead3_led_suspend(struct platform_device *dev,\r\npm_message_t state)\r\n{\r\nled_classdev_suspend(&sead3_pled);\r\nled_classdev_suspend(&sead3_fled);\r\nreturn 0;\r\n}\r\nstatic int sead3_led_resume(struct platform_device *dev)\r\n{\r\nled_classdev_resume(&sead3_pled);\r\nled_classdev_resume(&sead3_fled);\r\nreturn 0;\r\n}\r\nstatic int sead3_led_probe(struct platform_device *pdev)\r\n{\r\nint ret;\r\nret = led_classdev_register(&pdev->dev, &sead3_pled);\r\nif (ret < 0)\r\nreturn ret;\r\nret = led_classdev_register(&pdev->dev, &sead3_fled);\r\nif (ret < 0)\r\nled_classdev_unregister(&sead3_pled);\r\nreturn ret;\r\n}\r\nstatic int sead3_led_remove(struct platform_device *pdev)\r\n{\r\nled_classdev_unregister(&sead3_pled);\r\nled_classdev_unregister(&sead3_fled);\r\nreturn 0;\r\n}\r\nstatic int __init sead3_led_init(void)\r\n{\r\nint ret;\r\nret = platform_driver_register(&sead3_led_driver);\r\nif (ret < 0)\r\ngoto out;\r\npdev = platform_device_register_simple(DRVNAME, -1, NULL, 0);\r\nif (IS_ERR(pdev)) {\r\nret = PTR_ERR(pdev);\r\nplatform_driver_unregister(&sead3_led_driver);\r\ngoto out;\r\n}\r\nout:\r\nreturn ret;\r\n}\r\nstatic void __exit sead3_led_exit(void)\r\n{\r\nplatform_device_unregister(pdev);\r\nplatform_driver_unregister(&sead3_led_driver);\r\n}
