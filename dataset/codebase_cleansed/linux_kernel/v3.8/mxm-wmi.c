int mxm_wmi_call_mxds(int adapter)\r\n{\r\nstruct mxds_args args = {\r\n.func = MXM_WMMX_FUNC_MXDS,\r\n.args = 0,\r\n.xarg = 1,\r\n};\r\nstruct acpi_buffer input = { (acpi_size)sizeof(args), &args };\r\nstruct acpi_buffer output = { ACPI_ALLOCATE_BUFFER, NULL };\r\nacpi_status status;\r\nprintk("calling mux switch %d\n", adapter);\r\nstatus = wmi_evaluate_method(MXM_WMMX_GUID, 0x1, adapter, &input,\r\n&output);\r\nif (ACPI_FAILURE(status))\r\nreturn status;\r\nprintk("mux switched %d\n", status);\r\nreturn 0;\r\n}\r\nint mxm_wmi_call_mxmx(int adapter)\r\n{\r\nstruct mxds_args args = {\r\n.func = MXM_WMMX_FUNC_MXMX,\r\n.args = 0,\r\n.xarg = 1,\r\n};\r\nstruct acpi_buffer input = { (acpi_size)sizeof(args), &args };\r\nstruct acpi_buffer output = { ACPI_ALLOCATE_BUFFER, NULL };\r\nacpi_status status;\r\nprintk("calling mux switch %d\n", adapter);\r\nstatus = wmi_evaluate_method(MXM_WMMX_GUID, 0x1, adapter, &input,\r\n&output);\r\nif (ACPI_FAILURE(status))\r\nreturn status;\r\nprintk("mux mutex set switched %d\n", status);\r\nreturn 0;\r\n}\r\nbool mxm_wmi_supported(void)\r\n{\r\nbool guid_valid;\r\nguid_valid = wmi_has_guid(MXM_WMMX_GUID);\r\nreturn guid_valid;\r\n}\r\nstatic int __init mxm_wmi_init(void)\r\n{\r\nreturn 0;\r\n}\r\nstatic void __exit mxm_wmi_exit(void)\r\n{\r\n}
