const struct x86_cpu_id *x86_match_cpu(const struct x86_cpu_id *match)\r\n{\r\nconst struct x86_cpu_id *m;\r\nstruct cpuinfo_x86 *c = &boot_cpu_data;\r\nfor (m = match; m->vendor | m->family | m->model | m->feature; m++) {\r\nif (m->vendor != X86_VENDOR_ANY && c->x86_vendor != m->vendor)\r\ncontinue;\r\nif (m->family != X86_FAMILY_ANY && c->x86 != m->family)\r\ncontinue;\r\nif (m->model != X86_MODEL_ANY && c->x86_model != m->model)\r\ncontinue;\r\nif (m->feature != X86_FEATURE_ANY && !cpu_has(c, m->feature))\r\ncontinue;\r\nreturn m;\r\n}\r\nreturn NULL;\r\n}
