void pvr2_msp3400_subdev_update(struct pvr2_hdw *hdw, struct v4l2_subdev *sd)\r\n{\r\nif (hdw->input_dirty || hdw->force_dirty) {\r\nconst struct routing_scheme *sp;\r\nunsigned int sid = hdw->hdw_desc->signal_routing_scheme;\r\nu32 input;\r\npvr2_trace(PVR2_TRACE_CHIPS, "subdev msp3400 v4l2 set_stereo");\r\nsp = (sid < ARRAY_SIZE(routing_schemes)) ?\r\nrouting_schemes[sid] : NULL;\r\nif ((sp != NULL) &&\r\n(hdw->input_val >= 0) &&\r\n(hdw->input_val < sp->cnt)) {\r\ninput = sp->def[hdw->input_val];\r\n} else {\r\npvr2_trace(PVR2_TRACE_ERROR_LEGS,\r\n"*** WARNING *** subdev msp3400 set_input:"\r\n" Invalid routing scheme (%u)"\r\n" and/or input (%d)",\r\nsid, hdw->input_val);\r\nreturn;\r\n}\r\nsd->ops->audio->s_routing(sd, input,\r\nMSP_OUTPUT(MSP_SC_IN_DSP_SCART1), 0);\r\n}\r\n}
