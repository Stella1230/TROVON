static void __init imx51_init_early(void)\r\n{\r\nmxc_set_cpu_type(MXC_CPU_MX51);\r\n}\r\nstatic void __init imx51_ipu_mipi_setup(void)\r\n{\r\nvoid __iomem *hsc_addr;\r\nhsc_addr = ioremap(MX51_MIPI_HSC_BASE, SZ_16K);\r\nWARN_ON(!hsc_addr);\r\n__raw_writel(0xf00, hsc_addr);\r\n__raw_writel(__raw_readl(hsc_addr + 0x800) | 0x30ff,\r\nhsc_addr + 0x800);\r\niounmap(hsc_addr);\r\n}\r\nstatic void __init imx51_dt_init(void)\r\n{\r\nstruct platform_device_info devinfo = { .name = "cpufreq-dt", };\r\nimx51_ipu_mipi_setup();\r\nimx_src_init();\r\nof_platform_populate(NULL, of_default_bus_match_table, NULL, NULL);\r\nplatform_device_register_full(&devinfo);\r\n}\r\nstatic void __init imx51_init_late(void)\r\n{\r\nmx51_neon_fixup();\r\nimx51_pm_init();\r\n}
