void r2057_upload_inittabs(struct b43_wldev *dev)\r\n{\r\nstruct b43_phy *phy = &dev->phy;\r\nu16 *table = NULL;\r\nu16 size, i;\r\nswitch (phy->rev) {\r\ncase 7:\r\ntable = r2057_rev4_init[0];\r\nsize = ARRAY_SIZE(r2057_rev4_init);\r\nbreak;\r\ncase 8:\r\nif (phy->radio_rev == 5) {\r\ntable = r2057_rev5_init[0];\r\nsize = ARRAY_SIZE(r2057_rev5_init);\r\n} else if (phy->radio_rev == 7) {\r\ntable = r2057_rev7_init[0];\r\nsize = ARRAY_SIZE(r2057_rev7_init);\r\n}\r\nbreak;\r\ncase 9:\r\nif (phy->radio_rev == 5) {\r\ntable = r2057_rev5a_init[0];\r\nsize = ARRAY_SIZE(r2057_rev5a_init);\r\n}\r\nbreak;\r\ncase 16:\r\nif (phy->radio_rev == 9) {\r\ntable = r2057_rev9_init[0];\r\nsize = ARRAY_SIZE(r2057_rev9_init);\r\n}\r\nbreak;\r\ncase 17:\r\nif (phy->radio_rev == 14) {\r\ntable = r2057_rev14_init[0];\r\nsize = ARRAY_SIZE(r2057_rev14_init);\r\n}\r\nbreak;\r\n}\r\nB43_WARN_ON(!table);\r\nif (table) {\r\nfor (i = 0; i < size; i++, table += 2)\r\nb43_radio_write(dev, table[0], table[1]);\r\n}\r\n}\r\nvoid r2057_get_chantabent_rev7(struct b43_wldev *dev, u16 freq,\r\nconst struct b43_nphy_chantabent_rev7 **tabent_r7,\r\nconst struct b43_nphy_chantabent_rev7_2g **tabent_r7_2g)\r\n{\r\nstruct b43_phy *phy = &dev->phy;\r\nconst struct b43_nphy_chantabent_rev7 *e_r7 = NULL;\r\nconst struct b43_nphy_chantabent_rev7_2g *e_r7_2g = NULL;\r\nunsigned int len, i;\r\n*tabent_r7 = NULL;\r\n*tabent_r7_2g = NULL;\r\nswitch (phy->rev) {\r\ncase 8:\r\nif (phy->radio_rev == 5) {\r\ne_r7_2g = b43_nphy_chantab_phy_rev8_radio_rev5;\r\nlen = ARRAY_SIZE(b43_nphy_chantab_phy_rev8_radio_rev5);\r\n}\r\nbreak;\r\ncase 16:\r\nif (phy->radio_rev == 9) {\r\ne_r7 = b43_nphy_chantab_phy_rev16_radio_rev9;\r\nlen = ARRAY_SIZE(b43_nphy_chantab_phy_rev16_radio_rev9);\r\n}\r\nbreak;\r\ncase 17:\r\nif (phy->radio_rev == 14) {\r\ne_r7_2g = b43_nphy_chantab_phy_rev17_radio_rev14;\r\nlen = ARRAY_SIZE(b43_nphy_chantab_phy_rev17_radio_rev14);\r\n}\r\nbreak;\r\ndefault:\r\nbreak;\r\n}\r\nif (e_r7) {\r\nfor (i = 0; i < len; i++, e_r7++) {\r\nif (e_r7->freq == freq) {\r\n*tabent_r7 = e_r7;\r\nreturn;\r\n}\r\n}\r\n} else if (e_r7_2g) {\r\nfor (i = 0; i < len; i++, e_r7_2g++) {\r\nif (e_r7_2g->freq == freq) {\r\n*tabent_r7_2g = e_r7_2g;\r\nreturn;\r\n}\r\n}\r\n} else {\r\nB43_WARN_ON(1);\r\n}\r\n}
