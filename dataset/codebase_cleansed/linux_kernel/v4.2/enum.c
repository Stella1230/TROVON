const struct nvkm_enum *\r\nnvkm_enum_find(const struct nvkm_enum *en, u32 value)\r\n{\r\nwhile (en->name) {\r\nif (en->value == value)\r\nreturn en;\r\nen++;\r\n}\r\nreturn NULL;\r\n}\r\nconst struct nvkm_enum *\r\nnvkm_enum_print(const struct nvkm_enum *en, u32 value)\r\n{\r\nen = nvkm_enum_find(en, value);\r\nif (en)\r\npr_cont("%s", en->name);\r\nelse\r\npr_cont("(unknown enum 0x%08x)", value);\r\nreturn en;\r\n}\r\nvoid\r\nnvkm_bitfield_print(const struct nvkm_bitfield *bf, u32 value)\r\n{\r\nwhile (bf->name) {\r\nif (value & bf->mask) {\r\npr_cont(" %s", bf->name);\r\nvalue &= ~bf->mask;\r\n}\r\nbf++;\r\n}\r\nif (value)\r\npr_cont(" (unknown bits 0x%08x)", value);\r\n}
