static void sead3_pled_set(struct led_classdev *led_cdev,\r\nenum led_brightness value)\r\n{\r\nwritel(value, (void __iomem *)SEAD3_CPLD_P_LED);\r\n}\r\nstatic void sead3_fled_set(struct led_classdev *led_cdev,\r\nenum led_brightness value)\r\n{\r\nwritel(value, (void __iomem *)SEAD3_CPLD_F_LED);\r\n}\r\nstatic int sead3_led_probe(struct platform_device *pdev)\r\n{\r\nint ret;\r\nret = led_classdev_register(&pdev->dev, &sead3_pled);\r\nif (ret < 0)\r\nreturn ret;\r\nret = led_classdev_register(&pdev->dev, &sead3_fled);\r\nif (ret < 0)\r\nled_classdev_unregister(&sead3_pled);\r\nreturn ret;\r\n}\r\nstatic int sead3_led_remove(struct platform_device *pdev)\r\n{\r\nled_classdev_unregister(&sead3_pled);\r\nled_classdev_unregister(&sead3_fled);\r\nreturn 0;\r\n}
