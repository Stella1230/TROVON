static void *llc_nop_init(struct nfc_hci_dev *hdev, xmit_to_drv_t xmit_to_drv,\r\nrcv_to_hci_t rcv_to_hci, int tx_headroom,\r\nint tx_tailroom, int *rx_headroom, int *rx_tailroom,\r\nllc_failure_t llc_failure)\r\n{\r\nstruct llc_nop *llc_nop;\r\n*rx_headroom = 0;\r\n*rx_tailroom = 0;\r\nllc_nop = kzalloc(sizeof(struct llc_nop), GFP_KERNEL);\r\nif (llc_nop == NULL)\r\nreturn NULL;\r\nllc_nop->hdev = hdev;\r\nllc_nop->xmit_to_drv = xmit_to_drv;\r\nllc_nop->rcv_to_hci = rcv_to_hci;\r\nllc_nop->tx_headroom = tx_headroom;\r\nllc_nop->tx_tailroom = tx_tailroom;\r\nllc_nop->llc_failure = llc_failure;\r\nreturn llc_nop;\r\n}\r\nstatic void llc_nop_deinit(struct nfc_llc *llc)\r\n{\r\nkfree(nfc_llc_get_data(llc));\r\n}\r\nstatic int llc_nop_start(struct nfc_llc *llc)\r\n{\r\nreturn 0;\r\n}\r\nstatic int llc_nop_stop(struct nfc_llc *llc)\r\n{\r\nreturn 0;\r\n}\r\nstatic void llc_nop_rcv_from_drv(struct nfc_llc *llc, struct sk_buff *skb)\r\n{\r\nstruct llc_nop *llc_nop = nfc_llc_get_data(llc);\r\nllc_nop->rcv_to_hci(llc_nop->hdev, skb);\r\n}\r\nstatic int llc_nop_xmit_from_hci(struct nfc_llc *llc, struct sk_buff *skb)\r\n{\r\nstruct llc_nop *llc_nop = nfc_llc_get_data(llc);\r\nreturn llc_nop->xmit_to_drv(llc_nop->hdev, skb);\r\n}\r\nint nfc_llc_nop_register(void)\r\n{\r\nreturn nfc_llc_register(LLC_NOP_NAME, &llc_nop_ops);\r\n}
