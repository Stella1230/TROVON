static int init_hw(struct echoaudio *chip, u16 device_id, u16 subdevice_id)\r\n{\r\nint err;\r\nif (snd_BUG_ON((subdevice_id & 0xfff0) != INDIGO_IOX))\r\nreturn -ENODEV;\r\nerr = init_dsp_comm_page(chip);\r\nif (err < 0) {\r\ndev_err(chip->card->dev,\r\n"init_hw - could not initialize DSP comm page\n");\r\nreturn err;\r\n}\r\nchip->device_id = device_id;\r\nchip->subdevice_id = subdevice_id;\r\nchip->bad_board = TRUE;\r\nchip->dsp_code_to_load = FW_INDIGO_IOX_DSP;\r\nchip->asic_loaded = TRUE;\r\nchip->input_clock_types = ECHO_CLOCK_BIT_INTERNAL;\r\nerr = load_firmware(chip);\r\nif (err < 0)\r\nreturn err;\r\nchip->bad_board = FALSE;\r\nreturn err;\r\n}\r\nstatic int set_mixer_defaults(struct echoaudio *chip)\r\n{\r\nreturn init_line_levels(chip);\r\n}
