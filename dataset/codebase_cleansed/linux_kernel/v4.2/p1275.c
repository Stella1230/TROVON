void p1275_cmd_direct(unsigned long *args)\r\n{\r\nunsigned long flags;\r\nlocal_save_flags(flags);\r\nlocal_irq_restore((unsigned long)PIL_NMI);\r\nraw_spin_lock(&prom_entry_lock);\r\nprom_world(1);\r\nprom_cif_direct(args);\r\nprom_world(0);\r\nraw_spin_unlock(&prom_entry_lock);\r\nlocal_irq_restore(flags);\r\n}\r\nvoid prom_cif_init(void *cif_handler, void *cif_stack)\r\n{\r\np1275buf.prom_cif_handler = (void (*)(long *))cif_handler;\r\n}
