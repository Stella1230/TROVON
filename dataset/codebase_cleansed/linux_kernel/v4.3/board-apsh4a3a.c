static int __init apsh4a3a_devices_setup(void)\r\n{\r\nregulator_register_fixed(0, dummy_supplies, ARRAY_SIZE(dummy_supplies));\r\nreturn platform_add_devices(apsh4a3a_devices,\r\nARRAY_SIZE(apsh4a3a_devices));\r\n}\r\nstatic int apsh4a3a_clk_init(void)\r\n{\r\nstruct clk *clk;\r\nint ret;\r\nclk = clk_get(NULL, "extal");\r\nif (IS_ERR(clk))\r\nreturn PTR_ERR(clk);\r\nret = clk_set_rate(clk, 33333000);\r\nclk_put(clk);\r\nreturn ret;\r\n}\r\nstatic void __init apsh4a3a_setup(char **cmdline_p)\r\n{\r\nprintk(KERN_INFO "Alpha Project AP-SH4A-3A support:\n");\r\n}\r\nstatic void __init apsh4a3a_init_irq(void)\r\n{\r\nplat_irq_setup_pins(IRQ_MODE_IRQ7654);\r\n}\r\nstatic int apsh4a3a_mode_pins(void)\r\n{\r\nint value = 0;\r\nvalue &= ~MODE_PIN0;\r\nvalue &= ~MODE_PIN1;\r\nvalue &= ~MODE_PIN2;\r\nvalue &= ~MODE_PIN3;\r\nvalue |= MODE_PIN4;\r\nvalue &= ~MODE_PIN5;\r\nvalue |= MODE_PIN6;\r\nvalue |= MODE_PIN7;\r\nvalue |= MODE_PIN8;\r\nvalue |= MODE_PIN9;\r\nvalue |= MODE_PIN10;\r\nvalue |= MODE_PIN11;\r\nvalue |= MODE_PIN12;\r\nvalue &= ~MODE_PIN13;\r\nvalue |= MODE_PIN14;\r\nreturn value;\r\n}
