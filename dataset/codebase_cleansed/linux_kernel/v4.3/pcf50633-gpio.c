int pcf50633_gpio_set(struct pcf50633 *pcf, int gpio, u8 val)\r\n{\r\nu8 reg;\r\nreg = gpio - PCF50633_GPIO1 + PCF50633_REG_GPIO1CFG;\r\nreturn pcf50633_reg_set_bit_mask(pcf, reg, 0x07, val);\r\n}\r\nu8 pcf50633_gpio_get(struct pcf50633 *pcf, int gpio)\r\n{\r\nu8 reg, val;\r\nreg = gpio - PCF50633_GPIO1 + PCF50633_REG_GPIO1CFG;\r\nval = pcf50633_reg_read(pcf, reg) & 0x07;\r\nreturn val;\r\n}\r\nint pcf50633_gpio_invert_set(struct pcf50633 *pcf, int gpio, int invert)\r\n{\r\nu8 val, reg;\r\nreg = gpio - PCF50633_GPIO1 + PCF50633_REG_GPIO1CFG;\r\nval = !!invert << 3;\r\nreturn pcf50633_reg_set_bit_mask(pcf, reg, 1 << 3, val);\r\n}\r\nint pcf50633_gpio_invert_get(struct pcf50633 *pcf, int gpio)\r\n{\r\nu8 reg, val;\r\nreg = gpio - PCF50633_GPIO1 + PCF50633_REG_GPIO1CFG;\r\nval = pcf50633_reg_read(pcf, reg);\r\nreturn val & (1 << 3);\r\n}\r\nint pcf50633_gpio_power_supply_set(struct pcf50633 *pcf,\r\nint gpio, int regulator, int on)\r\n{\r\nu8 reg, val, mask;\r\nreg = pcf50633_regulator_registers[regulator] + 1;\r\nval = !!on << (gpio - PCF50633_GPIO1);\r\nmask = 1 << (gpio - PCF50633_GPIO1);\r\nreturn pcf50633_reg_set_bit_mask(pcf, reg, mask, val);\r\n}
