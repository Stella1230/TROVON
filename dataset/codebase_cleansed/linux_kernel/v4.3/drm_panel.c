void drm_panel_init(struct drm_panel *panel)\r\n{\r\nINIT_LIST_HEAD(&panel->list);\r\n}\r\nint drm_panel_add(struct drm_panel *panel)\r\n{\r\nmutex_lock(&panel_lock);\r\nlist_add_tail(&panel->list, &panel_list);\r\nmutex_unlock(&panel_lock);\r\nreturn 0;\r\n}\r\nvoid drm_panel_remove(struct drm_panel *panel)\r\n{\r\nmutex_lock(&panel_lock);\r\nlist_del_init(&panel->list);\r\nmutex_unlock(&panel_lock);\r\n}\r\nint drm_panel_attach(struct drm_panel *panel, struct drm_connector *connector)\r\n{\r\nif (panel->connector)\r\nreturn -EBUSY;\r\npanel->connector = connector;\r\npanel->drm = connector->dev;\r\nreturn 0;\r\n}\r\nint drm_panel_detach(struct drm_panel *panel)\r\n{\r\npanel->connector = NULL;\r\npanel->drm = NULL;\r\nreturn 0;\r\n}\r\nstruct drm_panel *of_drm_find_panel(struct device_node *np)\r\n{\r\nstruct drm_panel *panel;\r\nmutex_lock(&panel_lock);\r\nlist_for_each_entry(panel, &panel_list, list) {\r\nif (panel->dev->of_node == np) {\r\nmutex_unlock(&panel_lock);\r\nreturn panel;\r\n}\r\n}\r\nmutex_unlock(&panel_lock);\r\nreturn NULL;\r\n}
