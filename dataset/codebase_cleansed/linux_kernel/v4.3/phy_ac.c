static int b43_phy_ac_op_allocate(struct b43_wldev *dev)\r\n{\r\nstruct b43_phy_ac *phy_ac;\r\nphy_ac = kzalloc(sizeof(*phy_ac), GFP_KERNEL);\r\nif (!phy_ac)\r\nreturn -ENOMEM;\r\ndev->phy.ac = phy_ac;\r\nreturn 0;\r\n}\r\nstatic void b43_phy_ac_op_free(struct b43_wldev *dev)\r\n{\r\nstruct b43_phy *phy = &dev->phy;\r\nstruct b43_phy_ac *phy_ac = phy->ac;\r\nkfree(phy_ac);\r\nphy->ac = NULL;\r\n}\r\nstatic void b43_phy_ac_op_maskset(struct b43_wldev *dev, u16 reg, u16 mask,\r\nu16 set)\r\n{\r\nb43_write16f(dev, B43_MMIO_PHY_CONTROL, reg);\r\nb43_write16(dev, B43_MMIO_PHY_DATA,\r\n(b43_read16(dev, B43_MMIO_PHY_DATA) & mask) | set);\r\n}\r\nstatic u16 b43_phy_ac_op_radio_read(struct b43_wldev *dev, u16 reg)\r\n{\r\nb43_write16f(dev, B43_MMIO_RADIO24_CONTROL, reg);\r\nreturn b43_read16(dev, B43_MMIO_RADIO24_DATA);\r\n}\r\nstatic void b43_phy_ac_op_radio_write(struct b43_wldev *dev, u16 reg,\r\nu16 value)\r\n{\r\nb43_write16f(dev, B43_MMIO_RADIO24_CONTROL, reg);\r\nb43_write16(dev, B43_MMIO_RADIO24_DATA, value);\r\n}\r\nstatic unsigned int b43_phy_ac_op_get_default_chan(struct b43_wldev *dev)\r\n{\r\nif (b43_current_band(dev->wl) == IEEE80211_BAND_2GHZ)\r\nreturn 11;\r\nreturn 36;\r\n}\r\nstatic enum b43_txpwr_result\r\nb43_phy_ac_op_recalc_txpower(struct b43_wldev *dev, bool ignore_tssi)\r\n{\r\nreturn B43_TXPWR_RES_DONE;\r\n}\r\nstatic void b43_phy_ac_op_adjust_txpower(struct b43_wldev *dev)\r\n{\r\n}
