union ieee754dp ieee754dp_neg(union ieee754dp x)\r\n{\r\nunsigned int oldrm;\r\nunion ieee754dp y;\r\noldrm = ieee754_csr.rm;\r\nieee754_csr.rm = FPU_CSR_RD;\r\ny = ieee754dp_sub(ieee754dp_zero(0), x);\r\nieee754_csr.rm = oldrm;\r\nreturn y;\r\n}\r\nunion ieee754dp ieee754dp_abs(union ieee754dp x)\r\n{\r\nunsigned int oldrm;\r\nunion ieee754dp y;\r\noldrm = ieee754_csr.rm;\r\nieee754_csr.rm = FPU_CSR_RD;\r\nif (DPSIGN(x))\r\ny = ieee754dp_sub(ieee754dp_zero(0), x);\r\nelse\r\ny = ieee754dp_add(ieee754dp_zero(0), x);\r\nieee754_csr.rm = oldrm;\r\nreturn y;\r\n}
