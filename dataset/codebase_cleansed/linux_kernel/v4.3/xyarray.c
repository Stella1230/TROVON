struct xyarray *xyarray__new(int xlen, int ylen, size_t entry_size)\r\n{\r\nsize_t row_size = ylen * entry_size;\r\nstruct xyarray *xy = zalloc(sizeof(*xy) + xlen * row_size);\r\nif (xy != NULL) {\r\nxy->entry_size = entry_size;\r\nxy->row_size = row_size;\r\nxy->entries = xlen * ylen;\r\n}\r\nreturn xy;\r\n}\r\nvoid xyarray__reset(struct xyarray *xy)\r\n{\r\nsize_t n = xy->entries * xy->entry_size;\r\nmemset(xy->contents, 0, n);\r\n}\r\nvoid xyarray__delete(struct xyarray *xy)\r\n{\r\nfree(xy);\r\n}
