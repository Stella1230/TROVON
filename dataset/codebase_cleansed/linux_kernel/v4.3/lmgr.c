static void\r\nerror_handling_dchan(struct PStack *st, int Error)\r\n{\r\nswitch (Error) {\r\ncase 'C':\r\ncase 'D':\r\ncase 'G':\r\ncase 'H':\r\nst->l2.l2tei(st, MDL_ERROR | REQUEST, NULL);\r\nbreak;\r\n}\r\n}\r\nstatic void\r\nhisax_manager(struct PStack *st, int pr, void *arg)\r\n{\r\nlong Code;\r\nswitch (pr) {\r\ncase (MDL_ERROR | INDICATION):\r\nCode = (long) arg;\r\nHiSax_putstatus(st->l1.hardware, "manager: MDL_ERROR",\r\n" %c %s", (char)Code,\r\ntest_bit(FLG_LAPD, &st->l2.flag) ?\r\n"D-channel" : "B-channel");\r\nif (test_bit(FLG_LAPD, &st->l2.flag))\r\nerror_handling_dchan(st, Code);\r\nbreak;\r\n}\r\n}\r\nvoid\r\nsetstack_manager(struct PStack *st)\r\n{\r\nst->ma.layer = hisax_manager;\r\n}
