static int sky81452_reg_probe(struct platform_device *pdev)\r\n{\r\nstruct device *dev = &pdev->dev;\r\nconst struct regulator_init_data *init_data = dev_get_platdata(dev);\r\nstruct regulator_config config = { };\r\nstruct regulator_dev *rdev;\r\nconfig.dev = dev->parent;\r\nconfig.init_data = init_data;\r\nconfig.of_node = dev->of_node;\r\nconfig.regmap = dev_get_drvdata(dev->parent);\r\nrdev = devm_regulator_register(dev, &sky81452_reg, &config);\r\nif (IS_ERR(rdev)) {\r\ndev_err(dev, "failed to register. err=%ld\n", PTR_ERR(rdev));\r\nreturn PTR_ERR(rdev);\r\n}\r\nplatform_set_drvdata(pdev, rdev);\r\nreturn 0;\r\n}
