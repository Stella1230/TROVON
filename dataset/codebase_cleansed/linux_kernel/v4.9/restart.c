void spear_restart(enum reboot_mode mode, const char *cmd)\r\n{\r\nif (mode == REBOOT_SOFT) {\r\nsoft_restart(0);\r\n} else {\r\n#ifdef CONFIG_ARCH_SPEAR13XX\r\nwritel_relaxed(0x01, SPEAR13XX_SYS_SW_RES);\r\n#endif\r\n#if defined(CONFIG_ARCH_SPEAR3XX) || defined(CONFIG_ARCH_SPEAR6XX)\r\nsysctl_soft_reset((void __iomem *)VA_SPEAR_SYS_CTRL_BASE);\r\n#endif\r\n}\r\n}
