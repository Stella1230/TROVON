void dump_txrpt_ccx_88e(void *buf)\r\n{\r\nstruct txrpt_ccx_88e *txrpt_ccx = buf;\r\nDBG_88E("%s:\n"\r\n"tag1:%u, pkt_num:%u, txdma_underflow:%u, int_bt:%u, int_tri:%u, int_ccx:%u\n"\r\n"mac_id:%u, pkt_ok:%u, bmc:%u\n"\r\n"retry_cnt:%u, lifetime_over:%u, retry_over:%u\n"\r\n"ccx_qtime:%u\n"\r\n"final_data_rate:0x%02x\n"\r\n"qsel:%u, sw:0x%03x\n",\r\n__func__, txrpt_ccx->tag1, txrpt_ccx->pkt_num,\r\ntxrpt_ccx->txdma_underflow, txrpt_ccx->int_bt,\r\ntxrpt_ccx->int_tri, txrpt_ccx->int_ccx,\r\ntxrpt_ccx->mac_id, txrpt_ccx->pkt_ok, txrpt_ccx->bmc,\r\ntxrpt_ccx->retry_cnt, txrpt_ccx->lifetime_over,\r\ntxrpt_ccx->retry_over, txrpt_ccx_qtime_88e(txrpt_ccx),\r\ntxrpt_ccx->final_data_rate, txrpt_ccx->qsel,\r\ntxrpt_ccx_sw_88e(txrpt_ccx)\r\n);\r\n}\r\nvoid handle_txrpt_ccx_88e(struct adapter *adapter, u8 *buf)\r\n{\r\nstruct txrpt_ccx_88e *txrpt_ccx = (struct txrpt_ccx_88e *)buf;\r\nif (txrpt_ccx->int_ccx) {\r\nif (txrpt_ccx->pkt_ok)\r\nrtw_ack_tx_done(&adapter->xmitpriv,\r\nRTW_SCTX_DONE_SUCCESS);\r\nelse\r\nrtw_ack_tx_done(&adapter->xmitpriv,\r\nRTW_SCTX_DONE_CCX_PKT_FAIL);\r\n}\r\n}\r\nvoid _dbg_dump_tx_info(struct adapter *padapter, int frame_tag,\r\nstruct tx_desc *ptxdesc)\r\n{\r\nu8 dmp_txpkt;\r\nbool dump_txdesc = false;\r\nrtw_hal_get_def_var(padapter, HAL_DEF_DBG_DUMP_TXPKT, &(dmp_txpkt));\r\nif (dmp_txpkt == 1) {\r\nDBG_88E("dump tx_desc for data frame\n");\r\nif ((frame_tag & 0x0f) == DATA_FRAMETAG)\r\ndump_txdesc = true;\r\n} else if (dmp_txpkt == 2) {\r\nDBG_88E("dump tx_desc for mgnt frame\n");\r\nif ((frame_tag & 0x0f) == MGNT_FRAMETAG)\r\ndump_txdesc = true;\r\n}\r\nif (dump_txdesc) {\r\nDBG_88E("=====================================\n");\r\nDBG_88E("txdw0(0x%08x)\n", ptxdesc->txdw0);\r\nDBG_88E("txdw1(0x%08x)\n", ptxdesc->txdw1);\r\nDBG_88E("txdw2(0x%08x)\n", ptxdesc->txdw2);\r\nDBG_88E("txdw3(0x%08x)\n", ptxdesc->txdw3);\r\nDBG_88E("txdw4(0x%08x)\n", ptxdesc->txdw4);\r\nDBG_88E("txdw5(0x%08x)\n", ptxdesc->txdw5);\r\nDBG_88E("txdw6(0x%08x)\n", ptxdesc->txdw6);\r\nDBG_88E("txdw7(0x%08x)\n", ptxdesc->txdw7);\r\nDBG_88E("=====================================\n");\r\n}\r\n}
