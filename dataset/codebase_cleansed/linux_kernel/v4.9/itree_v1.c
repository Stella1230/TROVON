static inline unsigned long block_to_cpu(block_t n)\r\n{\r\nreturn n;\r\n}\r\nstatic inline block_t cpu_to_block(unsigned long n)\r\n{\r\nreturn n;\r\n}\r\nstatic inline block_t *i_data(struct inode *inode)\r\n{\r\nreturn (block_t *)minix_i(inode)->u.i1_data;\r\n}\r\nstatic int block_to_path(struct inode * inode, long block, int offsets[DEPTH])\r\n{\r\nint n = 0;\r\nif (block < 0) {\r\nprintk("MINIX-fs: block_to_path: block %ld < 0 on dev %pg\n",\r\nblock, inode->i_sb->s_bdev);\r\n} else if (block >= (minix_sb(inode->i_sb)->s_max_size/BLOCK_SIZE)) {\r\nif (printk_ratelimit())\r\nprintk("MINIX-fs: block_to_path: "\r\n"block %ld too big on dev %pg\n",\r\nblock, inode->i_sb->s_bdev);\r\n} else if (block < 7) {\r\noffsets[n++] = block;\r\n} else if ((block -= 7) < 512) {\r\noffsets[n++] = 7;\r\noffsets[n++] = block;\r\n} else {\r\nblock -= 512;\r\noffsets[n++] = 8;\r\noffsets[n++] = block>>9;\r\noffsets[n++] = block & 511;\r\n}\r\nreturn n;\r\n}\r\nint V1_minix_get_block(struct inode * inode, long block,\r\nstruct buffer_head *bh_result, int create)\r\n{\r\nreturn get_block(inode, block, bh_result, create);\r\n}\r\nvoid V1_minix_truncate(struct inode * inode)\r\n{\r\ntruncate(inode);\r\n}\r\nunsigned V1_minix_blocks(loff_t size, struct super_block *sb)\r\n{\r\nreturn nblocks(size, sb);\r\n}
