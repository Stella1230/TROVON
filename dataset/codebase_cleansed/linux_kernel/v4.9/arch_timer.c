static unsigned long arch_timer_read_counter_long(void)\r\n{\r\nreturn arch_timer_read_counter();\r\n}\r\nstatic void __init arch_timer_delay_timer_register(void)\r\n{\r\narch_delay_timer.read_current_timer = arch_timer_read_counter_long;\r\narch_delay_timer.freq = arch_timer_get_rate();\r\nregister_current_timer_delay(&arch_delay_timer);\r\n}\r\nint __init arch_timer_arch_init(void)\r\n{\r\nu32 arch_timer_rate = arch_timer_get_rate();\r\nif (arch_timer_rate == 0)\r\nreturn -ENXIO;\r\narch_timer_delay_timer_register();\r\nreturn 0;\r\n}
