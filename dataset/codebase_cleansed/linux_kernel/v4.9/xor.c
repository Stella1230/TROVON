static void xor_xc_2(unsigned long bytes, unsigned long *p1, unsigned long *p2)\r\n{\r\nasm volatile(\r\n" larl 1,2f\n"\r\n" aghi %0,-1\n"\r\n" jm 3f\n"\r\n" srlg 0,%0,8\n"\r\n" ltgr 0,0\n"\r\n" jz 1f\n"\r\n"0: xc 0(256,%1),0(%2)\n"\r\n" la %1,256(%1)\n"\r\n" la %2,256(%2)\n"\r\n" brctg 0,0b\n"\r\n"1: ex %0,0(1)\n"\r\n" j 3f\n"\r\n"2: xc 0(1,%1),0(%2)\n"\r\n"3:\n"\r\n: : "d" (bytes), "a" (p1), "a" (p2)\r\n: "0", "1", "cc", "memory");\r\n}\r\nstatic void xor_xc_3(unsigned long bytes, unsigned long *p1, unsigned long *p2,\r\nunsigned long *p3)\r\n{\r\nasm volatile(\r\n" larl 1,2f\n"\r\n" aghi %0,-1\n"\r\n" jm 3f\n"\r\n" srlg 0,%0,8\n"\r\n" ltgr 0,0\n"\r\n" jz 1f\n"\r\n"0: xc 0(256,%1),0(%2)\n"\r\n" xc 0(256,%1),0(%3)\n"\r\n" la %1,256(%1)\n"\r\n" la %2,256(%2)\n"\r\n" la %3,256(%3)\n"\r\n" brctg 0,0b\n"\r\n"1: ex %0,0(1)\n"\r\n" ex %0,6(1)\n"\r\n" j 3f\n"\r\n"2: xc 0(1,%1),0(%2)\n"\r\n" xc 0(1,%1),0(%3)\n"\r\n"3:\n"\r\n: "+d" (bytes), "+a" (p1), "+a" (p2), "+a" (p3)\r\n: : "0", "1", "cc", "memory");\r\n}\r\nstatic void xor_xc_4(unsigned long bytes, unsigned long *p1, unsigned long *p2,\r\nunsigned long *p3, unsigned long *p4)\r\n{\r\nasm volatile(\r\n" larl 1,2f\n"\r\n" aghi %0,-1\n"\r\n" jm 3f\n"\r\n" srlg 0,%0,8\n"\r\n" ltgr 0,0\n"\r\n" jz 1f\n"\r\n"0: xc 0(256,%1),0(%2)\n"\r\n" xc 0(256,%1),0(%3)\n"\r\n" xc 0(256,%1),0(%4)\n"\r\n" la %1,256(%1)\n"\r\n" la %2,256(%2)\n"\r\n" la %3,256(%3)\n"\r\n" la %4,256(%4)\n"\r\n" brctg 0,0b\n"\r\n"1: ex %0,0(1)\n"\r\n" ex %0,6(1)\n"\r\n" ex %0,12(1)\n"\r\n" j 3f\n"\r\n"2: xc 0(1,%1),0(%2)\n"\r\n" xc 0(1,%1),0(%3)\n"\r\n" xc 0(1,%1),0(%4)\n"\r\n"3:\n"\r\n: "+d" (bytes), "+a" (p1), "+a" (p2), "+a" (p3), "+a" (p4)\r\n: : "0", "1", "cc", "memory");\r\n}\r\nstatic void xor_xc_5(unsigned long bytes, unsigned long *p1, unsigned long *p2,\r\nunsigned long *p3, unsigned long *p4, unsigned long *p5)\r\n{\r\nregister unsigned long *reg7 asm ("7") = p5;\r\nasm volatile(\r\n" larl 1,2f\n"\r\n" aghi %0,-1\n"\r\n" jm 3f\n"\r\n" srlg 0,%0,8\n"\r\n" ltgr 0,0\n"\r\n" jz 1f\n"\r\n"0: xc 0(256,%1),0(%2)\n"\r\n" xc 0(256,%1),0(%3)\n"\r\n" xc 0(256,%1),0(%4)\n"\r\n" xc 0(256,%1),0(%5)\n"\r\n" la %1,256(%1)\n"\r\n" la %2,256(%2)\n"\r\n" la %3,256(%3)\n"\r\n" la %4,256(%4)\n"\r\n" la %5,256(%5)\n"\r\n" brctg 0,0b\n"\r\n"1: ex %0,0(1)\n"\r\n" ex %0,6(1)\n"\r\n" ex %0,12(1)\n"\r\n" ex %0,18(1)\n"\r\n" j 3f\n"\r\n"2: xc 0(1,%1),0(%2)\n"\r\n" xc 0(1,%1),0(%3)\n"\r\n" xc 0(1,%1),0(%4)\n"\r\n" xc 0(1,%1),0(%5)\n"\r\n"3:\n"\r\n: "+d" (bytes), "+a" (p1), "+a" (p2), "+a" (p3), "+a" (p4),\r\n"+a" (reg7)\r\n: : "0", "1", "cc", "memory");\r\n}
