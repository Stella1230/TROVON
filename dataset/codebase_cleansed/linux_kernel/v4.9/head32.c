static void __init i386_default_early_setup(void)\r\n{\r\nx86_init.resources.reserve_resources = i386_reserve_resources;\r\nx86_init.mpparse.setup_ioapic_ids = setup_ioapic_ids_from_mpc;\r\n}\r\nasmlinkage __visible void __init i386_start_kernel(void)\r\n{\r\ncr4_init_shadow();\r\nsanitize_boot_params(&boot_params);\r\nx86_early_init_platform_quirks();\r\nswitch (boot_params.hdr.hardware_subarch) {\r\ncase X86_SUBARCH_INTEL_MID:\r\nx86_intel_mid_early_setup();\r\nbreak;\r\ncase X86_SUBARCH_CE4100:\r\nx86_ce4100_early_setup();\r\nbreak;\r\ndefault:\r\ni386_default_early_setup();\r\nbreak;\r\n}\r\nstart_kernel();\r\n}
