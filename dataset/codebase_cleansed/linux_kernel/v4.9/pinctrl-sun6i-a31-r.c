static int sun6i_a31_r_pinctrl_probe(struct platform_device *pdev)\r\n{\r\nstruct reset_control *rstc;\r\nint ret;\r\nrstc = devm_reset_control_get(&pdev->dev, NULL);\r\nif (IS_ERR(rstc)) {\r\ndev_err(&pdev->dev, "Reset controller missing\n");\r\nreturn PTR_ERR(rstc);\r\n}\r\nret = reset_control_deassert(rstc);\r\nif (ret)\r\nreturn ret;\r\nret = sunxi_pinctrl_init(pdev,\r\n&sun6i_a31_r_pinctrl_data);\r\nif (ret)\r\nreset_control_assert(rstc);\r\nreturn ret;\r\n}
