int llog_initiator_connect(struct llog_ctxt *ctxt)\r\n{\r\nstruct obd_import *new_imp;\r\nLASSERT(ctxt);\r\nnew_imp = ctxt->loc_obd->u.cli.cl_import;\r\nLASSERTF(!ctxt->loc_imp || ctxt->loc_imp == new_imp,\r\n"%p - %p\n", ctxt->loc_imp, new_imp);\r\nmutex_lock(&ctxt->loc_mutex);\r\nif (ctxt->loc_imp != new_imp) {\r\nif (ctxt->loc_imp)\r\nclass_import_put(ctxt->loc_imp);\r\nctxt->loc_imp = class_import_get(new_imp);\r\n}\r\nmutex_unlock(&ctxt->loc_mutex);\r\nreturn 0;\r\n}
