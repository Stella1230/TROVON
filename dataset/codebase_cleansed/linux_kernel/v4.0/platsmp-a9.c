static int __cpuinit mvebu_cortex_a9_boot_secondary(unsigned int cpu,\r\nstruct task_struct *idle)\r\n{\r\nint ret, hw_cpu;\r\npr_info("Booting CPU %d\n", cpu);\r\nhw_cpu = cpu_logical_map(cpu);\r\nif (of_machine_is_compatible("marvell,armada375"))\r\nmvebu_system_controller_set_cpu_boot_addr(mvebu_cortex_a9_secondary_startup);\r\nelse\r\nmvebu_pmsu_set_cpu_boot_addr(hw_cpu, mvebu_cortex_a9_secondary_startup);\r\nsmp_wmb();\r\narch_send_wakeup_ipi_mask(cpumask_of(cpu));\r\nret = mvebu_cpu_reset_deassert(hw_cpu);\r\nif (ret) {\r\npr_err("Could not start the secondary CPU: %d\n", ret);\r\nreturn ret;\r\n}\r\nreturn 0;\r\n}\r\nstatic void armada_38x_secondary_init(unsigned int cpu)\r\n{\r\nmvebu_v7_pmsu_idle_exit();\r\n}\r\nstatic void armada_38x_cpu_die(unsigned int cpu)\r\n{\r\narmada_38x_do_cpu_suspend(true);\r\n}\r\nstatic int armada_38x_cpu_kill(unsigned int cpu)\r\n{\r\nreturn 1;\r\n}
