static int __init ux500_l2x0_unlock(void)\r\n{\r\nint i;\r\nvoid __iomem *l2x0_base = __io_address(U8500_L2CC_BASE);\r\nfor (i = 0; i < 8; i++) {\r\nwritel_relaxed(0x0, l2x0_base + L2X0_LOCKDOWN_WAY_D_BASE +\r\ni * L2X0_LOCKDOWN_STRIDE);\r\nwritel_relaxed(0x0, l2x0_base + L2X0_LOCKDOWN_WAY_I_BASE +\r\ni * L2X0_LOCKDOWN_STRIDE);\r\n}\r\nreturn 0;\r\n}\r\nstatic void ux500_l2c310_write_sec(unsigned long val, unsigned reg)\r\n{\r\n}\r\nstatic int __init ux500_l2x0_init(void)\r\n{\r\nif (!((cpu_is_u8500_family() || cpu_is_ux540_family())))\r\nreturn -ENODEV;\r\nux500_l2x0_unlock();\r\nouter_cache.write_sec = ux500_l2c310_write_sec;\r\nl2x0_of_init(0, ~0);\r\nreturn 0;\r\n}
