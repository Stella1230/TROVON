static inline int get_compat_mq_attr(struct mq_attr *attr,\r\nconst struct compat_mq_attr __user *uattr)\r\n{\r\nif (!access_ok(VERIFY_READ, uattr, sizeof *uattr))\r\nreturn -EFAULT;\r\nreturn __get_user(attr->mq_flags, &uattr->mq_flags)\r\n| __get_user(attr->mq_maxmsg, &uattr->mq_maxmsg)\r\n| __get_user(attr->mq_msgsize, &uattr->mq_msgsize)\r\n| __get_user(attr->mq_curmsgs, &uattr->mq_curmsgs);\r\n}\r\nstatic inline int put_compat_mq_attr(const struct mq_attr *attr,\r\nstruct compat_mq_attr __user *uattr)\r\n{\r\nif (clear_user(uattr, sizeof *uattr))\r\nreturn -EFAULT;\r\nreturn __put_user(attr->mq_flags, &uattr->mq_flags)\r\n| __put_user(attr->mq_maxmsg, &uattr->mq_maxmsg)\r\n| __put_user(attr->mq_msgsize, &uattr->mq_msgsize)\r\n| __put_user(attr->mq_curmsgs, &uattr->mq_curmsgs);\r\n}
