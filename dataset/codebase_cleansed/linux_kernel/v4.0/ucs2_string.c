unsigned long\r\nucs2_strnlen(const ucs2_char_t *s, size_t maxlength)\r\n{\r\nunsigned long length = 0;\r\nwhile (*s++ != 0 && length < maxlength)\r\nlength++;\r\nreturn length;\r\n}\r\nunsigned long\r\nucs2_strlen(const ucs2_char_t *s)\r\n{\r\nreturn ucs2_strnlen(s, ~0UL);\r\n}\r\nunsigned long\r\nucs2_strsize(const ucs2_char_t *data, unsigned long maxlength)\r\n{\r\nreturn ucs2_strnlen(data, maxlength/sizeof(ucs2_char_t)) * sizeof(ucs2_char_t);\r\n}\r\nint\r\nucs2_strncmp(const ucs2_char_t *a, const ucs2_char_t *b, size_t len)\r\n{\r\nwhile (1) {\r\nif (len == 0)\r\nreturn 0;\r\nif (*a < *b)\r\nreturn -1;\r\nif (*a > *b)\r\nreturn 1;\r\nif (*a == 0)\r\nreturn 0;\r\na++;\r\nb++;\r\nlen--;\r\n}\r\n}
