char *strstr(const char *cs, const char *ct)\r\n{\r\nint d0, d1;\r\nregister char *__res;\r\n__asm__ __volatile__(\r\n"movl %6,%%edi\n\t"\r\n"repne\n\t"\r\n"scasb\n\t"\r\n"notl %%ecx\n\t"\r\n"decl %%ecx\n\t"\r\n"movl %%ecx,%%edx\n"\r\n"1:\tmovl %6,%%edi\n\t"\r\n"movl %%esi,%%eax\n\t"\r\n"movl %%edx,%%ecx\n\t"\r\n"repe\n\t"\r\n"cmpsb\n\t"\r\n"je 2f\n\t"\r\n"xchgl %%eax,%%esi\n\t"\r\n"incl %%esi\n\t"\r\n"cmpb $0,-1(%%eax)\n\t"\r\n"jne 1b\n\t"\r\n"xorl %%eax,%%eax\n\t"\r\n"2:"\r\n: "=a" (__res), "=&c" (d0), "=&S" (d1)\r\n: "0" (0), "1" (0xffffffff), "2" (cs), "g" (ct)\r\n: "dx", "di");\r\nreturn __res;\r\n}
