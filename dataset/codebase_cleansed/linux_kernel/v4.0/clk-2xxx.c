static int __init omap2xxx_dt_clk_init(int soc_type)\r\n{\r\nti_dt_clocks_register(omap2xxx_clks);\r\nif (soc_type == OMAP2_SOC_OMAP2420)\r\nti_dt_clocks_register(omap2420_clks);\r\nelse\r\nti_dt_clocks_register(omap2430_clks);\r\nomap2xxx_clkt_vps_init();\r\nomap2_clk_disable_autoidle_all();\r\nomap2_clk_enable_init_clocks(enable_init_clks,\r\nARRAY_SIZE(enable_init_clks));\r\npr_info("Clocking rate (Crystal/DPLL/MPU): %ld.%01ld/%ld/%ld MHz\n",\r\n(clk_get_rate(clk_get_sys(NULL, "sys_ck")) / 1000000),\r\n(clk_get_rate(clk_get_sys(NULL, "sys_ck")) / 100000) % 10,\r\n(clk_get_rate(clk_get_sys(NULL, "dpll_ck")) / 1000000),\r\n(clk_get_rate(clk_get_sys(NULL, "mpu_ck")) / 1000000));\r\nreturn 0;\r\n}\r\nint __init omap2420_dt_clk_init(void)\r\n{\r\nreturn omap2xxx_dt_clk_init(OMAP2_SOC_OMAP2420);\r\n}\r\nint __init omap2430_dt_clk_init(void)\r\n{\r\nreturn omap2xxx_dt_clk_init(OMAP2_SOC_OMAP2430);\r\n}
