unsigned long copy_from_user(void *to, const void __user *from, unsigned long n)\r\n{\r\nif (likely(access_ok(VERIFY_READ, from, n)))\r\nn = __copy_from_user(to, from, n);\r\nelse\r\nmemset(to, 0, n);\r\nreturn n;\r\n}\r\nunsigned long copy_to_user(void __user *to, const void *from, unsigned long n)\r\n{\r\nif (likely(access_ok(VERIFY_WRITE, to, n)))\r\nn = __copy_to_user(to, from, n);\r\nreturn n;\r\n}\r\nunsigned long copy_in_user(void __user *to, const void __user *from,\r\nunsigned long n)\r\n{\r\nmight_sleep();\r\nif (likely(access_ok(VERIFY_READ, from, n) &&\r\naccess_ok(VERIFY_WRITE, to, n)))\r\nn =__copy_tofrom_user(to, from, n);\r\nreturn n;\r\n}
