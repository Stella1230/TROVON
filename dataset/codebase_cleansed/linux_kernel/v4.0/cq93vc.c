static int cq93vc_mute(struct snd_soc_dai *dai, int mute)\r\n{\r\nstruct snd_soc_codec *codec = dai->codec;\r\nu8 reg;\r\nif (mute)\r\nreg = DAVINCI_VC_REG09_MUTE;\r\nelse\r\nreg = 0;\r\nsnd_soc_update_bits(codec, DAVINCI_VC_REG09, DAVINCI_VC_REG09_MUTE,\r\nreg);\r\nreturn 0;\r\n}\r\nstatic int cq93vc_set_dai_sysclk(struct snd_soc_dai *codec_dai,\r\nint clk_id, unsigned int freq, int dir)\r\n{\r\nswitch (freq) {\r\ncase 22579200:\r\ncase 27000000:\r\ncase 33868800:\r\nreturn 0;\r\n}\r\nreturn -EINVAL;\r\n}\r\nstatic int cq93vc_set_bias_level(struct snd_soc_codec *codec,\r\nenum snd_soc_bias_level level)\r\n{\r\nswitch (level) {\r\ncase SND_SOC_BIAS_ON:\r\nsnd_soc_write(codec, DAVINCI_VC_REG12,\r\nDAVINCI_VC_REG12_POWER_ALL_ON);\r\nbreak;\r\ncase SND_SOC_BIAS_PREPARE:\r\nbreak;\r\ncase SND_SOC_BIAS_STANDBY:\r\nsnd_soc_write(codec, DAVINCI_VC_REG12,\r\nDAVINCI_VC_REG12_POWER_ALL_OFF);\r\nbreak;\r\ncase SND_SOC_BIAS_OFF:\r\nsnd_soc_write(codec, DAVINCI_VC_REG12,\r\nDAVINCI_VC_REG12_POWER_ALL_OFF);\r\nbreak;\r\n}\r\ncodec->dapm.bias_level = level;\r\nreturn 0;\r\n}\r\nstatic struct regmap *cq93vc_get_regmap(struct device *dev)\r\n{\r\nstruct davinci_vc *davinci_vc = dev->platform_data;\r\nreturn davinci_vc->regmap;\r\n}\r\nstatic int cq93vc_platform_probe(struct platform_device *pdev)\r\n{\r\nreturn snd_soc_register_codec(&pdev->dev,\r\n&soc_codec_dev_cq93vc, &cq93vc_dai, 1);\r\n}\r\nstatic int cq93vc_platform_remove(struct platform_device *pdev)\r\n{\r\nsnd_soc_unregister_codec(&pdev->dev);\r\nreturn 0;\r\n}
