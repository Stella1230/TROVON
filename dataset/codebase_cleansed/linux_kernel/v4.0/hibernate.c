int pfn_is_nosave(unsigned long pfn)\r\n{\r\nunsigned long nosave_begin_pfn = PFN_DOWN((unsigned long)&__nosave_begin);\r\nunsigned long nosave_end_pfn = PFN_DOWN((unsigned long)&__nosave_end);\r\nreturn (pfn >= nosave_begin_pfn) && (pfn < nosave_end_pfn);\r\n}\r\nvoid save_processor_state(void)\r\n{\r\nsave_and_clear_fpu();\r\n}\r\nvoid restore_processor_state(void)\r\n{\r\nstruct mm_struct *mm = current->active_mm;\r\nload_secondary_context(mm);\r\ntsb_context_switch(mm);\r\n}
