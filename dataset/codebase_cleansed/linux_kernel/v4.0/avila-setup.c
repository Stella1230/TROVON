static void __init avila_init(void)\r\n{\r\nixp4xx_sys_init();\r\navila_flash_resource.start = IXP4XX_EXP_BUS_BASE(0);\r\navila_flash_resource.end =\r\nIXP4XX_EXP_BUS_BASE(0) + ixp4xx_exp_bus_size - 1;\r\nplatform_add_devices(avila_devices, ARRAY_SIZE(avila_devices));\r\navila_pata_resources[0].start = IXP4XX_EXP_BUS_BASE(1);\r\navila_pata_resources[0].end = IXP4XX_EXP_BUS_END(1);\r\navila_pata_resources[1].start = IXP4XX_EXP_BUS_BASE(2);\r\navila_pata_resources[1].end = IXP4XX_EXP_BUS_END(2);\r\navila_pata_data.cs0_cfg = IXP4XX_EXP_CS1;\r\navila_pata_data.cs1_cfg = IXP4XX_EXP_CS2;\r\nplatform_device_register(&avila_pata);\r\n}
