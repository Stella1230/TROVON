asmlinkage long _sys_clone(unsigned long clone_flags, unsigned long newsp,\r\nint __user *parent_tid, int __user *child_tid,\r\nstruct pt_regs *regs)\r\n{\r\nlong ret;\r\nif (!newsp)\r\nnewsp = regs->sp;\r\nret = do_fork(clone_flags, newsp, regs, 0, parent_tid, child_tid);\r\nreturn ret;\r\n}\r\nasmlinkage int _sys_fork(struct pt_regs *regs)\r\n{\r\n#ifdef CONFIG_MMU\r\nreturn do_fork(SIGCHLD, regs->sp, regs, 0, NULL, NULL);\r\n#else\r\nreturn -EINVAL;\r\n#endif\r\n}
