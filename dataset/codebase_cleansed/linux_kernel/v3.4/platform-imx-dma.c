struct platform_device __init __maybe_unused *imx_add_imx_dma(void)\r\n{\r\nreturn platform_device_register_resndata(&mxc_ahb_bus,\r\n"imx-dma", -1, NULL, 0, NULL, 0);\r\n}\r\nstruct platform_device __init __maybe_unused *imx_add_imx_sdma(char *name,\r\nresource_size_t iobase, int irq, struct sdma_platform_data *pdata)\r\n{\r\nstruct resource res[] = {\r\n{\r\n.start = iobase,\r\n.end = iobase + SZ_16K - 1,\r\n.flags = IORESOURCE_MEM,\r\n}, {\r\n.start = irq,\r\n.end = irq,\r\n.flags = IORESOURCE_IRQ,\r\n},\r\n};\r\nreturn platform_device_register_resndata(&mxc_ahb_bus, name,\r\n-1, res, ARRAY_SIZE(res), pdata, sizeof(*pdata));\r\n}
