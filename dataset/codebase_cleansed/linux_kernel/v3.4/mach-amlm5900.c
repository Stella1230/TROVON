static void __init amlm5900_map_io(void)\r\n{\r\ns3c24xx_init_io(amlm5900_iodesc, ARRAY_SIZE(amlm5900_iodesc));\r\ns3c24xx_init_clocks(0);\r\ns3c24xx_init_uarts(amlm5900_uartcfgs, ARRAY_SIZE(amlm5900_uartcfgs));\r\n}\r\nstatic irqreturn_t\r\namlm5900_wake_interrupt(int irq, void *ignored)\r\n{\r\nreturn IRQ_HANDLED;\r\n}\r\nstatic void amlm5900_init_pm(void)\r\n{\r\nint ret = 0;\r\nret = request_irq(IRQ_EINT9, &amlm5900_wake_interrupt,\r\nIRQF_TRIGGER_RISING | IRQF_SHARED,\r\n"amlm5900_wakeup", &amlm5900_wake_interrupt);\r\nif (ret != 0) {\r\nprintk(KERN_ERR "AML-M5900: no wakeup irq, %d?\n", ret);\r\n} else {\r\nenable_irq_wake(IRQ_EINT9);\r\ns3c_gpio_cfgpin(S3C2410_GPF(2), S3C2410_GPIO_OUTPUT);\r\ns3c_gpio_setpull(S3C2410_GPF(2), S3C_GPIO_PULL_UP);\r\n}\r\n}\r\nstatic void __init amlm5900_init(void)\r\n{\r\namlm5900_init_pm();\r\n#ifdef CONFIG_FB_S3C2410\r\ns3c24xx_fb_set_platdata(&amlm5900_fb_info);\r\n#endif\r\ns3c_i2c0_set_platdata(NULL);\r\nplatform_add_devices(amlm5900_devices, ARRAY_SIZE(amlm5900_devices));\r\n}
