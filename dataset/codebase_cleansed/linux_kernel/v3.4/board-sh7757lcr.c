static void sh7757_eth_set_mdio_gate(void *addr)\r\n{\r\nif (((unsigned long)addr & 0x00000fff) < 0x0800)\r\nwritel(readl(GBECONT) | GBECONT_RMII0, GBECONT);\r\nelse\r\nwritel(readl(GBECONT) | GBECONT_RMII1, GBECONT);\r\n}\r\nstatic void sh7757_eth_giga_set_mdio_gate(void *addr)\r\n{\r\nif (((unsigned long)addr & 0x00000fff) < 0x0800) {\r\ngpio_set_value(GPIO_PTT4, 1);\r\nwritel(readl(GBECONT) & ~GBECONT_RMII0, GBECONT);\r\n} else {\r\ngpio_set_value(GPIO_PTT4, 0);\r\nwritel(readl(GBECONT) & ~GBECONT_RMII1, GBECONT);\r\n}\r\n}\r\nstatic int usbhs0_get_id(struct platform_device *pdev)\r\n{\r\nreturn USBHS_GADGET;\r\n}\r\nstatic int __init sh7757lcr_devices_setup(void)\r\n{\r\ngpio_request(GPIO_FN_ET0_MDC, NULL);\r\ngpio_request(GPIO_FN_ET0_MDIO, NULL);\r\ngpio_request(GPIO_FN_ET1_MDC, NULL);\r\ngpio_request(GPIO_FN_ET1_MDIO, NULL);\r\ngpio_request(GPIO_FN_ON_NRE, NULL);\r\ngpio_request(GPIO_FN_ON_NWE, NULL);\r\ngpio_request(GPIO_FN_ON_NWP, NULL);\r\ngpio_request(GPIO_FN_ON_NCE0, NULL);\r\ngpio_request(GPIO_FN_ON_R_B0, NULL);\r\ngpio_request(GPIO_FN_ON_ALE, NULL);\r\ngpio_request(GPIO_FN_ON_CLE, NULL);\r\ngpio_request(GPIO_FN_ON_DQ7, NULL);\r\ngpio_request(GPIO_FN_ON_DQ6, NULL);\r\ngpio_request(GPIO_FN_ON_DQ5, NULL);\r\ngpio_request(GPIO_FN_ON_DQ4, NULL);\r\ngpio_request(GPIO_FN_ON_DQ3, NULL);\r\ngpio_request(GPIO_FN_ON_DQ2, NULL);\r\ngpio_request(GPIO_FN_ON_DQ1, NULL);\r\ngpio_request(GPIO_FN_ON_DQ0, NULL);\r\ngpio_request(GPIO_FN_IRQ8, NULL);\r\ngpio_request(GPIO_FN_IRQ7, NULL);\r\ngpio_request(GPIO_FN_IRQ6, NULL);\r\ngpio_request(GPIO_FN_IRQ5, NULL);\r\ngpio_request(GPIO_FN_IRQ4, NULL);\r\ngpio_request(GPIO_FN_IRQ3, NULL);\r\ngpio_request(GPIO_FN_IRQ2, NULL);\r\ngpio_request(GPIO_FN_IRQ1, NULL);\r\ngpio_request(GPIO_FN_IRQ0, NULL);\r\ngpio_request(GPIO_FN_SP0_MOSI, NULL);\r\ngpio_request(GPIO_FN_SP0_MISO, NULL);\r\ngpio_request(GPIO_FN_SP0_SCK, NULL);\r\ngpio_request(GPIO_FN_SP0_SCK_FB, NULL);\r\ngpio_request(GPIO_FN_SP0_SS0, NULL);\r\ngpio_request(GPIO_FN_SP0_SS1, NULL);\r\ngpio_request(GPIO_FN_SP0_SS2, NULL);\r\ngpio_request(GPIO_FN_SP0_SS3, NULL);\r\ngpio_request(GPIO_FN_RMII0_CRS_DV, NULL);\r\ngpio_request(GPIO_FN_RMII0_TXD1, NULL);\r\ngpio_request(GPIO_FN_RMII0_TXD0, NULL);\r\ngpio_request(GPIO_FN_RMII0_TXEN, NULL);\r\ngpio_request(GPIO_FN_RMII0_REFCLK, NULL);\r\ngpio_request(GPIO_FN_RMII0_RXD1, NULL);\r\ngpio_request(GPIO_FN_RMII0_RXD0, NULL);\r\ngpio_request(GPIO_FN_RMII0_RX_ER, NULL);\r\ngpio_request(GPIO_FN_RMII1_CRS_DV, NULL);\r\ngpio_request(GPIO_FN_RMII1_TXD1, NULL);\r\ngpio_request(GPIO_FN_RMII1_TXD0, NULL);\r\ngpio_request(GPIO_FN_RMII1_TXEN, NULL);\r\ngpio_request(GPIO_FN_RMII1_REFCLK, NULL);\r\ngpio_request(GPIO_FN_RMII1_RXD1, NULL);\r\ngpio_request(GPIO_FN_RMII1_RXD0, NULL);\r\ngpio_request(GPIO_FN_RMII1_RX_ER, NULL);\r\ngpio_request(GPIO_FN_MMCCLK, NULL);\r\ngpio_request(GPIO_FN_MMCCMD, NULL);\r\ngpio_request(GPIO_FN_MMCDAT7, NULL);\r\ngpio_request(GPIO_FN_MMCDAT6, NULL);\r\ngpio_request(GPIO_FN_MMCDAT5, NULL);\r\ngpio_request(GPIO_FN_MMCDAT4, NULL);\r\ngpio_request(GPIO_FN_MMCDAT3, NULL);\r\ngpio_request(GPIO_FN_MMCDAT2, NULL);\r\ngpio_request(GPIO_FN_MMCDAT1, NULL);\r\ngpio_request(GPIO_FN_MMCDAT0, NULL);\r\ngpio_request(GPIO_FN_SERIRQ, NULL);\r\ngpio_request(GPIO_FN_LPCPD, NULL);\r\ngpio_request(GPIO_FN_LDRQ, NULL);\r\ngpio_request(GPIO_FN_WP, NULL);\r\ngpio_request(GPIO_FN_FMS0, NULL);\r\ngpio_request(GPIO_FN_LAD3, NULL);\r\ngpio_request(GPIO_FN_LAD2, NULL);\r\ngpio_request(GPIO_FN_LAD1, NULL);\r\ngpio_request(GPIO_FN_LAD0, NULL);\r\ngpio_request(GPIO_FN_LFRAME, NULL);\r\ngpio_request(GPIO_FN_LRESET, NULL);\r\ngpio_request(GPIO_FN_LCLK, NULL);\r\ngpio_request(GPIO_FN_LGPIO7, NULL);\r\ngpio_request(GPIO_FN_LGPIO6, NULL);\r\ngpio_request(GPIO_FN_LGPIO5, NULL);\r\ngpio_request(GPIO_FN_LGPIO4, NULL);\r\ngpio_request(GPIO_FN_SP1_MOSI, NULL);\r\ngpio_request(GPIO_FN_SP1_MISO, NULL);\r\ngpio_request(GPIO_FN_SP1_SCK, NULL);\r\ngpio_request(GPIO_FN_SP1_SCK_FB, NULL);\r\ngpio_request(GPIO_FN_SP1_SS0, NULL);\r\ngpio_request(GPIO_FN_SP1_SS1, NULL);\r\ngpio_request(GPIO_FN_SD_WP, NULL);\r\ngpio_request(GPIO_FN_SD_CD, NULL);\r\ngpio_request(GPIO_FN_SD_CLK, NULL);\r\ngpio_request(GPIO_FN_SD_CMD, NULL);\r\ngpio_request(GPIO_FN_SD_D3, NULL);\r\ngpio_request(GPIO_FN_SD_D2, NULL);\r\ngpio_request(GPIO_FN_SD_D1, NULL);\r\ngpio_request(GPIO_FN_SD_D0, NULL);\r\ngpio_request(GPIO_FN_RTS3, NULL);\r\ngpio_request(GPIO_FN_CTS3, NULL);\r\ngpio_request(GPIO_FN_TXD3, NULL);\r\ngpio_request(GPIO_FN_RXD3, NULL);\r\ngpio_request(GPIO_FN_RTS4, NULL);\r\ngpio_request(GPIO_FN_RXD4, NULL);\r\ngpio_request(GPIO_FN_TXD4, NULL);\r\ngpio_request(GPIO_FN_CTS4, NULL);\r\ngpio_request(GPIO_FN_COM2_TXD, NULL);\r\ngpio_request(GPIO_FN_COM2_RXD, NULL);\r\ngpio_request(GPIO_FN_COM2_RTS, NULL);\r\ngpio_request(GPIO_FN_COM2_CTS, NULL);\r\ngpio_request(GPIO_FN_COM2_DTR, NULL);\r\ngpio_request(GPIO_FN_COM2_DSR, NULL);\r\ngpio_request(GPIO_FN_COM2_DCD, NULL);\r\ngpio_request(GPIO_FN_COM2_RI, NULL);\r\ngpio_request(GPIO_FN_RAC_RXD, NULL);\r\ngpio_request(GPIO_FN_RAC_RTS, NULL);\r\ngpio_request(GPIO_FN_RAC_CTS, NULL);\r\ngpio_request(GPIO_FN_RAC_DTR, NULL);\r\ngpio_request(GPIO_FN_RAC_DSR, NULL);\r\ngpio_request(GPIO_FN_RAC_DCD, NULL);\r\ngpio_request(GPIO_FN_RAC_TXD, NULL);\r\ngpio_request(GPIO_FN_COM1_TXD, NULL);\r\ngpio_request(GPIO_FN_COM1_RXD, NULL);\r\ngpio_request(GPIO_FN_COM1_RTS, NULL);\r\ngpio_request(GPIO_FN_COM1_CTS, NULL);\r\nwriteb(0x10, 0xfe470000);\r\ngpio_request(GPIO_FN_SDA7, NULL);\r\ngpio_request(GPIO_FN_SCL7, NULL);\r\ngpio_request(GPIO_FN_SDA6, NULL);\r\ngpio_request(GPIO_FN_SCL6, NULL);\r\ngpio_request(GPIO_FN_SDA5, NULL);\r\ngpio_request(GPIO_FN_SCL5, NULL);\r\ngpio_request(GPIO_FN_SDA4, NULL);\r\ngpio_request(GPIO_FN_SCL4, NULL);\r\ngpio_request(GPIO_FN_SDA3, NULL);\r\ngpio_request(GPIO_FN_SCL3, NULL);\r\ngpio_request(GPIO_FN_SDA2, NULL);\r\ngpio_request(GPIO_FN_SCL2, NULL);\r\ngpio_request(GPIO_FN_SDA1, NULL);\r\ngpio_request(GPIO_FN_SCL1, NULL);\r\ngpio_request(GPIO_FN_SDA0, NULL);\r\ngpio_request(GPIO_FN_SCL0, NULL);\r\ngpio_request(GPIO_FN_VBUS_EN, NULL);\r\ngpio_request(GPIO_FN_VBUS_OC, NULL);\r\ngpio_request(GPIO_FN_SGPIO1_CLK, NULL);\r\ngpio_request(GPIO_FN_SGPIO1_LOAD, NULL);\r\ngpio_request(GPIO_FN_SGPIO1_DI, NULL);\r\ngpio_request(GPIO_FN_SGPIO1_DO, NULL);\r\ngpio_request(GPIO_FN_SGPIO0_CLK, NULL);\r\ngpio_request(GPIO_FN_SGPIO0_LOAD, NULL);\r\ngpio_request(GPIO_FN_SGPIO0_DI, NULL);\r\ngpio_request(GPIO_FN_SGPIO0_DO, NULL);\r\ngpio_request(GPIO_FN_SUB_CLKIN, NULL);\r\ngpio_request(GPIO_FN_STATUS1, NULL);\r\ngpio_request(GPIO_FN_STATUS0, NULL);\r\ngpio_request(GPIO_FN_PWMX1, NULL);\r\ngpio_request(GPIO_FN_PWMX0, NULL);\r\ngpio_request(GPIO_FN_R_SPI_MOSI, NULL);\r\ngpio_request(GPIO_FN_R_SPI_MISO, NULL);\r\ngpio_request(GPIO_FN_R_SPI_RSPCK, NULL);\r\ngpio_request(GPIO_FN_R_SPI_SSL0, NULL);\r\ngpio_request(GPIO_FN_R_SPI_SSL1, NULL);\r\ngpio_request(GPIO_FN_EVENT7, NULL);\r\ngpio_request(GPIO_FN_EVENT6, NULL);\r\ngpio_request(GPIO_FN_EVENT5, NULL);\r\ngpio_request(GPIO_FN_EVENT4, NULL);\r\ngpio_request(GPIO_FN_EVENT3, NULL);\r\ngpio_request(GPIO_FN_EVENT2, NULL);\r\ngpio_request(GPIO_FN_EVENT1, NULL);\r\ngpio_request(GPIO_FN_EVENT0, NULL);\r\ngpio_request(GPIO_PTU3, NULL);\r\ngpio_direction_output(GPIO_PTU3, 1);\r\ngpio_request(GPIO_PTU2, NULL);\r\ngpio_direction_output(GPIO_PTU2, 1);\r\ngpio_request(GPIO_PTU1, NULL);\r\ngpio_direction_output(GPIO_PTU1, 1);\r\ngpio_request(GPIO_PTU0, NULL);\r\ngpio_direction_output(GPIO_PTU0, 1);\r\ngpio_request(GPIO_PTT4, NULL);\r\ngpio_direction_output(GPIO_PTT4, 1);\r\ngpio_request(GPIO_PTT7, NULL);\r\ngpio_direction_output(GPIO_PTT7, 0);\r\ngpio_request(GPIO_PTT6, NULL);\r\ngpio_direction_output(GPIO_PTT6, 0);\r\ngpio_request(GPIO_PTT5, NULL);\r\ngpio_direction_output(GPIO_PTT5, 1);\r\nspi_register_board_info(spi_board_info,\r\nARRAY_SIZE(spi_board_info));\r\nreturn platform_add_devices(sh7757lcr_devices,\r\nARRAY_SIZE(sh7757lcr_devices));\r\n}\r\nvoid __init init_sh7757lcr_IRQ(void)\r\n{\r\nplat_irq_setup_pins(IRQ_MODE_IRQ7654);\r\nplat_irq_setup_pins(IRQ_MODE_IRQ3210);\r\n}\r\nstatic void __init sh7757lcr_setup(char **cmdline_p)\r\n{\r\nprintk(KERN_INFO "Renesas R0P7757LC0012RL support.\n");\r\n}\r\nstatic int sh7757lcr_mode_pins(void)\r\n{\r\nint value = 0;\r\nvalue |= MODE_PIN0;\r\nreturn value;\r\n}
