static void __init rsi_ews_init_early(void)\r\n{\r\nat91_initialize(18432000);\r\nat91_init_leds(AT91_PIN_PB6, AT91_PIN_PB9);\r\nat91_register_uart(0, 0, 0);\r\nat91_register_uart(AT91RM9200_ID_US1, 2, ATMEL_UART_CTS | ATMEL_UART_RTS\r\n| ATMEL_UART_DTR | ATMEL_UART_DSR | ATMEL_UART_DCD\r\n| ATMEL_UART_RI);\r\nat91_register_uart(AT91RM9200_ID_US3, 4, ATMEL_UART_RTS);\r\nat91_set_serial_console(0);\r\n}\r\nstatic void __init rsi_ews_board_init(void)\r\n{\r\nat91_add_device_serial();\r\nat91_set_gpio_output(AT91_PIN_PA21, 0);\r\nat91_add_device_eth(&rsi_ews_eth_data);\r\nat91_add_device_usbh(&rsi_ews_usbh_data);\r\nat91_add_device_i2c(rsi_ews_i2c_devices,\r\nARRAY_SIZE(rsi_ews_i2c_devices));\r\nat91_add_device_spi(rsi_ews_spi_devices,\r\nARRAY_SIZE(rsi_ews_spi_devices));\r\nat91_add_device_mmc(0, &rsi_ews_mmc_data);\r\nplatform_device_register(&rsiews_nor_flash);\r\nat91_gpio_leds(rsi_ews_leds, ARRAY_SIZE(rsi_ews_leds));\r\n}
