static int __devinit get_xonar_model(struct oxygen *chip,\r\nconst struct pci_device_id *id)\r\n{\r\nif (get_xonar_pcm179x_model(chip, id) >= 0)\r\nreturn 0;\r\nif (get_xonar_cs43xx_model(chip, id) >= 0)\r\nreturn 0;\r\nif (get_xonar_wm87x6_model(chip, id) >= 0)\r\nreturn 0;\r\nreturn -EINVAL;\r\n}\r\nstatic int __devinit xonar_probe(struct pci_dev *pci,\r\nconst struct pci_device_id *pci_id)\r\n{\r\nstatic int dev;\r\nint err;\r\nif (dev >= SNDRV_CARDS)\r\nreturn -ENODEV;\r\nif (!enable[dev]) {\r\n++dev;\r\nreturn -ENOENT;\r\n}\r\nerr = oxygen_pci_probe(pci, index[dev], id[dev], THIS_MODULE,\r\nxonar_ids, get_xonar_model);\r\nif (err >= 0)\r\n++dev;\r\nreturn err;\r\n}\r\nstatic int __init alsa_card_xonar_init(void)\r\n{\r\nreturn pci_register_driver(&xonar_driver);\r\n}\r\nstatic void __exit alsa_card_xonar_exit(void)\r\n{\r\npci_unregister_driver(&xonar_driver);\r\n}
