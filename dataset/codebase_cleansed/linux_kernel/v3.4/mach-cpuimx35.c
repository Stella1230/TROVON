static int tsc2007_get_pendown_state(void)\r\n{\r\nreturn !gpio_get_value(TSC2007_IRQGPIO);\r\n}\r\nstatic int eukrea_cpuimx35_otg_init(struct platform_device *pdev)\r\n{\r\nreturn mx35_initialize_usb_hw(pdev->id, MXC_EHCI_INTERFACE_DIFF_UNI);\r\n}\r\nstatic int eukrea_cpuimx35_usbh1_init(struct platform_device *pdev)\r\n{\r\nreturn mx35_initialize_usb_hw(pdev->id, MXC_EHCI_INTERFACE_SINGLE_UNI |\r\nMXC_EHCI_INTERNAL_PHY | MXC_EHCI_IPPUE_DOWN);\r\n}\r\nstatic int __init eukrea_cpuimx35_otg_mode(char *options)\r\n{\r\nif (!strcmp(options, "host"))\r\notg_mode_host = 1;\r\nelse if (!strcmp(options, "device"))\r\notg_mode_host = 0;\r\nelse\r\npr_info("otg_mode neither \"host\" nor \"device\". "\r\n"Defaulting to device\n");\r\nreturn 0;\r\n}\r\nstatic void __init eukrea_cpuimx35_init(void)\r\n{\r\nimx35_soc_init();\r\nmxc_iomux_v3_setup_multiple_pads(eukrea_cpuimx35_pads,\r\nARRAY_SIZE(eukrea_cpuimx35_pads));\r\nimx35_add_fec(NULL);\r\nimx35_add_imx2_wdt(NULL);\r\nimx35_add_imx_uart0(&uart_pdata);\r\nimx35_add_mxc_nand(&eukrea_cpuimx35_nand_board_info);\r\ni2c_register_board_info(0, eukrea_cpuimx35_i2c_devices,\r\nARRAY_SIZE(eukrea_cpuimx35_i2c_devices));\r\nimx35_add_imx_i2c0(&eukrea_cpuimx35_i2c0_data);\r\nif (otg_mode_host)\r\nimx35_add_mxc_ehci_otg(&otg_pdata);\r\nelse\r\nimx35_add_fsl_usb2_udc(&otg_device_pdata);\r\nimx35_add_mxc_ehci_hs(&usbh1_pdata);\r\n#ifdef CONFIG_MACH_EUKREA_MBIMXSD35_BASEBOARD\r\neukrea_mbimxsd35_baseboard_init();\r\n#endif\r\n}\r\nstatic void __init eukrea_cpuimx35_timer_init(void)\r\n{\r\nmx35_clocks_init();\r\n}
