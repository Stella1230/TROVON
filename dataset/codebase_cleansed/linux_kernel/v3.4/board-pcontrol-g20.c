static void __init pcontrol_g20_init_early(void)\r\n{\r\nstamp9g20_init_early();\r\nat91_register_uart(AT91SAM9260_ID_US0, 1, ATMEL_UART_CTS\r\n| ATMEL_UART_RTS);\r\nat91_register_uart(AT91SAM9260_ID_US1, 2, ATMEL_UART_CTS\r\n| ATMEL_UART_RTS);\r\nat91_register_uart(AT91SAM9260_ID_US4, 3, 0);\r\n}\r\nstatic void __init add_device_pcontrol(void)\r\n{\r\nsam9_smc_configure(0, 4, &pcontrol_smc_config[0]);\r\nsam9_smc_configure(0, 7, &pcontrol_smc_config[1]);\r\n}\r\nstatic void __init pcontrol_g20_board_init(void)\r\n{\r\nstamp9g20_board_init();\r\nat91_add_device_usbh(&usbh_data);\r\nat91_add_device_eth(&macb_data);\r\nat91_add_device_i2c(pcontrol_g20_i2c_devices,\r\nARRAY_SIZE(pcontrol_g20_i2c_devices));\r\nadd_device_pcontrol();\r\nat91_add_device_spi(pcontrol_g20_spi_devices,\r\nARRAY_SIZE(pcontrol_g20_spi_devices));\r\nat91_add_device_udc(&pcontrol_g20_udc_data);\r\nat91_gpio_leds(pcontrol_g20_leds,\r\nARRAY_SIZE(pcontrol_g20_leds));\r\nat91_set_gpio_output(AT91_PIN_PB31, 1);\r\n}
