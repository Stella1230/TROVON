unsigned char mca_device_read_stored_pos(struct mca_device *mca_dev, int reg)\r\n{\r\nif(reg < 0 || reg >= 8)\r\nreturn 0;\r\nreturn mca_dev->pos[reg];\r\n}\r\nunsigned char mca_device_read_pos(struct mca_device *mca_dev, int reg)\r\n{\r\nstruct mca_bus *mca_bus = to_mca_bus(mca_dev->dev.parent);\r\nreturn mca_bus->f.mca_read_pos(mca_dev, reg);\r\nreturn mca_dev->pos[reg];\r\n}\r\nvoid mca_device_write_pos(struct mca_device *mca_dev, int reg,\r\nunsigned char byte)\r\n{\r\nstruct mca_bus *mca_bus = to_mca_bus(mca_dev->dev.parent);\r\nmca_bus->f.mca_write_pos(mca_dev, reg, byte);\r\n}\r\nint mca_device_transform_irq(struct mca_device *mca_dev, int irq)\r\n{\r\nstruct mca_bus *mca_bus = to_mca_bus(mca_dev->dev.parent);\r\nreturn mca_bus->f.mca_transform_irq(mca_dev, irq);\r\n}\r\nint mca_device_transform_ioport(struct mca_device *mca_dev, int port)\r\n{\r\nstruct mca_bus *mca_bus = to_mca_bus(mca_dev->dev.parent);\r\nreturn mca_bus->f.mca_transform_ioport(mca_dev, port);\r\n}\r\nvoid *mca_device_transform_memory(struct mca_device *mca_dev, void *mem)\r\n{\r\nstruct mca_bus *mca_bus = to_mca_bus(mca_dev->dev.parent);\r\nreturn mca_bus->f.mca_transform_memory(mca_dev, mem);\r\n}\r\nint mca_device_claimed(struct mca_device *mca_dev)\r\n{\r\nreturn mca_dev->driver_loaded;\r\n}\r\nvoid mca_device_set_claim(struct mca_device *mca_dev, int val)\r\n{\r\nmca_dev->driver_loaded = val;\r\n}\r\nenum MCA_AdapterStatus mca_device_status(struct mca_device *mca_dev)\r\n{\r\nreturn mca_dev->status;\r\n}\r\nvoid mca_device_set_name(struct mca_device *mca_dev, const char *name)\r\n{\r\nif(!mca_dev)\r\nreturn;\r\nstrlcpy(mca_dev->name, name, sizeof(mca_dev->name));\r\n}
