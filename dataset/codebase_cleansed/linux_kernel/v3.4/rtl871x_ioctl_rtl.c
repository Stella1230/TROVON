uint oid_rt_get_signal_quality_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_small_packet_crc_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nstruct _adapter *padapter = (struct _adapter *)\r\n(poid_par_priv->adapter_context);\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nif (poid_par_priv->information_buf_len >= sizeof(u32)) {\r\n*(u32 *)poid_par_priv->information_buf =\r\npadapter->recvpriv.rx_smallpacket_crcerr;\r\n*poid_par_priv->bytes_rw = poid_par_priv->information_buf_len;\r\n} else\r\nreturn NDIS_STATUS_INVALID_LENGTH;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_middle_packet_crc_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nstruct _adapter *padapter = (struct _adapter *)\r\n(poid_par_priv->adapter_context);\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nif (poid_par_priv->information_buf_len >= sizeof(u32)) {\r\n*(u32 *)poid_par_priv->information_buf =\r\npadapter->recvpriv.rx_middlepacket_crcerr;\r\n*poid_par_priv->bytes_rw = poid_par_priv->information_buf_len;\r\n} else\r\nreturn NDIS_STATUS_INVALID_LENGTH;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_large_packet_crc_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nstruct _adapter *padapter = (struct _adapter *)\r\n(poid_par_priv->adapter_context);\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nif (poid_par_priv->information_buf_len >= sizeof(u32)) {\r\n*(u32 *)poid_par_priv->information_buf =\r\npadapter->recvpriv.rx_largepacket_crcerr;\r\n*poid_par_priv->bytes_rw = poid_par_priv->information_buf_len;\r\n} else\r\nreturn NDIS_STATUS_INVALID_LENGTH;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_tx_retry_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_rx_retry_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\n*poid_par_priv->bytes_rw = poid_par_priv->information_buf_len;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_rx_total_packet_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nstruct _adapter *padapter = (struct _adapter *)\r\n(poid_par_priv->adapter_context);\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nif (poid_par_priv->information_buf_len >= sizeof(u32)) {\r\n*(u32 *)poid_par_priv->information_buf =\r\npadapter->recvpriv.rx_pkts +\r\npadapter->recvpriv.rx_drop;\r\n*poid_par_priv->bytes_rw = poid_par_priv->information_buf_len;\r\n} else\r\nreturn NDIS_STATUS_INVALID_LENGTH;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_tx_beacon_ok_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_tx_beacon_err_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_rx_icv_err_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nstruct _adapter *padapter = (struct _adapter *)\r\n(poid_par_priv->adapter_context);\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nif (poid_par_priv->information_buf_len >= sizeof(u32)) {\r\n*(uint *)poid_par_priv->information_buf =\r\npadapter->recvpriv.rx_icv_err;\r\n*poid_par_priv->bytes_rw = poid_par_priv->information_buf_len;\r\n} else\r\nreturn NDIS_STATUS_INVALID_LENGTH ;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_set_encryption_algorithm_hdl(struct oid_par_priv\r\n*poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != SET_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_preamble_mode_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nstruct _adapter *padapter = (struct _adapter *)\r\n(poid_par_priv->adapter_context);\r\nu32 preamblemode = 0 ;\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nif (poid_par_priv->information_buf_len >= sizeof(u32)) {\r\nif (padapter->registrypriv.preamble == PREAMBLE_LONG)\r\npreamblemode = 0;\r\nelse if (padapter->registrypriv.preamble == PREAMBLE_AUTO)\r\npreamblemode = 1;\r\nelse if (padapter->registrypriv.preamble == PREAMBLE_SHORT)\r\npreamblemode = 2;\r\n*(u32 *)poid_par_priv->information_buf = preamblemode;\r\n*poid_par_priv->bytes_rw = poid_par_priv->information_buf_len;\r\n} else\r\nreturn NDIS_STATUS_INVALID_LENGTH;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_ap_ip_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_channelplan_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nstruct _adapter *padapter = (struct _adapter *)\r\n(poid_par_priv->adapter_context);\r\nstruct eeprom_priv *peeprompriv = &padapter->eeprompriv;\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\n*poid_par_priv->bytes_rw = poid_par_priv->information_buf_len;\r\n*(u16 *)poid_par_priv->information_buf = peeprompriv->channel_plan;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_set_channelplan_hdl(struct oid_par_priv\r\n*poid_par_priv)\r\n{\r\nstruct _adapter *padapter = (struct _adapter *)\r\n(poid_par_priv->adapter_context);\r\nstruct eeprom_priv *peeprompriv = &padapter->eeprompriv;\r\nif (poid_par_priv->type_of_oid != SET_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\npeeprompriv->channel_plan = *(u16 *)poid_par_priv->information_buf;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_set_preamble_mode_hdl(struct oid_par_priv\r\n*poid_par_priv)\r\n{\r\nstruct _adapter *padapter = (struct _adapter *)\r\n(poid_par_priv->adapter_context);\r\nu32 preamblemode = 0;\r\nif (poid_par_priv->type_of_oid != SET_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nif (poid_par_priv->information_buf_len >= sizeof(u32)) {\r\npreamblemode = *(u32 *)poid_par_priv->information_buf;\r\nif (preamblemode == 0)\r\npadapter->registrypriv.preamble = PREAMBLE_LONG;\r\nelse if (preamblemode == 1)\r\npadapter->registrypriv.preamble = PREAMBLE_AUTO;\r\nelse if (preamblemode == 2)\r\npadapter->registrypriv.preamble = PREAMBLE_SHORT;\r\n*(u32 *)poid_par_priv->information_buf = preamblemode;\r\n*poid_par_priv->bytes_rw = poid_par_priv->information_buf_len;\r\n} else\r\nreturn NDIS_STATUS_INVALID_LENGTH;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_set_bcn_intvl_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != SET_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_dedicate_probe_hdl(struct oid_par_priv\r\n*poid_par_priv)\r\n{\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_total_tx_bytes_hdl(struct oid_par_priv\r\n*poid_par_priv)\r\n{\r\nstruct _adapter *padapter = (struct _adapter *)\r\n(poid_par_priv->adapter_context);\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nif (poid_par_priv->information_buf_len >= sizeof(u32)) {\r\n*(u32 *)poid_par_priv->information_buf =\r\npadapter->xmitpriv.tx_bytes;\r\n*poid_par_priv->bytes_rw = poid_par_priv->information_buf_len;\r\n} else\r\nreturn NDIS_STATUS_INVALID_LENGTH;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_total_rx_bytes_hdl(struct oid_par_priv\r\n*poid_par_priv)\r\n{\r\nstruct _adapter *padapter = (struct _adapter *)\r\n(poid_par_priv->adapter_context);\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nif (poid_par_priv->information_buf_len >= sizeof(u32)) {\r\n*(u32 *)poid_par_priv->information_buf =\r\npadapter->recvpriv.rx_bytes;\r\n*poid_par_priv->bytes_rw = poid_par_priv->\r\ninformation_buf_len;\r\n} else\r\nreturn NDIS_STATUS_INVALID_LENGTH;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_current_tx_power_level_hdl(struct oid_par_priv\r\n*poid_par_priv)\r\n{\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_enc_key_mismatch_count_hdl(struct oid_par_priv\r\n*poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_enc_key_match_count_hdl(struct oid_par_priv\r\n*poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_channel_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nstruct _adapter *padapter = (struct _adapter *)\r\n(poid_par_priv->adapter_context);\r\nstruct mlme_priv *pmlmepriv = &padapter->mlmepriv;\r\nstruct NDIS_802_11_CONFIGURATION *pnic_Config;\r\nu32 channelnum;\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nif ((check_fwstate(pmlmepriv, _FW_LINKED) == true) ||\r\n(check_fwstate(pmlmepriv, WIFI_ADHOC_MASTER_STATE) == true))\r\npnic_Config = &pmlmepriv->cur_network.network.Configuration;\r\nelse\r\npnic_Config = &padapter->registrypriv.dev_network.\r\nConfiguration;\r\nchannelnum = pnic_Config->DSConfig;\r\n*(u32 *)poid_par_priv->information_buf = channelnum;\r\n*poid_par_priv->bytes_rw = poid_par_priv->information_buf_len;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_hardware_radio_off_hdl(struct oid_par_priv\r\n*poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_key_mismatch_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_supported_wireless_mode_hdl(struct oid_par_priv\r\n*poid_par_priv)\r\n{\r\nu32 ulInfo = 0;\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nif (poid_par_priv->information_buf_len >= sizeof(u32)) {\r\nulInfo |= 0x0100;\r\nulInfo |= 0x0200;\r\nulInfo |= 0x0400;\r\n*(u32 *) poid_par_priv->information_buf = ulInfo;\r\n*poid_par_priv->bytes_rw = poid_par_priv->information_buf_len;\r\n} else\r\nreturn NDIS_STATUS_INVALID_LENGTH;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_channel_list_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_scan_in_progress_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_forced_data_rate_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_wireless_mode_for_scan_list_hdl(struct oid_par_priv\r\n*poid_par_priv)\r\n{\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_get_bss_wireless_mode_hdl(struct oid_par_priv\r\n*poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_scan_with_magic_packet_hdl(struct oid_par_priv\r\n*poid_par_priv)\r\n{\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_ap_get_associated_station_list_hdl(struct oid_par_priv\r\n*poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_ap_switch_into_ap_mode_hdl(struct oid_par_priv*\r\npoid_par_priv)\r\n{\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_ap_supported_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_ap_set_passphrase_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != SET_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_pro_rf_write_registry_hdl(struct oid_par_priv*\r\npoid_par_priv)\r\n{\r\nuint status = NDIS_STATUS_SUCCESS;\r\nstruct _adapter *Adapter = (struct _adapter *)\r\n(poid_par_priv->adapter_context);\r\nif (poid_par_priv->type_of_oid != SET_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nif (poid_par_priv->information_buf_len ==\r\n(sizeof(unsigned long) * 3)) {\r\nif (!r8712_setrfreg_cmd(Adapter,\r\n*(unsigned char *)poid_par_priv->information_buf,\r\n(unsigned long)(*((unsigned long *)\r\npoid_par_priv->information_buf + 2))))\r\nstatus = NDIS_STATUS_NOT_ACCEPTED;\r\n} else\r\nstatus = NDIS_STATUS_INVALID_LENGTH;\r\nreturn status;\r\n}\r\nuint oid_rt_pro_rf_read_registry_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nuint status = NDIS_STATUS_SUCCESS;\r\nstruct _adapter *Adapter = (struct _adapter *)\r\n(poid_par_priv->adapter_context);\r\nif (poid_par_priv->type_of_oid != SET_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nif (poid_par_priv->information_buf_len == (sizeof(unsigned long)*3)) {\r\nif (Adapter->mppriv.act_in_progress == true)\r\nstatus = NDIS_STATUS_NOT_ACCEPTED;\r\nelse {\r\nAdapter->mppriv.act_in_progress = true;\r\nAdapter->mppriv.workparam.bcompleted = false;\r\nAdapter->mppriv.workparam.act_type = MPT_READ_RF;\r\nAdapter->mppriv.workparam.io_offset = *(unsigned long *)\r\npoid_par_priv->information_buf;\r\nAdapter->mppriv.workparam.io_value = 0xcccccccc;\r\nif (!r8712_getrfreg_cmd(Adapter,\r\n*(unsigned char *)poid_par_priv->information_buf,\r\n(unsigned char *)&Adapter->mppriv.workparam.\r\nio_value))\r\nstatus = NDIS_STATUS_NOT_ACCEPTED;\r\n}\r\n} else\r\nstatus = NDIS_STATUS_INVALID_LENGTH;\r\nreturn status;\r\n}\r\nuint oid_rt_get_connect_state_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nstruct _adapter *padapter = (struct _adapter *)\r\n(poid_par_priv->adapter_context);\r\nstruct mlme_priv *pmlmepriv = &(padapter->mlmepriv);\r\nu32 ulInfo;\r\nif (poid_par_priv->type_of_oid != QUERY_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nif (check_fwstate(pmlmepriv, _FW_UNDER_LINKING) == true)\r\nulInfo = CHECKINGSTATUS;\r\nelse if (check_fwstate(pmlmepriv, _FW_LINKED) == true)\r\nulInfo = ASSOCIATED;\r\nelse if (check_fwstate(pmlmepriv, WIFI_ADHOC_STATE) == true)\r\nulInfo = ADHOCMODE;\r\nelse\r\nulInfo = NOTASSOCIATED ;\r\n*(u32 *)poid_par_priv->information_buf = ulInfo;\r\n*poid_par_priv->bytes_rw = poid_par_priv->information_buf_len;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}\r\nuint oid_rt_set_default_key_id_hdl(struct oid_par_priv *poid_par_priv)\r\n{\r\nif (poid_par_priv->type_of_oid != SET_OID)\r\nreturn NDIS_STATUS_NOT_ACCEPTED;\r\nreturn NDIS_STATUS_SUCCESS;\r\n}
