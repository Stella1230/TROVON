static int crypto_pcomp_init(struct crypto_tfm *tfm, u32 type, u32 mask)\r\n{\r\nreturn 0;\r\n}\r\nstatic unsigned int crypto_pcomp_extsize(struct crypto_alg *alg)\r\n{\r\nreturn alg->cra_ctxsize;\r\n}\r\nstatic int crypto_pcomp_init_tfm(struct crypto_tfm *tfm)\r\n{\r\nreturn 0;\r\n}\r\nstatic int crypto_pcomp_report(struct sk_buff *skb, struct crypto_alg *alg)\r\n{\r\nstruct crypto_report_comp rpcomp;\r\nsnprintf(rpcomp.type, CRYPTO_MAX_ALG_NAME, "%s", "pcomp");\r\nNLA_PUT(skb, CRYPTOCFGA_REPORT_COMPRESS,\r\nsizeof(struct crypto_report_comp), &rpcomp);\r\nreturn 0;\r\nnla_put_failure:\r\nreturn -EMSGSIZE;\r\n}\r\nstatic int crypto_pcomp_report(struct sk_buff *skb, struct crypto_alg *alg)\r\n{\r\nreturn -ENOSYS;\r\n}\r\nstatic void crypto_pcomp_show(struct seq_file *m, struct crypto_alg *alg)\r\n{\r\nseq_printf(m, "type : pcomp\n");\r\n}\r\nstruct crypto_pcomp *crypto_alloc_pcomp(const char *alg_name, u32 type,\r\nu32 mask)\r\n{\r\nreturn crypto_alloc_tfm(alg_name, &crypto_pcomp_type, type, mask);\r\n}\r\nint crypto_register_pcomp(struct pcomp_alg *alg)\r\n{\r\nstruct crypto_alg *base = &alg->base;\r\nbase->cra_type = &crypto_pcomp_type;\r\nbase->cra_flags &= ~CRYPTO_ALG_TYPE_MASK;\r\nbase->cra_flags |= CRYPTO_ALG_TYPE_PCOMPRESS;\r\nreturn crypto_register_alg(base);\r\n}\r\nint crypto_unregister_pcomp(struct pcomp_alg *alg)\r\n{\r\nreturn crypto_unregister_alg(&alg->base);\r\n}
