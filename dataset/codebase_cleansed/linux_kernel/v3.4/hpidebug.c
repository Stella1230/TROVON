void hpi_debug_init(void)\r\n{\r\nprintk(KERN_INFO "debug start\n");\r\n}\r\nint hpi_debug_level_set(int level)\r\n{\r\nint old_level;\r\nold_level = hpi_debug_level;\r\nhpi_debug_level = level;\r\nreturn old_level;\r\n}\r\nint hpi_debug_level_get(void)\r\n{\r\nreturn hpi_debug_level;\r\n}\r\nvoid hpi_debug_message(struct hpi_message *phm, char *sz_fileline)\r\n{\r\nif (phm) {\r\nprintk(KERN_DEBUG "HPI_MSG%d,%d,%d,%d,%d\n", phm->version,\r\nphm->adapter_index, phm->obj_index, phm->function,\r\nphm->u.c.attribute);\r\n}\r\n}\r\nvoid hpi_debug_data(u16 *pdata, u32 len)\r\n{\r\nu32 i;\r\nint j;\r\nint k;\r\nint lines;\r\nint cols = 8;\r\nlines = (len + cols - 1) / cols;\r\nif (lines > 8)\r\nlines = 8;\r\nfor (i = 0, j = 0; j < lines; j++) {\r\nprintk(KERN_DEBUG "%p:", (pdata + i));\r\nfor (k = 0; k < cols && i < len; i++, k++)\r\nprintk("%s%04x", k == 0 ? "" : " ", pdata[i]);\r\nprintk("\n");\r\n}\r\n}
