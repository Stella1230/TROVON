void smsendian_handle_tx_message(void *buffer)\r\n{\r\n#ifdef __BIG_ENDIAN\r\nstruct SmsMsgData_ST *msg = (struct SmsMsgData_ST *)buffer;\r\nint i;\r\nint msgWords;\r\nswitch (msg->xMsgHeader.msgType) {\r\ncase MSG_SMS_DATA_DOWNLOAD_REQ:\r\n{\r\nmsg->msgData[0] = le32_to_cpu(msg->msgData[0]);\r\nbreak;\r\n}\r\ndefault:\r\nmsgWords = (msg->xMsgHeader.msgLength -\r\nsizeof(struct SmsMsgHdr_ST))/4;\r\nfor (i = 0; i < msgWords; i++)\r\nmsg->msgData[i] = le32_to_cpu(msg->msgData[i]);\r\nbreak;\r\n}\r\n#endif\r\n}\r\nvoid smsendian_handle_rx_message(void *buffer)\r\n{\r\n#ifdef __BIG_ENDIAN\r\nstruct SmsMsgData_ST *msg = (struct SmsMsgData_ST *)buffer;\r\nint i;\r\nint msgWords;\r\nswitch (msg->xMsgHeader.msgType) {\r\ncase MSG_SMS_GET_VERSION_EX_RES:\r\n{\r\nstruct SmsVersionRes_ST *ver =\r\n(struct SmsVersionRes_ST *) msg;\r\nver->ChipModel = le16_to_cpu(ver->ChipModel);\r\nbreak;\r\n}\r\ncase MSG_SMS_DVBT_BDA_DATA:\r\ncase MSG_SMS_DAB_CHANNEL:\r\ncase MSG_SMS_DATA_MSG:\r\n{\r\nbreak;\r\n}\r\ndefault:\r\n{\r\nmsgWords = (msg->xMsgHeader.msgLength -\r\nsizeof(struct SmsMsgHdr_ST))/4;\r\nfor (i = 0; i < msgWords; i++)\r\nmsg->msgData[i] = le32_to_cpu(msg->msgData[i]);\r\nbreak;\r\n}\r\n}\r\n#endif\r\n}\r\nvoid smsendian_handle_message_header(void *msg)\r\n{\r\n#ifdef __BIG_ENDIAN\r\nstruct SmsMsgHdr_ST *phdr = (struct SmsMsgHdr_ST *)msg;\r\nphdr->msgType = le16_to_cpu(phdr->msgType);\r\nphdr->msgLength = le16_to_cpu(phdr->msgLength);\r\nphdr->msgFlags = le16_to_cpu(phdr->msgFlags);\r\n#endif\r\n}
