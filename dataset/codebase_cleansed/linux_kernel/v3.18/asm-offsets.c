int main(void)\r\n{\r\nDEFINE(THREAD, offsetof(struct task_struct, thread));\r\nDEFINE(MM, offsetof(struct task_struct, mm));\r\nDEFINE(MMCONTEXTID, offsetof(struct mm_struct, context.id));\r\n#ifdef CONFIG_PPC64\r\nDEFINE(AUDITCONTEXT, offsetof(struct task_struct, audit_context));\r\nDEFINE(SIGSEGV, SIGSEGV);\r\nDEFINE(NMI_MASK, NMI_MASK);\r\nDEFINE(THREAD_DSCR, offsetof(struct thread_struct, dscr));\r\nDEFINE(THREAD_DSCR_INHERIT, offsetof(struct thread_struct, dscr_inherit));\r\nDEFINE(TASKTHREADPPR, offsetof(struct task_struct, thread.ppr));\r\n#else\r\nDEFINE(THREAD_INFO, offsetof(struct task_struct, stack));\r\nDEFINE(THREAD_INFO_GAP, _ALIGN_UP(sizeof(struct thread_info), 16));\r\nDEFINE(KSP_LIMIT, offsetof(struct thread_struct, ksp_limit));\r\n#endif\r\nDEFINE(KSP, offsetof(struct thread_struct, ksp));\r\nDEFINE(PT_REGS, offsetof(struct thread_struct, regs));\r\n#ifdef CONFIG_BOOKE\r\nDEFINE(THREAD_NORMSAVES, offsetof(struct thread_struct, normsave[0]));\r\n#endif\r\nDEFINE(THREAD_FPEXC_MODE, offsetof(struct thread_struct, fpexc_mode));\r\nDEFINE(THREAD_FPSTATE, offsetof(struct thread_struct, fp_state));\r\nDEFINE(THREAD_FPSAVEAREA, offsetof(struct thread_struct, fp_save_area));\r\nDEFINE(FPSTATE_FPSCR, offsetof(struct thread_fp_state, fpscr));\r\n#ifdef CONFIG_ALTIVEC\r\nDEFINE(THREAD_VRSTATE, offsetof(struct thread_struct, vr_state));\r\nDEFINE(THREAD_VRSAVEAREA, offsetof(struct thread_struct, vr_save_area));\r\nDEFINE(THREAD_VRSAVE, offsetof(struct thread_struct, vrsave));\r\nDEFINE(THREAD_USED_VR, offsetof(struct thread_struct, used_vr));\r\nDEFINE(VRSTATE_VSCR, offsetof(struct thread_vr_state, vscr));\r\n#endif\r\n#ifdef CONFIG_VSX\r\nDEFINE(THREAD_USED_VSR, offsetof(struct thread_struct, used_vsr));\r\n#endif\r\n#ifdef CONFIG_PPC64\r\nDEFINE(KSP_VSID, offsetof(struct thread_struct, ksp_vsid));\r\n#else\r\nDEFINE(PGDIR, offsetof(struct thread_struct, pgdir));\r\n#ifdef CONFIG_SPE\r\nDEFINE(THREAD_EVR0, offsetof(struct thread_struct, evr[0]));\r\nDEFINE(THREAD_ACC, offsetof(struct thread_struct, acc));\r\nDEFINE(THREAD_SPEFSCR, offsetof(struct thread_struct, spefscr));\r\nDEFINE(THREAD_USED_SPE, offsetof(struct thread_struct, used_spe));\r\n#endif\r\n#endif\r\n#if defined(CONFIG_4xx) || defined(CONFIG_BOOKE)\r\nDEFINE(THREAD_DBCR0, offsetof(struct thread_struct, debug.dbcr0));\r\n#endif\r\n#ifdef CONFIG_KVM_BOOK3S_32_HANDLER\r\nDEFINE(THREAD_KVM_SVCPU, offsetof(struct thread_struct, kvm_shadow_vcpu));\r\n#endif\r\n#if defined(CONFIG_KVM) && defined(CONFIG_BOOKE)\r\nDEFINE(THREAD_KVM_VCPU, offsetof(struct thread_struct, kvm_vcpu));\r\n#endif\r\n#ifdef CONFIG_PPC_BOOK3S_64\r\nDEFINE(THREAD_TAR, offsetof(struct thread_struct, tar));\r\nDEFINE(THREAD_BESCR, offsetof(struct thread_struct, bescr));\r\nDEFINE(THREAD_EBBHR, offsetof(struct thread_struct, ebbhr));\r\nDEFINE(THREAD_EBBRR, offsetof(struct thread_struct, ebbrr));\r\nDEFINE(THREAD_SIAR, offsetof(struct thread_struct, siar));\r\nDEFINE(THREAD_SDAR, offsetof(struct thread_struct, sdar));\r\nDEFINE(THREAD_SIER, offsetof(struct thread_struct, sier));\r\nDEFINE(THREAD_MMCR0, offsetof(struct thread_struct, mmcr0));\r\nDEFINE(THREAD_MMCR2, offsetof(struct thread_struct, mmcr2));\r\n#endif\r\n#ifdef CONFIG_PPC_TRANSACTIONAL_MEM\r\nDEFINE(PACATMSCRATCH, offsetof(struct paca_struct, tm_scratch));\r\nDEFINE(THREAD_TM_TFHAR, offsetof(struct thread_struct, tm_tfhar));\r\nDEFINE(THREAD_TM_TEXASR, offsetof(struct thread_struct, tm_texasr));\r\nDEFINE(THREAD_TM_TFIAR, offsetof(struct thread_struct, tm_tfiar));\r\nDEFINE(THREAD_TM_TAR, offsetof(struct thread_struct, tm_tar));\r\nDEFINE(THREAD_TM_PPR, offsetof(struct thread_struct, tm_ppr));\r\nDEFINE(THREAD_TM_DSCR, offsetof(struct thread_struct, tm_dscr));\r\nDEFINE(PT_CKPT_REGS, offsetof(struct thread_struct, ckpt_regs));\r\nDEFINE(THREAD_TRANSACT_VRSTATE, offsetof(struct thread_struct,\r\ntransact_vr));\r\nDEFINE(THREAD_TRANSACT_VRSAVE, offsetof(struct thread_struct,\r\ntransact_vrsave));\r\nDEFINE(THREAD_TRANSACT_FPSTATE, offsetof(struct thread_struct,\r\ntransact_fp));\r\nDEFINE(TM_FRAME_SIZE, STACK_FRAME_OVERHEAD +\r\nsizeof(struct pt_regs) + 16);\r\n#endif\r\nDEFINE(TI_FLAGS, offsetof(struct thread_info, flags));\r\nDEFINE(TI_LOCAL_FLAGS, offsetof(struct thread_info, local_flags));\r\nDEFINE(TI_PREEMPT, offsetof(struct thread_info, preempt_count));\r\nDEFINE(TI_TASK, offsetof(struct thread_info, task));\r\nDEFINE(TI_CPU, offsetof(struct thread_info, cpu));\r\n#ifdef CONFIG_PPC64\r\nDEFINE(DCACHEL1LINESIZE, offsetof(struct ppc64_caches, dline_size));\r\nDEFINE(DCACHEL1LOGLINESIZE, offsetof(struct ppc64_caches, log_dline_size));\r\nDEFINE(DCACHEL1LINESPERPAGE, offsetof(struct ppc64_caches, dlines_per_page));\r\nDEFINE(ICACHEL1LINESIZE, offsetof(struct ppc64_caches, iline_size));\r\nDEFINE(ICACHEL1LOGLINESIZE, offsetof(struct ppc64_caches, log_iline_size));\r\nDEFINE(ICACHEL1LINESPERPAGE, offsetof(struct ppc64_caches, ilines_per_page));\r\nDEFINE(PACA_SIZE, sizeof(struct paca_struct));\r\nDEFINE(PACA_LOCK_TOKEN, offsetof(struct paca_struct, lock_token));\r\nDEFINE(PACAPACAINDEX, offsetof(struct paca_struct, paca_index));\r\nDEFINE(PACAPROCSTART, offsetof(struct paca_struct, cpu_start));\r\nDEFINE(PACAKSAVE, offsetof(struct paca_struct, kstack));\r\nDEFINE(PACACURRENT, offsetof(struct paca_struct, __current));\r\nDEFINE(PACASAVEDMSR, offsetof(struct paca_struct, saved_msr));\r\nDEFINE(PACASTABRR, offsetof(struct paca_struct, stab_rr));\r\nDEFINE(PACAR1, offsetof(struct paca_struct, saved_r1));\r\nDEFINE(PACATOC, offsetof(struct paca_struct, kernel_toc));\r\nDEFINE(PACAKBASE, offsetof(struct paca_struct, kernelbase));\r\nDEFINE(PACAKMSR, offsetof(struct paca_struct, kernel_msr));\r\nDEFINE(PACASOFTIRQEN, offsetof(struct paca_struct, soft_enabled));\r\nDEFINE(PACAIRQHAPPENED, offsetof(struct paca_struct, irq_happened));\r\nDEFINE(PACACONTEXTID, offsetof(struct paca_struct, context.id));\r\n#ifdef CONFIG_PPC_MM_SLICES\r\nDEFINE(PACALOWSLICESPSIZE, offsetof(struct paca_struct,\r\ncontext.low_slices_psize));\r\nDEFINE(PACAHIGHSLICEPSIZE, offsetof(struct paca_struct,\r\ncontext.high_slices_psize));\r\nDEFINE(MMUPSIZEDEFSIZE, sizeof(struct mmu_psize_def));\r\n#endif\r\n#ifdef CONFIG_PPC_BOOK3E\r\nDEFINE(PACAPGD, offsetof(struct paca_struct, pgd));\r\nDEFINE(PACA_KERNELPGD, offsetof(struct paca_struct, kernel_pgd));\r\nDEFINE(PACA_EXGEN, offsetof(struct paca_struct, exgen));\r\nDEFINE(PACA_EXTLB, offsetof(struct paca_struct, extlb));\r\nDEFINE(PACA_EXMC, offsetof(struct paca_struct, exmc));\r\nDEFINE(PACA_EXCRIT, offsetof(struct paca_struct, excrit));\r\nDEFINE(PACA_EXDBG, offsetof(struct paca_struct, exdbg));\r\nDEFINE(PACA_MC_STACK, offsetof(struct paca_struct, mc_kstack));\r\nDEFINE(PACA_CRIT_STACK, offsetof(struct paca_struct, crit_kstack));\r\nDEFINE(PACA_DBG_STACK, offsetof(struct paca_struct, dbg_kstack));\r\nDEFINE(PACA_TCD_PTR, offsetof(struct paca_struct, tcd_ptr));\r\nDEFINE(TCD_ESEL_NEXT,\r\noffsetof(struct tlb_core_data, esel_next));\r\nDEFINE(TCD_ESEL_MAX,\r\noffsetof(struct tlb_core_data, esel_max));\r\nDEFINE(TCD_ESEL_FIRST,\r\noffsetof(struct tlb_core_data, esel_first));\r\nDEFINE(TCD_LOCK, offsetof(struct tlb_core_data, lock));\r\n#endif\r\n#ifdef CONFIG_PPC_STD_MMU_64\r\nDEFINE(PACASLBCACHE, offsetof(struct paca_struct, slb_cache));\r\nDEFINE(PACASLBCACHEPTR, offsetof(struct paca_struct, slb_cache_ptr));\r\nDEFINE(PACAVMALLOCSLLP, offsetof(struct paca_struct, vmalloc_sllp));\r\n#ifdef CONFIG_PPC_MM_SLICES\r\nDEFINE(MMUPSIZESLLP, offsetof(struct mmu_psize_def, sllp));\r\n#else\r\nDEFINE(PACACONTEXTSLLP, offsetof(struct paca_struct, context.sllp));\r\n#endif\r\nDEFINE(PACA_EXGEN, offsetof(struct paca_struct, exgen));\r\nDEFINE(PACA_EXMC, offsetof(struct paca_struct, exmc));\r\nDEFINE(PACA_EXSLB, offsetof(struct paca_struct, exslb));\r\nDEFINE(PACALPPACAPTR, offsetof(struct paca_struct, lppaca_ptr));\r\nDEFINE(PACA_SLBSHADOWPTR, offsetof(struct paca_struct, slb_shadow_ptr));\r\nDEFINE(SLBSHADOW_STACKVSID,\r\noffsetof(struct slb_shadow, save_area[SLB_NUM_BOLTED - 1].vsid));\r\nDEFINE(SLBSHADOW_STACKESID,\r\noffsetof(struct slb_shadow, save_area[SLB_NUM_BOLTED - 1].esid));\r\nDEFINE(SLBSHADOW_SAVEAREA, offsetof(struct slb_shadow, save_area));\r\nDEFINE(LPPACA_PMCINUSE, offsetof(struct lppaca, pmcregs_in_use));\r\nDEFINE(LPPACA_DTLIDX, offsetof(struct lppaca, dtl_idx));\r\nDEFINE(LPPACA_YIELDCOUNT, offsetof(struct lppaca, yield_count));\r\nDEFINE(PACA_DTL_RIDX, offsetof(struct paca_struct, dtl_ridx));\r\n#endif\r\nDEFINE(PACAEMERGSP, offsetof(struct paca_struct, emergency_sp));\r\n#ifdef CONFIG_PPC_BOOK3S_64\r\nDEFINE(PACAMCEMERGSP, offsetof(struct paca_struct, mc_emergency_sp));\r\nDEFINE(PACA_IN_MCE, offsetof(struct paca_struct, in_mce));\r\n#endif\r\nDEFINE(PACAHWCPUID, offsetof(struct paca_struct, hw_cpu_id));\r\nDEFINE(PACAKEXECSTATE, offsetof(struct paca_struct, kexec_state));\r\nDEFINE(PACA_DSCR, offsetof(struct paca_struct, dscr_default));\r\nDEFINE(PACA_STARTTIME, offsetof(struct paca_struct, starttime));\r\nDEFINE(PACA_STARTTIME_USER, offsetof(struct paca_struct, starttime_user));\r\nDEFINE(PACA_USER_TIME, offsetof(struct paca_struct, user_time));\r\nDEFINE(PACA_SYSTEM_TIME, offsetof(struct paca_struct, system_time));\r\nDEFINE(PACA_TRAP_SAVE, offsetof(struct paca_struct, trap_save));\r\nDEFINE(PACA_NAPSTATELOST, offsetof(struct paca_struct, nap_state_lost));\r\nDEFINE(PACA_SPRG_VDSO, offsetof(struct paca_struct, sprg_vdso));\r\n#endif\r\nDEFINE(RTASBASE, offsetof(struct rtas_t, base));\r\nDEFINE(RTASENTRY, offsetof(struct rtas_t, entry));\r\nDEFINE(INT_FRAME_SIZE, STACK_INT_FRAME_SIZE);\r\nDEFINE(SWITCH_FRAME_SIZE, STACK_FRAME_OVERHEAD + sizeof(struct pt_regs));\r\n#ifdef CONFIG_PPC64\r\nDEFINE(PROM_FRAME_SIZE, STACK_FRAME_OVERHEAD + sizeof(struct pt_regs) + 16);\r\nDEFINE(RTAS_FRAME_SIZE, STACK_FRAME_OVERHEAD + sizeof(struct pt_regs) + 16);\r\nDEFINE(HCALL_STAT_SIZE, sizeof(struct hcall_stats));\r\nDEFINE(HCALL_STAT_CALLS, offsetof(struct hcall_stats, num_calls));\r\nDEFINE(HCALL_STAT_TB, offsetof(struct hcall_stats, tb_total));\r\nDEFINE(HCALL_STAT_PURR, offsetof(struct hcall_stats, purr_total));\r\n#endif\r\nDEFINE(GPR0, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[0]));\r\nDEFINE(GPR1, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[1]));\r\nDEFINE(GPR2, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[2]));\r\nDEFINE(GPR3, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[3]));\r\nDEFINE(GPR4, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[4]));\r\nDEFINE(GPR5, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[5]));\r\nDEFINE(GPR6, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[6]));\r\nDEFINE(GPR7, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[7]));\r\nDEFINE(GPR8, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[8]));\r\nDEFINE(GPR9, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[9]));\r\nDEFINE(GPR10, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[10]));\r\nDEFINE(GPR11, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[11]));\r\nDEFINE(GPR12, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[12]));\r\nDEFINE(GPR13, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[13]));\r\n#ifndef CONFIG_PPC64\r\nDEFINE(GPR14, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[14]));\r\nDEFINE(GPR15, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[15]));\r\nDEFINE(GPR16, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[16]));\r\nDEFINE(GPR17, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[17]));\r\nDEFINE(GPR18, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[18]));\r\nDEFINE(GPR19, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[19]));\r\nDEFINE(GPR20, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[20]));\r\nDEFINE(GPR21, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[21]));\r\nDEFINE(GPR22, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[22]));\r\nDEFINE(GPR23, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[23]));\r\nDEFINE(GPR24, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[24]));\r\nDEFINE(GPR25, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[25]));\r\nDEFINE(GPR26, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[26]));\r\nDEFINE(GPR27, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[27]));\r\nDEFINE(GPR28, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[28]));\r\nDEFINE(GPR29, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[29]));\r\nDEFINE(GPR30, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[30]));\r\nDEFINE(GPR31, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, gpr[31]));\r\n#endif\r\nDEFINE(_NIP, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, nip));\r\nDEFINE(_MSR, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, msr));\r\nDEFINE(_CTR, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, ctr));\r\nDEFINE(_LINK, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, link));\r\nDEFINE(_CCR, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, ccr));\r\nDEFINE(_XER, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, xer));\r\nDEFINE(_DAR, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, dar));\r\nDEFINE(_DSISR, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, dsisr));\r\nDEFINE(ORIG_GPR3, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, orig_gpr3));\r\nDEFINE(RESULT, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, result));\r\nDEFINE(_TRAP, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, trap));\r\n#ifndef CONFIG_PPC64\r\nDEFINE(_MQ, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, mq));\r\nDEFINE(_DEAR, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, dar));\r\nDEFINE(_ESR, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, dsisr));\r\n#else\r\nDEFINE(SOFTE, STACK_FRAME_OVERHEAD+offsetof(struct pt_regs, softe));\r\nDEFINE(_SRR0, STACK_FRAME_OVERHEAD+sizeof(struct pt_regs));\r\nDEFINE(_SRR1, STACK_FRAME_OVERHEAD+sizeof(struct pt_regs)+8);\r\n#endif\r\n#if defined(CONFIG_PPC32)\r\n#if defined(CONFIG_BOOKE) || defined(CONFIG_40x)\r\nDEFINE(EXC_LVL_SIZE, STACK_EXC_LVL_FRAME_SIZE);\r\nDEFINE(MAS0, STACK_INT_FRAME_SIZE+offsetof(struct exception_regs, mas0));\r\nDEFINE(MMUCR, STACK_INT_FRAME_SIZE+offsetof(struct exception_regs, mas0));\r\nDEFINE(MAS1, STACK_INT_FRAME_SIZE+offsetof(struct exception_regs, mas1));\r\nDEFINE(MAS2, STACK_INT_FRAME_SIZE+offsetof(struct exception_regs, mas2));\r\nDEFINE(MAS3, STACK_INT_FRAME_SIZE+offsetof(struct exception_regs, mas3));\r\nDEFINE(MAS6, STACK_INT_FRAME_SIZE+offsetof(struct exception_regs, mas6));\r\nDEFINE(MAS7, STACK_INT_FRAME_SIZE+offsetof(struct exception_regs, mas7));\r\nDEFINE(_SRR0, STACK_INT_FRAME_SIZE+offsetof(struct exception_regs, srr0));\r\nDEFINE(_SRR1, STACK_INT_FRAME_SIZE+offsetof(struct exception_regs, srr1));\r\nDEFINE(_CSRR0, STACK_INT_FRAME_SIZE+offsetof(struct exception_regs, csrr0));\r\nDEFINE(_CSRR1, STACK_INT_FRAME_SIZE+offsetof(struct exception_regs, csrr1));\r\nDEFINE(_DSRR0, STACK_INT_FRAME_SIZE+offsetof(struct exception_regs, dsrr0));\r\nDEFINE(_DSRR1, STACK_INT_FRAME_SIZE+offsetof(struct exception_regs, dsrr1));\r\nDEFINE(SAVED_KSP_LIMIT, STACK_INT_FRAME_SIZE+offsetof(struct exception_regs, saved_ksp_limit));\r\n#endif\r\n#endif\r\nDEFINE(CLONE_VM, CLONE_VM);\r\nDEFINE(CLONE_UNTRACED, CLONE_UNTRACED);\r\n#ifndef CONFIG_PPC64\r\nDEFINE(MM_PGD, offsetof(struct mm_struct, pgd));\r\n#endif\r\nDEFINE(CPU_SPEC_FEATURES, offsetof(struct cpu_spec, cpu_features));\r\nDEFINE(CPU_SPEC_SETUP, offsetof(struct cpu_spec, cpu_setup));\r\nDEFINE(CPU_SPEC_RESTORE, offsetof(struct cpu_spec, cpu_restore));\r\nDEFINE(pbe_address, offsetof(struct pbe, address));\r\nDEFINE(pbe_orig_address, offsetof(struct pbe, orig_address));\r\nDEFINE(pbe_next, offsetof(struct pbe, next));\r\n#ifndef CONFIG_PPC64\r\nDEFINE(TASK_SIZE, TASK_SIZE);\r\nDEFINE(NUM_USER_SEGMENTS, TASK_SIZE>>28);\r\n#endif\r\nDEFINE(CFG_TB_ORIG_STAMP, offsetof(struct vdso_data, tb_orig_stamp));\r\nDEFINE(CFG_TB_TICKS_PER_SEC, offsetof(struct vdso_data, tb_ticks_per_sec));\r\nDEFINE(CFG_TB_TO_XS, offsetof(struct vdso_data, tb_to_xs));\r\nDEFINE(CFG_STAMP_XSEC, offsetof(struct vdso_data, stamp_xsec));\r\nDEFINE(CFG_TB_UPDATE_COUNT, offsetof(struct vdso_data, tb_update_count));\r\nDEFINE(CFG_TZ_MINUTEWEST, offsetof(struct vdso_data, tz_minuteswest));\r\nDEFINE(CFG_TZ_DSTTIME, offsetof(struct vdso_data, tz_dsttime));\r\nDEFINE(CFG_SYSCALL_MAP32, offsetof(struct vdso_data, syscall_map_32));\r\nDEFINE(WTOM_CLOCK_SEC, offsetof(struct vdso_data, wtom_clock_sec));\r\nDEFINE(WTOM_CLOCK_NSEC, offsetof(struct vdso_data, wtom_clock_nsec));\r\nDEFINE(STAMP_XTIME, offsetof(struct vdso_data, stamp_xtime));\r\nDEFINE(STAMP_SEC_FRAC, offsetof(struct vdso_data, stamp_sec_fraction));\r\nDEFINE(CFG_ICACHE_BLOCKSZ, offsetof(struct vdso_data, icache_block_size));\r\nDEFINE(CFG_DCACHE_BLOCKSZ, offsetof(struct vdso_data, dcache_block_size));\r\nDEFINE(CFG_ICACHE_LOGBLOCKSZ, offsetof(struct vdso_data, icache_log_block_size));\r\nDEFINE(CFG_DCACHE_LOGBLOCKSZ, offsetof(struct vdso_data, dcache_log_block_size));\r\n#ifdef CONFIG_PPC64\r\nDEFINE(CFG_SYSCALL_MAP64, offsetof(struct vdso_data, syscall_map_64));\r\nDEFINE(TVAL64_TV_SEC, offsetof(struct timeval, tv_sec));\r\nDEFINE(TVAL64_TV_USEC, offsetof(struct timeval, tv_usec));\r\nDEFINE(TVAL32_TV_SEC, offsetof(struct compat_timeval, tv_sec));\r\nDEFINE(TVAL32_TV_USEC, offsetof(struct compat_timeval, tv_usec));\r\nDEFINE(TSPC64_TV_SEC, offsetof(struct timespec, tv_sec));\r\nDEFINE(TSPC64_TV_NSEC, offsetof(struct timespec, tv_nsec));\r\nDEFINE(TSPC32_TV_SEC, offsetof(struct compat_timespec, tv_sec));\r\nDEFINE(TSPC32_TV_NSEC, offsetof(struct compat_timespec, tv_nsec));\r\n#else\r\nDEFINE(TVAL32_TV_SEC, offsetof(struct timeval, tv_sec));\r\nDEFINE(TVAL32_TV_USEC, offsetof(struct timeval, tv_usec));\r\nDEFINE(TSPC32_TV_SEC, offsetof(struct timespec, tv_sec));\r\nDEFINE(TSPC32_TV_NSEC, offsetof(struct timespec, tv_nsec));\r\n#endif\r\nDEFINE(TZONE_TZ_MINWEST, offsetof(struct timezone, tz_minuteswest));\r\nDEFINE(TZONE_TZ_DSTTIME, offsetof(struct timezone, tz_dsttime));\r\nDEFINE(CLOCK_REALTIME, CLOCK_REALTIME);\r\nDEFINE(CLOCK_MONOTONIC, CLOCK_MONOTONIC);\r\nDEFINE(NSEC_PER_SEC, NSEC_PER_SEC);\r\nDEFINE(CLOCK_REALTIME_RES, MONOTONIC_RES_NSEC);\r\n#ifdef CONFIG_BUG\r\nDEFINE(BUG_ENTRY_SIZE, sizeof(struct bug_entry));\r\n#endif\r\nDEFINE(PGD_TABLE_SIZE, PGD_TABLE_SIZE);\r\nDEFINE(PTE_SIZE, sizeof(pte_t));\r\n#ifdef CONFIG_KVM\r\nDEFINE(VCPU_HOST_STACK, offsetof(struct kvm_vcpu, arch.host_stack));\r\nDEFINE(VCPU_HOST_PID, offsetof(struct kvm_vcpu, arch.host_pid));\r\nDEFINE(VCPU_GUEST_PID, offsetof(struct kvm_vcpu, arch.pid));\r\nDEFINE(VCPU_GPRS, offsetof(struct kvm_vcpu, arch.gpr));\r\nDEFINE(VCPU_VRSAVE, offsetof(struct kvm_vcpu, arch.vrsave));\r\nDEFINE(VCPU_FPRS, offsetof(struct kvm_vcpu, arch.fp.fpr));\r\n#ifdef CONFIG_ALTIVEC\r\nDEFINE(VCPU_VRS, offsetof(struct kvm_vcpu, arch.vr.vr));\r\n#endif\r\nDEFINE(VCPU_XER, offsetof(struct kvm_vcpu, arch.xer));\r\nDEFINE(VCPU_CTR, offsetof(struct kvm_vcpu, arch.ctr));\r\nDEFINE(VCPU_LR, offsetof(struct kvm_vcpu, arch.lr));\r\n#ifdef CONFIG_PPC_BOOK3S\r\nDEFINE(VCPU_TAR, offsetof(struct kvm_vcpu, arch.tar));\r\n#endif\r\nDEFINE(VCPU_CR, offsetof(struct kvm_vcpu, arch.cr));\r\nDEFINE(VCPU_PC, offsetof(struct kvm_vcpu, arch.pc));\r\n#ifdef CONFIG_KVM_BOOK3S_HV_POSSIBLE\r\nDEFINE(VCPU_MSR, offsetof(struct kvm_vcpu, arch.shregs.msr));\r\nDEFINE(VCPU_SRR0, offsetof(struct kvm_vcpu, arch.shregs.srr0));\r\nDEFINE(VCPU_SRR1, offsetof(struct kvm_vcpu, arch.shregs.srr1));\r\nDEFINE(VCPU_SPRG0, offsetof(struct kvm_vcpu, arch.shregs.sprg0));\r\nDEFINE(VCPU_SPRG1, offsetof(struct kvm_vcpu, arch.shregs.sprg1));\r\nDEFINE(VCPU_SPRG2, offsetof(struct kvm_vcpu, arch.shregs.sprg2));\r\nDEFINE(VCPU_SPRG3, offsetof(struct kvm_vcpu, arch.shregs.sprg3));\r\n#endif\r\nDEFINE(VCPU_SHARED_SPRG3, offsetof(struct kvm_vcpu_arch_shared, sprg3));\r\nDEFINE(VCPU_SHARED_SPRG4, offsetof(struct kvm_vcpu_arch_shared, sprg4));\r\nDEFINE(VCPU_SHARED_SPRG5, offsetof(struct kvm_vcpu_arch_shared, sprg5));\r\nDEFINE(VCPU_SHARED_SPRG6, offsetof(struct kvm_vcpu_arch_shared, sprg6));\r\nDEFINE(VCPU_SHARED_SPRG7, offsetof(struct kvm_vcpu_arch_shared, sprg7));\r\nDEFINE(VCPU_SHADOW_PID, offsetof(struct kvm_vcpu, arch.shadow_pid));\r\nDEFINE(VCPU_SHADOW_PID1, offsetof(struct kvm_vcpu, arch.shadow_pid1));\r\nDEFINE(VCPU_SHARED, offsetof(struct kvm_vcpu, arch.shared));\r\nDEFINE(VCPU_SHARED_MSR, offsetof(struct kvm_vcpu_arch_shared, msr));\r\nDEFINE(VCPU_SHADOW_MSR, offsetof(struct kvm_vcpu, arch.shadow_msr));\r\n#if defined(CONFIG_PPC_BOOK3S_64) && defined(CONFIG_KVM_BOOK3S_PR_POSSIBLE)\r\nDEFINE(VCPU_SHAREDBE, offsetof(struct kvm_vcpu, arch.shared_big_endian));\r\n#endif\r\nDEFINE(VCPU_SHARED_MAS0, offsetof(struct kvm_vcpu_arch_shared, mas0));\r\nDEFINE(VCPU_SHARED_MAS1, offsetof(struct kvm_vcpu_arch_shared, mas1));\r\nDEFINE(VCPU_SHARED_MAS2, offsetof(struct kvm_vcpu_arch_shared, mas2));\r\nDEFINE(VCPU_SHARED_MAS7_3, offsetof(struct kvm_vcpu_arch_shared, mas7_3));\r\nDEFINE(VCPU_SHARED_MAS4, offsetof(struct kvm_vcpu_arch_shared, mas4));\r\nDEFINE(VCPU_SHARED_MAS6, offsetof(struct kvm_vcpu_arch_shared, mas6));\r\nDEFINE(VCPU_KVM, offsetof(struct kvm_vcpu, kvm));\r\nDEFINE(KVM_LPID, offsetof(struct kvm, arch.lpid));\r\n#ifdef CONFIG_KVM_BOOK3S_HV_POSSIBLE\r\nDEFINE(KVM_SDR1, offsetof(struct kvm, arch.sdr1));\r\nDEFINE(KVM_HOST_LPID, offsetof(struct kvm, arch.host_lpid));\r\nDEFINE(KVM_HOST_LPCR, offsetof(struct kvm, arch.host_lpcr));\r\nDEFINE(KVM_HOST_SDR1, offsetof(struct kvm, arch.host_sdr1));\r\nDEFINE(KVM_TLBIE_LOCK, offsetof(struct kvm, arch.tlbie_lock));\r\nDEFINE(KVM_NEED_FLUSH, offsetof(struct kvm, arch.need_tlb_flush.bits));\r\nDEFINE(KVM_ENABLED_HCALLS, offsetof(struct kvm, arch.enabled_hcalls));\r\nDEFINE(KVM_LPCR, offsetof(struct kvm, arch.lpcr));\r\nDEFINE(KVM_RMOR, offsetof(struct kvm, arch.rmor));\r\nDEFINE(KVM_VRMA_SLB_V, offsetof(struct kvm, arch.vrma_slb_v));\r\nDEFINE(VCPU_DSISR, offsetof(struct kvm_vcpu, arch.shregs.dsisr));\r\nDEFINE(VCPU_DAR, offsetof(struct kvm_vcpu, arch.shregs.dar));\r\nDEFINE(VCPU_VPA, offsetof(struct kvm_vcpu, arch.vpa.pinned_addr));\r\nDEFINE(VCPU_VPA_DIRTY, offsetof(struct kvm_vcpu, arch.vpa.dirty));\r\n#endif\r\n#ifdef CONFIG_PPC_BOOK3S\r\nDEFINE(VCPU_VCPUID, offsetof(struct kvm_vcpu, vcpu_id));\r\nDEFINE(VCPU_PURR, offsetof(struct kvm_vcpu, arch.purr));\r\nDEFINE(VCPU_SPURR, offsetof(struct kvm_vcpu, arch.spurr));\r\nDEFINE(VCPU_IC, offsetof(struct kvm_vcpu, arch.ic));\r\nDEFINE(VCPU_VTB, offsetof(struct kvm_vcpu, arch.vtb));\r\nDEFINE(VCPU_DSCR, offsetof(struct kvm_vcpu, arch.dscr));\r\nDEFINE(VCPU_AMR, offsetof(struct kvm_vcpu, arch.amr));\r\nDEFINE(VCPU_UAMOR, offsetof(struct kvm_vcpu, arch.uamor));\r\nDEFINE(VCPU_IAMR, offsetof(struct kvm_vcpu, arch.iamr));\r\nDEFINE(VCPU_CTRL, offsetof(struct kvm_vcpu, arch.ctrl));\r\nDEFINE(VCPU_DABR, offsetof(struct kvm_vcpu, arch.dabr));\r\nDEFINE(VCPU_DABRX, offsetof(struct kvm_vcpu, arch.dabrx));\r\nDEFINE(VCPU_DAWR, offsetof(struct kvm_vcpu, arch.dawr));\r\nDEFINE(VCPU_DAWRX, offsetof(struct kvm_vcpu, arch.dawrx));\r\nDEFINE(VCPU_CIABR, offsetof(struct kvm_vcpu, arch.ciabr));\r\nDEFINE(VCPU_HFLAGS, offsetof(struct kvm_vcpu, arch.hflags));\r\nDEFINE(VCPU_DEC, offsetof(struct kvm_vcpu, arch.dec));\r\nDEFINE(VCPU_DEC_EXPIRES, offsetof(struct kvm_vcpu, arch.dec_expires));\r\nDEFINE(VCPU_PENDING_EXC, offsetof(struct kvm_vcpu, arch.pending_exceptions));\r\nDEFINE(VCPU_CEDED, offsetof(struct kvm_vcpu, arch.ceded));\r\nDEFINE(VCPU_PRODDED, offsetof(struct kvm_vcpu, arch.prodded));\r\nDEFINE(VCPU_MMCR, offsetof(struct kvm_vcpu, arch.mmcr));\r\nDEFINE(VCPU_PMC, offsetof(struct kvm_vcpu, arch.pmc));\r\nDEFINE(VCPU_SPMC, offsetof(struct kvm_vcpu, arch.spmc));\r\nDEFINE(VCPU_SIAR, offsetof(struct kvm_vcpu, arch.siar));\r\nDEFINE(VCPU_SDAR, offsetof(struct kvm_vcpu, arch.sdar));\r\nDEFINE(VCPU_SIER, offsetof(struct kvm_vcpu, arch.sier));\r\nDEFINE(VCPU_SLB, offsetof(struct kvm_vcpu, arch.slb));\r\nDEFINE(VCPU_SLB_MAX, offsetof(struct kvm_vcpu, arch.slb_max));\r\nDEFINE(VCPU_SLB_NR, offsetof(struct kvm_vcpu, arch.slb_nr));\r\nDEFINE(VCPU_FAULT_DSISR, offsetof(struct kvm_vcpu, arch.fault_dsisr));\r\nDEFINE(VCPU_FAULT_DAR, offsetof(struct kvm_vcpu, arch.fault_dar));\r\nDEFINE(VCPU_INTR_MSR, offsetof(struct kvm_vcpu, arch.intr_msr));\r\nDEFINE(VCPU_LAST_INST, offsetof(struct kvm_vcpu, arch.last_inst));\r\nDEFINE(VCPU_TRAP, offsetof(struct kvm_vcpu, arch.trap));\r\nDEFINE(VCPU_CFAR, offsetof(struct kvm_vcpu, arch.cfar));\r\nDEFINE(VCPU_PPR, offsetof(struct kvm_vcpu, arch.ppr));\r\nDEFINE(VCPU_FSCR, offsetof(struct kvm_vcpu, arch.fscr));\r\nDEFINE(VCPU_SHADOW_FSCR, offsetof(struct kvm_vcpu, arch.shadow_fscr));\r\nDEFINE(VCPU_PSPB, offsetof(struct kvm_vcpu, arch.pspb));\r\nDEFINE(VCPU_EBBHR, offsetof(struct kvm_vcpu, arch.ebbhr));\r\nDEFINE(VCPU_EBBRR, offsetof(struct kvm_vcpu, arch.ebbrr));\r\nDEFINE(VCPU_BESCR, offsetof(struct kvm_vcpu, arch.bescr));\r\nDEFINE(VCPU_CSIGR, offsetof(struct kvm_vcpu, arch.csigr));\r\nDEFINE(VCPU_TACR, offsetof(struct kvm_vcpu, arch.tacr));\r\nDEFINE(VCPU_TCSCR, offsetof(struct kvm_vcpu, arch.tcscr));\r\nDEFINE(VCPU_ACOP, offsetof(struct kvm_vcpu, arch.acop));\r\nDEFINE(VCPU_WORT, offsetof(struct kvm_vcpu, arch.wort));\r\nDEFINE(VCPU_SHADOW_SRR1, offsetof(struct kvm_vcpu, arch.shadow_srr1));\r\nDEFINE(VCORE_ENTRY_EXIT, offsetof(struct kvmppc_vcore, entry_exit_count));\r\nDEFINE(VCORE_NAP_COUNT, offsetof(struct kvmppc_vcore, nap_count));\r\nDEFINE(VCORE_IN_GUEST, offsetof(struct kvmppc_vcore, in_guest));\r\nDEFINE(VCORE_NAPPING_THREADS, offsetof(struct kvmppc_vcore, napping_threads));\r\nDEFINE(VCORE_KVM, offsetof(struct kvmppc_vcore, kvm));\r\nDEFINE(VCORE_TB_OFFSET, offsetof(struct kvmppc_vcore, tb_offset));\r\nDEFINE(VCORE_LPCR, offsetof(struct kvmppc_vcore, lpcr));\r\nDEFINE(VCORE_PCR, offsetof(struct kvmppc_vcore, pcr));\r\nDEFINE(VCORE_DPDES, offsetof(struct kvmppc_vcore, dpdes));\r\nDEFINE(VCPU_SLB_E, offsetof(struct kvmppc_slb, orige));\r\nDEFINE(VCPU_SLB_V, offsetof(struct kvmppc_slb, origv));\r\nDEFINE(VCPU_SLB_SIZE, sizeof(struct kvmppc_slb));\r\n#ifdef CONFIG_PPC_TRANSACTIONAL_MEM\r\nDEFINE(VCPU_TFHAR, offsetof(struct kvm_vcpu, arch.tfhar));\r\nDEFINE(VCPU_TFIAR, offsetof(struct kvm_vcpu, arch.tfiar));\r\nDEFINE(VCPU_TEXASR, offsetof(struct kvm_vcpu, arch.texasr));\r\nDEFINE(VCPU_GPR_TM, offsetof(struct kvm_vcpu, arch.gpr_tm));\r\nDEFINE(VCPU_FPRS_TM, offsetof(struct kvm_vcpu, arch.fp_tm.fpr));\r\nDEFINE(VCPU_VRS_TM, offsetof(struct kvm_vcpu, arch.vr_tm.vr));\r\nDEFINE(VCPU_VRSAVE_TM, offsetof(struct kvm_vcpu, arch.vrsave_tm));\r\nDEFINE(VCPU_CR_TM, offsetof(struct kvm_vcpu, arch.cr_tm));\r\nDEFINE(VCPU_LR_TM, offsetof(struct kvm_vcpu, arch.lr_tm));\r\nDEFINE(VCPU_CTR_TM, offsetof(struct kvm_vcpu, arch.ctr_tm));\r\nDEFINE(VCPU_AMR_TM, offsetof(struct kvm_vcpu, arch.amr_tm));\r\nDEFINE(VCPU_PPR_TM, offsetof(struct kvm_vcpu, arch.ppr_tm));\r\nDEFINE(VCPU_DSCR_TM, offsetof(struct kvm_vcpu, arch.dscr_tm));\r\nDEFINE(VCPU_TAR_TM, offsetof(struct kvm_vcpu, arch.tar_tm));\r\n#endif\r\n#ifdef CONFIG_PPC_BOOK3S_64\r\n#ifdef CONFIG_KVM_BOOK3S_PR_POSSIBLE\r\nDEFINE(PACA_SVCPU, offsetof(struct paca_struct, shadow_vcpu));\r\n# define SVCPU_FIELD(x, f) DEFINE(x, offsetof(struct paca_struct, shadow_vcpu.f))\r\n#else\r\n# define SVCPU_FIELD(x, f)\r\n#endif\r\n# define HSTATE_FIELD(x, f) DEFINE(x, offsetof(struct paca_struct, kvm_hstate.f))\r\n#else\r\n# define SVCPU_FIELD(x, f) DEFINE(x, offsetof(struct kvmppc_book3s_shadow_vcpu, f))\r\n# define HSTATE_FIELD(x, f) DEFINE(x, offsetof(struct kvmppc_book3s_shadow_vcpu, hstate.f))\r\n#endif\r\nSVCPU_FIELD(SVCPU_CR, cr);\r\nSVCPU_FIELD(SVCPU_XER, xer);\r\nSVCPU_FIELD(SVCPU_CTR, ctr);\r\nSVCPU_FIELD(SVCPU_LR, lr);\r\nSVCPU_FIELD(SVCPU_PC, pc);\r\nSVCPU_FIELD(SVCPU_R0, gpr[0]);\r\nSVCPU_FIELD(SVCPU_R1, gpr[1]);\r\nSVCPU_FIELD(SVCPU_R2, gpr[2]);\r\nSVCPU_FIELD(SVCPU_R3, gpr[3]);\r\nSVCPU_FIELD(SVCPU_R4, gpr[4]);\r\nSVCPU_FIELD(SVCPU_R5, gpr[5]);\r\nSVCPU_FIELD(SVCPU_R6, gpr[6]);\r\nSVCPU_FIELD(SVCPU_R7, gpr[7]);\r\nSVCPU_FIELD(SVCPU_R8, gpr[8]);\r\nSVCPU_FIELD(SVCPU_R9, gpr[9]);\r\nSVCPU_FIELD(SVCPU_R10, gpr[10]);\r\nSVCPU_FIELD(SVCPU_R11, gpr[11]);\r\nSVCPU_FIELD(SVCPU_R12, gpr[12]);\r\nSVCPU_FIELD(SVCPU_R13, gpr[13]);\r\nSVCPU_FIELD(SVCPU_FAULT_DSISR, fault_dsisr);\r\nSVCPU_FIELD(SVCPU_FAULT_DAR, fault_dar);\r\nSVCPU_FIELD(SVCPU_LAST_INST, last_inst);\r\nSVCPU_FIELD(SVCPU_SHADOW_SRR1, shadow_srr1);\r\n#ifdef CONFIG_PPC_BOOK3S_32\r\nSVCPU_FIELD(SVCPU_SR, sr);\r\n#endif\r\n#ifdef CONFIG_PPC64\r\nSVCPU_FIELD(SVCPU_SLB, slb);\r\nSVCPU_FIELD(SVCPU_SLB_MAX, slb_max);\r\nSVCPU_FIELD(SVCPU_SHADOW_FSCR, shadow_fscr);\r\n#endif\r\nHSTATE_FIELD(HSTATE_HOST_R1, host_r1);\r\nHSTATE_FIELD(HSTATE_HOST_R2, host_r2);\r\nHSTATE_FIELD(HSTATE_HOST_MSR, host_msr);\r\nHSTATE_FIELD(HSTATE_VMHANDLER, vmhandler);\r\nHSTATE_FIELD(HSTATE_SCRATCH0, scratch0);\r\nHSTATE_FIELD(HSTATE_SCRATCH1, scratch1);\r\nHSTATE_FIELD(HSTATE_SCRATCH2, scratch2);\r\nHSTATE_FIELD(HSTATE_IN_GUEST, in_guest);\r\nHSTATE_FIELD(HSTATE_RESTORE_HID5, restore_hid5);\r\nHSTATE_FIELD(HSTATE_NAPPING, napping);\r\n#ifdef CONFIG_KVM_BOOK3S_HV_POSSIBLE\r\nHSTATE_FIELD(HSTATE_HWTHREAD_REQ, hwthread_req);\r\nHSTATE_FIELD(HSTATE_HWTHREAD_STATE, hwthread_state);\r\nHSTATE_FIELD(HSTATE_KVM_VCPU, kvm_vcpu);\r\nHSTATE_FIELD(HSTATE_KVM_VCORE, kvm_vcore);\r\nHSTATE_FIELD(HSTATE_XICS_PHYS, xics_phys);\r\nHSTATE_FIELD(HSTATE_SAVED_XIRR, saved_xirr);\r\nHSTATE_FIELD(HSTATE_HOST_IPI, host_ipi);\r\nHSTATE_FIELD(HSTATE_PTID, ptid);\r\nHSTATE_FIELD(HSTATE_MMCR, host_mmcr);\r\nHSTATE_FIELD(HSTATE_PMC, host_pmc);\r\nHSTATE_FIELD(HSTATE_PURR, host_purr);\r\nHSTATE_FIELD(HSTATE_SPURR, host_spurr);\r\nHSTATE_FIELD(HSTATE_DSCR, host_dscr);\r\nHSTATE_FIELD(HSTATE_DABR, dabr);\r\nHSTATE_FIELD(HSTATE_DECEXP, dec_expires);\r\nDEFINE(IPI_PRIORITY, IPI_PRIORITY);\r\n#endif\r\n#ifdef CONFIG_PPC_BOOK3S_64\r\nHSTATE_FIELD(HSTATE_CFAR, cfar);\r\nHSTATE_FIELD(HSTATE_PPR, ppr);\r\nHSTATE_FIELD(HSTATE_HOST_FSCR, host_fscr);\r\n#endif\r\n#else\r\nDEFINE(VCPU_CR, offsetof(struct kvm_vcpu, arch.cr));\r\nDEFINE(VCPU_XER, offsetof(struct kvm_vcpu, arch.xer));\r\nDEFINE(VCPU_LR, offsetof(struct kvm_vcpu, arch.lr));\r\nDEFINE(VCPU_CTR, offsetof(struct kvm_vcpu, arch.ctr));\r\nDEFINE(VCPU_PC, offsetof(struct kvm_vcpu, arch.pc));\r\nDEFINE(VCPU_SPRG9, offsetof(struct kvm_vcpu, arch.sprg9));\r\nDEFINE(VCPU_LAST_INST, offsetof(struct kvm_vcpu, arch.last_inst));\r\nDEFINE(VCPU_FAULT_DEAR, offsetof(struct kvm_vcpu, arch.fault_dear));\r\nDEFINE(VCPU_FAULT_ESR, offsetof(struct kvm_vcpu, arch.fault_esr));\r\nDEFINE(VCPU_CRIT_SAVE, offsetof(struct kvm_vcpu, arch.crit_save));\r\n#endif\r\n#endif\r\n#ifdef CONFIG_KVM_GUEST\r\nDEFINE(KVM_MAGIC_SCRATCH1, offsetof(struct kvm_vcpu_arch_shared,\r\nscratch1));\r\nDEFINE(KVM_MAGIC_SCRATCH2, offsetof(struct kvm_vcpu_arch_shared,\r\nscratch2));\r\nDEFINE(KVM_MAGIC_SCRATCH3, offsetof(struct kvm_vcpu_arch_shared,\r\nscratch3));\r\nDEFINE(KVM_MAGIC_INT, offsetof(struct kvm_vcpu_arch_shared,\r\nint_pending));\r\nDEFINE(KVM_MAGIC_MSR, offsetof(struct kvm_vcpu_arch_shared, msr));\r\nDEFINE(KVM_MAGIC_CRITICAL, offsetof(struct kvm_vcpu_arch_shared,\r\ncritical));\r\nDEFINE(KVM_MAGIC_SR, offsetof(struct kvm_vcpu_arch_shared, sr));\r\n#endif\r\n#ifdef CONFIG_44x\r\nDEFINE(PGD_T_LOG2, PGD_T_LOG2);\r\nDEFINE(PTE_T_LOG2, PTE_T_LOG2);\r\n#endif\r\n#ifdef CONFIG_PPC_FSL_BOOK3E\r\nDEFINE(TLBCAM_SIZE, sizeof(struct tlbcam));\r\nDEFINE(TLBCAM_MAS0, offsetof(struct tlbcam, MAS0));\r\nDEFINE(TLBCAM_MAS1, offsetof(struct tlbcam, MAS1));\r\nDEFINE(TLBCAM_MAS2, offsetof(struct tlbcam, MAS2));\r\nDEFINE(TLBCAM_MAS3, offsetof(struct tlbcam, MAS3));\r\nDEFINE(TLBCAM_MAS7, offsetof(struct tlbcam, MAS7));\r\n#endif\r\n#if defined(CONFIG_KVM) && defined(CONFIG_SPE)\r\nDEFINE(VCPU_EVR, offsetof(struct kvm_vcpu, arch.evr[0]));\r\nDEFINE(VCPU_ACC, offsetof(struct kvm_vcpu, arch.acc));\r\nDEFINE(VCPU_SPEFSCR, offsetof(struct kvm_vcpu, arch.spefscr));\r\nDEFINE(VCPU_HOST_SPEFSCR, offsetof(struct kvm_vcpu, arch.host_spefscr));\r\n#endif\r\n#ifdef CONFIG_KVM_BOOKE_HV\r\nDEFINE(VCPU_HOST_MAS4, offsetof(struct kvm_vcpu, arch.host_mas4));\r\nDEFINE(VCPU_HOST_MAS6, offsetof(struct kvm_vcpu, arch.host_mas6));\r\nDEFINE(VCPU_EPLC, offsetof(struct kvm_vcpu, arch.eplc));\r\n#endif\r\n#ifdef CONFIG_KVM_EXIT_TIMING\r\nDEFINE(VCPU_TIMING_EXIT_TBU, offsetof(struct kvm_vcpu,\r\narch.timing_exit.tv32.tbu));\r\nDEFINE(VCPU_TIMING_EXIT_TBL, offsetof(struct kvm_vcpu,\r\narch.timing_exit.tv32.tbl));\r\nDEFINE(VCPU_TIMING_LAST_ENTER_TBU, offsetof(struct kvm_vcpu,\r\narch.timing_last_enter.tv32.tbu));\r\nDEFINE(VCPU_TIMING_LAST_ENTER_TBL, offsetof(struct kvm_vcpu,\r\narch.timing_last_enter.tv32.tbl));\r\n#endif\r\n#ifdef CONFIG_PPC_POWERNV\r\nDEFINE(OPAL_MC_GPR3, offsetof(struct opal_machine_check_event, gpr3));\r\nDEFINE(OPAL_MC_SRR0, offsetof(struct opal_machine_check_event, srr0));\r\nDEFINE(OPAL_MC_SRR1, offsetof(struct opal_machine_check_event, srr1));\r\nDEFINE(PACA_OPAL_MC_EVT, offsetof(struct paca_struct, opal_mc_evt));\r\n#endif\r\nreturn 0;\r\n}
