void __init omap_ads7846_init(int bus_num, int gpio_pendown, int gpio_debounce,\r\nstruct ads7846_platform_data *board_pdata)\r\n{\r\nstruct spi_board_info *spi_bi = &ads7846_spi_board_info;\r\nint err;\r\nif (board_pdata && board_pdata->get_pendown_state) {\r\nerr = gpio_request_one(gpio_pendown, GPIOF_IN, "TSPenDown");\r\nif (err) {\r\npr_err("Couldn't obtain gpio for TSPenDown: %d\n", err);\r\nreturn;\r\n}\r\nif (gpio_debounce)\r\ngpio_set_debounce(gpio_pendown, gpio_debounce);\r\ngpio_export(gpio_pendown, 0);\r\n}\r\nspi_bi->bus_num = bus_num;\r\nspi_bi->irq = gpio_to_irq(gpio_pendown);\r\nads7846_config.gpio_pendown = gpio_pendown;\r\nif (board_pdata) {\r\nboard_pdata->gpio_pendown = gpio_pendown;\r\nboard_pdata->gpio_pendown_debounce = gpio_debounce;\r\nspi_bi->platform_data = board_pdata;\r\n}\r\nspi_register_board_info(&ads7846_spi_board_info, 1);\r\n}\r\nvoid __init omap_ads7846_init(int bus_num, int gpio_pendown, int gpio_debounce,\r\nstruct ads7846_platform_data *board_pdata)\r\n{\r\n}
