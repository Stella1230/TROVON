void SwLedOn23a(struct rtw_adapter *padapter, struct led_8723a *pLed)\r\n{\r\nu8 LedCfg = 0;\r\nif ((padapter->bSurpriseRemoved == true) || (padapter->bDriverStopped == true))\r\nreturn;\r\nswitch (pLed->LedPin) {\r\ncase LED_PIN_GPIO0:\r\nbreak;\r\ncase LED_PIN_LED0:\r\nrtl8723au_write8(padapter, REG_LEDCFG0,\r\n(LedCfg&0xf0)|BIT(5)|BIT(6));\r\nbreak;\r\ncase LED_PIN_LED1:\r\nrtl8723au_write8(padapter, REG_LEDCFG1, (LedCfg&0x00)|BIT(6));\r\nbreak;\r\ncase LED_PIN_LED2:\r\nLedCfg = rtl8723au_read8(padapter, REG_LEDCFG2);\r\nrtl8723au_write8(padapter, REG_LEDCFG2, (LedCfg&0x80)|BIT(5));\r\nbreak;\r\ndefault:\r\nbreak;\r\n}\r\npLed->bLedOn = true;\r\n}\r\nvoid SwLedOff23a(struct rtw_adapter *padapter, struct led_8723a *pLed)\r\n{\r\nu8 LedCfg = 0;\r\nif ((padapter->bSurpriseRemoved) || (padapter->bDriverStopped))\r\ngoto exit;\r\nswitch (pLed->LedPin) {\r\ncase LED_PIN_GPIO0:\r\nbreak;\r\ncase LED_PIN_LED0:\r\nrtl8723au_write8(padapter, REG_LEDCFG0,\r\n(LedCfg&0xf0)|BIT(5)|BIT(6));\r\nbreak;\r\ncase LED_PIN_LED1:\r\nrtl8723au_write8(padapter, REG_LEDCFG1,\r\n(LedCfg&0x00)|BIT(5)|BIT(6));\r\nbreak;\r\ncase LED_PIN_LED2:\r\nLedCfg = rtl8723au_read8(padapter, REG_LEDCFG2);\r\nrtl8723au_write8(padapter, REG_LEDCFG2,\r\n(LedCfg&0x80)|BIT(3)|BIT(5));\r\nbreak;\r\ndefault:\r\nbreak;\r\n}\r\nexit:\r\npLed->bLedOn = false;\r\n}\r\nvoid\r\nrtl8723au_InitSwLeds(struct rtw_adapter *padapter)\r\n{\r\nstruct led_priv *pledpriv = &padapter->ledpriv;\r\npledpriv->LedControlHandler = LedControl871x23a;\r\nInitLed871x23a(padapter, &pledpriv->SwLed0, LED_PIN_LED2);\r\n}\r\nvoid\r\nrtl8723au_DeInitSwLeds(struct rtw_adapter *padapter)\r\n{\r\nstruct led_priv *ledpriv = &padapter->ledpriv;\r\nDeInitLed871x23a(&ledpriv->SwLed0);\r\n}
