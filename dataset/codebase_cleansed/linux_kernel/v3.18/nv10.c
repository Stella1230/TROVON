int\r\nnv10_identify(struct nouveau_device *device)\r\n{\r\nswitch (device->chipset) {\r\ncase 0x10:\r\ndevice->cname = "NV10";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nouveau_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLOCK ] = &nv04_clock_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = nv10_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = nv04_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = nv10_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_VM ] = &nv04_vmmgr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv10_graph_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = nv04_disp_oclass;\r\nbreak;\r\ncase 0x15:\r\ndevice->cname = "NV15";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nouveau_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLOCK ] = &nv04_clock_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = nv10_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = nv04_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = nv10_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_VM ] = &nv04_vmmgr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = nv10_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = nv10_software_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv10_graph_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = nv04_disp_oclass;\r\nbreak;\r\ncase 0x16:\r\ndevice->cname = "NV16";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nouveau_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLOCK ] = &nv04_clock_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = nv10_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = nv04_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = nv10_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_VM ] = &nv04_vmmgr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = nv10_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = nv10_software_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv10_graph_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = nv04_disp_oclass;\r\nbreak;\r\ncase 0x1a:\r\ndevice->cname = "nForce";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nouveau_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLOCK ] = &nv04_clock_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = nv1a_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = nv04_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = nv1a_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_VM ] = &nv04_vmmgr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = nv10_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = nv10_software_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv10_graph_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = nv04_disp_oclass;\r\nbreak;\r\ncase 0x11:\r\ndevice->cname = "NV11";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nouveau_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLOCK ] = &nv04_clock_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = nv10_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = nv04_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = nv10_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_VM ] = &nv04_vmmgr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = nv10_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = nv10_software_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv10_graph_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = nv04_disp_oclass;\r\nbreak;\r\ncase 0x17:\r\ndevice->cname = "NV17";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nouveau_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLOCK ] = &nv04_clock_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = nv10_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = nv04_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = nv10_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_VM ] = &nv04_vmmgr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = nv17_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = nv10_software_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv10_graph_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = nv04_disp_oclass;\r\nbreak;\r\ncase 0x1f:\r\ndevice->cname = "nForce2";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nouveau_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLOCK ] = &nv04_clock_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = nv1a_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = nv04_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = nv1a_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_VM ] = &nv04_vmmgr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = nv17_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = nv10_software_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv10_graph_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = nv04_disp_oclass;\r\nbreak;\r\ncase 0x18:\r\ndevice->cname = "NV18";\r\ndevice->oclass[NVDEV_SUBDEV_VBIOS ] = &nouveau_bios_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_GPIO ] = nv10_gpio_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_I2C ] = nv04_i2c_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_CLOCK ] = &nv04_clock_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_DEVINIT] = nv10_devinit_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_MC ] = nv04_mc_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_BUS ] = nv04_bus_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_TIMER ] = &nv04_timer_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_FB ] = nv10_fb_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_INSTMEM] = nv04_instmem_oclass;\r\ndevice->oclass[NVDEV_SUBDEV_VM ] = &nv04_vmmgr_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DMAOBJ ] = nv04_dmaeng_oclass;\r\ndevice->oclass[NVDEV_ENGINE_FIFO ] = nv17_fifo_oclass;\r\ndevice->oclass[NVDEV_ENGINE_SW ] = nv10_software_oclass;\r\ndevice->oclass[NVDEV_ENGINE_GR ] = &nv10_graph_oclass;\r\ndevice->oclass[NVDEV_ENGINE_DISP ] = nv04_disp_oclass;\r\nbreak;\r\ndefault:\r\nnv_fatal(device, "unknown Celsius chipset\n");\r\nreturn -EINVAL;\r\n}\r\nreturn 0;\r\n}
