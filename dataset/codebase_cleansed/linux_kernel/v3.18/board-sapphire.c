static void __init sapphire_init_irq(void)\r\n{\r\nmsm_init_irq();\r\n}\r\nstatic void __init sapphire_init(void)\r\n{\r\nplatform_add_devices(devices, ARRAY_SIZE(devices));\r\n}\r\nstatic void __init sapphire_fixup(struct tag *tags, char **cmdline)\r\n{\r\nint smi_sz = parse_tag_smi((const struct tag *)tags);\r\nif (smi_sz == 32) {\r\nmemblock_add(PHYS_OFFSET, 84*SZ_1M);\r\n} else if (smi_sz == 64) {\r\nmemblock_add(PHYS_OFFSET, 101*SZ_1M);\r\n} else {\r\nmemblock_add(PHYS_OFFSET, 101*SZ_1M);\r\nsmi_sz = 64;\r\n}\r\n}\r\nstatic void __init sapphire_map_io(void)\r\n{\r\nmsm_map_common_io();\r\niotable_init(sapphire_io_desc, ARRAY_SIZE(sapphire_io_desc));\r\nmsm_clock_init();\r\n}\r\nstatic void __init sapphire_init_late(void)\r\n{\r\nsmd_debugfs_init();\r\n}
