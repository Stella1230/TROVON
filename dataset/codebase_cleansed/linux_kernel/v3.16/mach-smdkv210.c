static void smdkv210_lte480wv_set_power(struct plat_lcd_data *pd,\r\nunsigned int power)\r\n{\r\nif (power) {\r\n#if !defined(CONFIG_BACKLIGHT_PWM)\r\ngpio_request_one(S5PV210_GPD0(3), GPIOF_OUT_INIT_HIGH, "GPD0");\r\ngpio_free(S5PV210_GPD0(3));\r\n#endif\r\ngpio_request_one(S5PV210_GPH0(6), GPIOF_OUT_INIT_HIGH, "GPH0");\r\ngpio_set_value(S5PV210_GPH0(6), 0);\r\nmdelay(10);\r\ngpio_set_value(S5PV210_GPH0(6), 1);\r\nmdelay(10);\r\ngpio_free(S5PV210_GPH0(6));\r\n} else {\r\n#if !defined(CONFIG_BACKLIGHT_PWM)\r\ngpio_request_one(S5PV210_GPD0(3), GPIOF_OUT_INIT_LOW, "GPD0");\r\ngpio_free(S5PV210_GPD0(3));\r\n#endif\r\n}\r\n}\r\nstatic void __init smdkv210_dm9000_init(void)\r\n{\r\nunsigned int tmp;\r\ngpio_request(S5PV210_MP01(5), "nCS5");\r\ns3c_gpio_cfgpin(S5PV210_MP01(5), S3C_GPIO_SFN(2));\r\ngpio_free(S5PV210_MP01(5));\r\ntmp = (5 << S5P_SROM_BCX__TACC__SHIFT);\r\n__raw_writel(tmp, S5P_SROM_BC5);\r\ntmp = __raw_readl(S5P_SROM_BW);\r\ntmp &= (S5P_SROM_BW__CS_MASK << S5P_SROM_BW__NCS5__SHIFT);\r\ntmp |= (1 << S5P_SROM_BW__NCS5__SHIFT);\r\n__raw_writel(tmp, S5P_SROM_BW);\r\n}\r\nstatic void __init smdkv210_map_io(void)\r\n{\r\ns5pv210_init_io(NULL, 0);\r\ns3c24xx_init_clocks(clk_xusbxti.rate);\r\ns3c24xx_init_uarts(smdkv210_uartcfgs, ARRAY_SIZE(smdkv210_uartcfgs));\r\nsamsung_set_timer_source(SAMSUNG_PWM2, SAMSUNG_PWM4);\r\n}\r\nstatic void __init smdkv210_reserve(void)\r\n{\r\ns5p_mfc_reserve_mem(0x43000000, 8 << 20, 0x51000000, 8 << 20);\r\n}\r\nstatic void __init smdkv210_machine_init(void)\r\n{\r\ns3c_pm_init();\r\nsmdkv210_dm9000_init();\r\nsamsung_keypad_set_platdata(&smdkv210_keypad_data);\r\ns3c24xx_ts_set_platdata(NULL);\r\ns3c_i2c0_set_platdata(NULL);\r\ns3c_i2c1_set_platdata(NULL);\r\ns3c_i2c2_set_platdata(NULL);\r\ni2c_register_board_info(0, smdkv210_i2c_devs0,\r\nARRAY_SIZE(smdkv210_i2c_devs0));\r\ni2c_register_board_info(1, smdkv210_i2c_devs1,\r\nARRAY_SIZE(smdkv210_i2c_devs1));\r\ni2c_register_board_info(2, smdkv210_i2c_devs2,\r\nARRAY_SIZE(smdkv210_i2c_devs2));\r\ns3c_ide_set_platdata(&smdkv210_ide_pdata);\r\ns3c_fb_set_platdata(&smdkv210_lcd0_pdata);\r\ns3c_hsotg_set_platdata(&smdkv210_hsotg_pdata);\r\nplatform_add_devices(smdkv210_devices, ARRAY_SIZE(smdkv210_devices));\r\nsamsung_bl_set(&smdkv210_bl_gpio_info, &smdkv210_bl_data);\r\n}
