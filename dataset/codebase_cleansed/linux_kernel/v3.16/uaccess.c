__kernel_size_t __clear_user_hexagon(void __user *dest, unsigned long count)\r\n{\r\nlong uncleared;\r\nwhile (count > PAGE_SIZE) {\r\nuncleared = __copy_to_user_hexagon(dest, &empty_zero_page,\r\nPAGE_SIZE);\r\nif (uncleared)\r\nreturn count - (PAGE_SIZE - uncleared);\r\ncount -= PAGE_SIZE;\r\ndest += PAGE_SIZE;\r\n}\r\nif (count)\r\ncount = __copy_to_user_hexagon(dest, &empty_zero_page, count);\r\nreturn count;\r\n}\r\nunsigned long clear_user_hexagon(void __user *dest, unsigned long count)\r\n{\r\nif (!access_ok(VERIFY_WRITE, dest, count))\r\nreturn count;\r\nelse\r\nreturn __clear_user_hexagon(dest, count);\r\n}
