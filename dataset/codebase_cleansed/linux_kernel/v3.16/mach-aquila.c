static void __init aquila_pmic_init(void)\r\n{\r\ns3c_gpio_cfgpin(S5PV210_GPH0(7), S3C_GPIO_SFN(0xf));\r\ns3c_gpio_setpull(S5PV210_GPH0(7), S3C_GPIO_PULL_UP);\r\ns3c_gpio_cfgpin(S5PV210_GPH2(6), S3C_GPIO_SFN(0xf));\r\ns3c_gpio_setpull(S5PV210_GPH2(6), S3C_GPIO_PULL_UP);\r\n}\r\nstatic void aquila_setup_sdhci(void)\r\n{\r\ngpio_request_one(AQUILA_EXT_FLASH_EN, GPIOF_OUT_INIT_HIGH, "FLASH_EN");\r\ns3c_sdhci0_set_platdata(&aquila_hsmmc0_data);\r\ns3c_sdhci1_set_platdata(&aquila_hsmmc1_data);\r\ns3c_sdhci2_set_platdata(&aquila_hsmmc2_data);\r\n}\r\nstatic void __init aquila_sound_init(void)\r\n{\r\nunsigned int gpio;\r\ngpio = S5PV210_GPH3(2);\r\ngpio_request(gpio, "CODEC_XTAL_EN");\r\ns3c_gpio_cfgpin(gpio, S3C_GPIO_OUTPUT);\r\ns3c_gpio_setpull(gpio, S3C_GPIO_PULL_NONE);\r\n__raw_writel(__raw_readl(S5P_OTHERS) | (0x3 << 8), S5P_OTHERS);\r\n}\r\nstatic void __init aquila_map_io(void)\r\n{\r\ns5pv210_init_io(NULL, 0);\r\ns3c24xx_init_clocks(24000000);\r\ns3c24xx_init_uarts(aquila_uartcfgs, ARRAY_SIZE(aquila_uartcfgs));\r\nsamsung_set_timer_source(SAMSUNG_PWM3, SAMSUNG_PWM4);\r\n}\r\nstatic void __init aquila_machine_init(void)\r\n{\r\naquila_pmic_init();\r\ni2c_register_board_info(AP_I2C_GPIO_PMIC_BUS_4, i2c_gpio_pmic_devs,\r\nARRAY_SIZE(i2c_gpio_pmic_devs));\r\naquila_setup_sdhci();\r\ns3c_fimc_setname(0, "s5p-fimc");\r\ns3c_fimc_setname(1, "s5p-fimc");\r\ns3c_fimc_setname(2, "s5p-fimc");\r\naquila_sound_init();\r\ni2c_register_board_info(AP_I2C_GPIO_BUS_5, i2c_gpio5_devs,\r\nARRAY_SIZE(i2c_gpio5_devs));\r\ns3c_fb_set_platdata(&aquila_lcd_pdata);\r\nplatform_add_devices(aquila_devices, ARRAY_SIZE(aquila_devices));\r\n}
