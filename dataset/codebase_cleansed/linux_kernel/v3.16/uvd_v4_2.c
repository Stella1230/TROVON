int uvd_v4_2_resume(struct radeon_device *rdev)\r\n{\r\nuint64_t addr;\r\nuint32_t size;\r\naddr = rdev->uvd.gpu_addr >> 3;\r\nsize = RADEON_GPU_PAGE_ALIGN(rdev->uvd_fw->size + 4) >> 3;\r\nWREG32(UVD_VCPU_CACHE_OFFSET0, addr);\r\nWREG32(UVD_VCPU_CACHE_SIZE0, size);\r\naddr += size;\r\nsize = RADEON_UVD_STACK_SIZE >> 3;\r\nWREG32(UVD_VCPU_CACHE_OFFSET1, addr);\r\nWREG32(UVD_VCPU_CACHE_SIZE1, size);\r\naddr += size;\r\nsize = RADEON_UVD_HEAP_SIZE >> 3;\r\nWREG32(UVD_VCPU_CACHE_OFFSET2, addr);\r\nWREG32(UVD_VCPU_CACHE_SIZE2, size);\r\naddr = (rdev->uvd.gpu_addr >> 28) & 0xF;\r\nWREG32(UVD_LMI_ADDR_EXT, (addr << 12) | (addr << 0));\r\naddr = (rdev->uvd.gpu_addr >> 32) & 0xFF;\r\nWREG32(UVD_LMI_EXT40_ADDR, addr | (0x9 << 16) | (0x1 << 31));\r\nreturn 0;\r\n}
