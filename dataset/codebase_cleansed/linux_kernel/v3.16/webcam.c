static int __init\r\nwebcam_config_bind(struct usb_configuration *c)\r\n{\r\nreturn uvc_bind_config(c, uvc_fs_control_cls, uvc_ss_control_cls,\r\nuvc_fs_streaming_cls, uvc_hs_streaming_cls,\r\nuvc_ss_streaming_cls);\r\n}\r\nstatic int\r\nwebcam_unbind(struct usb_composite_dev *cdev)\r\n{\r\nreturn 0;\r\n}\r\nstatic int __init\r\nwebcam_bind(struct usb_composite_dev *cdev)\r\n{\r\nint ret;\r\nret = usb_string_ids_tab(cdev, webcam_strings);\r\nif (ret < 0)\r\ngoto error;\r\nwebcam_device_descriptor.iManufacturer =\r\nwebcam_strings[USB_GADGET_MANUFACTURER_IDX].id;\r\nwebcam_device_descriptor.iProduct =\r\nwebcam_strings[USB_GADGET_PRODUCT_IDX].id;\r\nwebcam_config_driver.iConfiguration =\r\nwebcam_strings[STRING_DESCRIPTION_IDX].id;\r\nif ((ret = usb_add_config(cdev, &webcam_config_driver,\r\nwebcam_config_bind)) < 0)\r\ngoto error;\r\nusb_composite_overwrite_options(cdev, &coverwrite);\r\nINFO(cdev, "Webcam Video Gadget\n");\r\nreturn 0;\r\nerror:\r\nwebcam_unbind(cdev);\r\nreturn ret;\r\n}\r\nstatic int __init\r\nwebcam_init(void)\r\n{\r\nreturn usb_composite_probe(&webcam_driver);\r\n}\r\nstatic void __exit\r\nwebcam_cleanup(void)\r\n{\r\nusb_composite_unregister(&webcam_driver);\r\n}
