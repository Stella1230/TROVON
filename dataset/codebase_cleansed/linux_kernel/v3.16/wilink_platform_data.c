int __init wl12xx_set_platform_data(const struct wl12xx_platform_data *data)\r\n{\r\nif (wl12xx_platform_data)\r\nreturn -EBUSY;\r\nif (!data)\r\nreturn -EINVAL;\r\nwl12xx_platform_data = kmemdup(data, sizeof(*data), GFP_KERNEL);\r\nif (!wl12xx_platform_data)\r\nreturn -ENOMEM;\r\nreturn 0;\r\n}\r\nstruct wl12xx_platform_data *wl12xx_get_platform_data(void)\r\n{\r\nif (!wl12xx_platform_data)\r\nreturn ERR_PTR(-ENODEV);\r\nreturn wl12xx_platform_data;\r\n}\r\nint __init wl1251_set_platform_data(const struct wl1251_platform_data *data)\r\n{\r\nif (wl1251_platform_data)\r\nreturn -EBUSY;\r\nif (!data)\r\nreturn -EINVAL;\r\nwl1251_platform_data = kmemdup(data, sizeof(*data), GFP_KERNEL);\r\nif (!wl1251_platform_data)\r\nreturn -ENOMEM;\r\nreturn 0;\r\n}\r\nstruct wl1251_platform_data *wl1251_get_platform_data(void)\r\n{\r\nif (!wl1251_platform_data)\r\nreturn ERR_PTR(-ENODEV);\r\nreturn wl1251_platform_data;\r\n}
