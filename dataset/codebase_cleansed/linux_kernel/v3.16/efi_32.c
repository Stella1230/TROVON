void efi_sync_low_kernel_mappings(void) {}\r\nvoid __init efi_dump_pagetable(void) {}\r\nint efi_setup_page_tables(unsigned long pa_memmap, unsigned num_pages)\r\n{\r\nreturn 0;\r\n}\r\nvoid efi_cleanup_page_tables(unsigned long pa_memmap, unsigned num_pages) {}\r\nvoid __init efi_map_region(efi_memory_desc_t *md)\r\n{\r\nold_map_region(md);\r\n}\r\nvoid __init efi_map_region_fixed(efi_memory_desc_t *md) {}\r\nvoid __init parse_efi_setup(u64 phys_addr, u32 data_len) {}\r\nvoid efi_call_phys_prelog(void)\r\n{\r\nstruct desc_ptr gdt_descr;\r\nlocal_irq_save(efi_rt_eflags);\r\nload_cr3(initial_page_table);\r\n__flush_tlb_all();\r\ngdt_descr.address = __pa(get_cpu_gdt_table(0));\r\ngdt_descr.size = GDT_SIZE - 1;\r\nload_gdt(&gdt_descr);\r\n}\r\nvoid efi_call_phys_epilog(void)\r\n{\r\nstruct desc_ptr gdt_descr;\r\ngdt_descr.address = (unsigned long)get_cpu_gdt_table(0);\r\ngdt_descr.size = GDT_SIZE - 1;\r\nload_gdt(&gdt_descr);\r\nload_cr3(swapper_pg_dir);\r\n__flush_tlb_all();\r\nlocal_irq_restore(efi_rt_eflags);\r\n}\r\nvoid __init efi_runtime_mkexec(void)\r\n{\r\nif (__supported_pte_mask & _PAGE_NX)\r\nruntime_code_page_mkexec();\r\n}
