static int keystone_pm_runtime_suspend(struct device *dev)\r\n{\r\nint ret;\r\ndev_dbg(dev, "%s\n", __func__);\r\nret = pm_generic_runtime_suspend(dev);\r\nif (ret)\r\nreturn ret;\r\nret = pm_clk_suspend(dev);\r\nif (ret) {\r\npm_generic_runtime_resume(dev);\r\nreturn ret;\r\n}\r\nreturn 0;\r\n}\r\nstatic int keystone_pm_runtime_resume(struct device *dev)\r\n{\r\ndev_dbg(dev, "%s\n", __func__);\r\npm_clk_resume(dev);\r\nreturn pm_generic_runtime_resume(dev);\r\n}\r\nint __init keystone_pm_runtime_init(void)\r\n{\r\nstruct device_node *np;\r\nnp = of_find_matching_node(NULL, of_keystone_table);\r\nif (!np)\r\nreturn 0;\r\npm_clk_add_notifier(&platform_bus_type, &platform_domain_notifier);\r\nreturn 0;\r\n}
