int squashfs_readpage_block(struct page *page, u64 block, int bsize)\r\n{\r\nstruct inode *i = page->mapping->host;\r\nstruct squashfs_cache_entry *buffer = squashfs_get_datablock(i->i_sb,\r\nblock, bsize);\r\nint res = buffer->error;\r\nif (res)\r\nERROR("Unable to read page, block %llx, size %x\n", block,\r\nbsize);\r\nelse\r\nsquashfs_copy_cache(page, buffer, buffer->length, 0);\r\nsquashfs_cache_put(buffer);\r\nreturn res;\r\n}
