static void cs5530a_warm_reset(struct pci_dev *dev)\r\n{\r\npci_write_config_byte(dev, 0x44, 0x1);\r\nudelay(50);\r\nreturn;\r\n}\r\nstatic void cs5536_warm_reset(struct pci_dev *dev)\r\n{\r\nwrmsrl(MSR_DIVIL_SOFT_RESET, 1ULL);\r\nudelay(50);\r\n}\r\nstatic void rdc321x_reset(struct pci_dev *dev)\r\n{\r\nunsigned i;\r\noutl(0x80003840, 0xCF8);\r\ni = inl(0xCFC);\r\ni |= 0x1600;\r\noutl(i, 0xCFC);\r\noutb(1, 0x92);\r\n}\r\nstatic void ce4100_reset(struct pci_dev *dev)\r\n{\r\nint i;\r\nfor (i = 0; i < 10; i++) {\r\noutb(0x2, 0xcf9);\r\nudelay(50);\r\n}\r\n}\r\nvoid mach_reboot_fixups(void)\r\n{\r\nconst struct device_fixup *cur;\r\nstruct pci_dev *dev;\r\nint i;\r\nif (in_interrupt())\r\nreturn;\r\nfor (i=0; i < ARRAY_SIZE(fixups_table); i++) {\r\ncur = &(fixups_table[i]);\r\ndev = pci_get_device(cur->vendor, cur->device, NULL);\r\nif (!dev)\r\ncontinue;\r\ncur->reboot_fixup(dev);\r\npci_dev_put(dev);\r\n}\r\n}
