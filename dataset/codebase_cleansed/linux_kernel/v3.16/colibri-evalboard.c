static void __init colibri_mmc_init(void)\r\n{\r\nif (machine_is_colibri())\r\ncolibri_mci_platform_data.gpio_card_detect =\r\nGPIO0_COLIBRI_PXA270_SD_DETECT;\r\nif (machine_is_colibri300())\r\ncolibri_mci_platform_data.gpio_card_detect =\r\nGPIO13_COLIBRI_PXA300_SD_DETECT;\r\nelse\r\ncolibri_mci_platform_data.gpio_card_detect =\r\nGPIO28_COLIBRI_PXA320_SD_DETECT;\r\npxa_set_mci_info(&colibri_mci_platform_data);\r\n}\r\nstatic inline void colibri_mmc_init(void) {}\r\nstatic int colibri_ohci_init(struct device *dev)\r\n{\r\nUP2OCR = UP2OCR_HXS | UP2OCR_HXOE | UP2OCR_DPPDE | UP2OCR_DMPDE;\r\nreturn 0;\r\n}\r\nstatic void __init colibri_uhc_init(void)\r\n{\r\nif (machine_is_colibri())\r\ncolibri_ohci_info.flags |= ENABLE_PORT2;\r\npxa_set_ohci_info(&colibri_ohci_info);\r\n}\r\nstatic inline void colibri_uhc_init(void) {}\r\nstatic void __init colibri_rtc_init(void)\r\n{\r\npxa_set_i2c_info(NULL);\r\ni2c_register_board_info(0, ARRAY_AND_SIZE(colibri_i2c_devs));\r\n}\r\nstatic inline void colibri_rtc_init(void) {}\r\nvoid __init colibri_evalboard_init(void)\r\n{\r\npxa_set_ffuart_info(NULL);\r\npxa_set_btuart_info(NULL);\r\npxa_set_stuart_info(NULL);\r\ncolibri_mmc_init();\r\ncolibri_uhc_init();\r\ncolibri_rtc_init();\r\n}
