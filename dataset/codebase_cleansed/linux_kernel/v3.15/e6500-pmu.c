static u64 e6500_xlate_event(u64 event_id)\r\n{\r\nu32 event_low = (u32)event_id;\r\nif (event_low >= num_events ||\r\n(event_id & (FSL_EMB_EVENT_THRESHMUL | FSL_EMB_EVENT_THRESH)))\r\nreturn 0;\r\nreturn FSL_EMB_EVENT_VALID;\r\n}\r\nstatic int init_e6500_pmu(void)\r\n{\r\nif (!cur_cpu_spec->oprofile_cpu_type ||\r\nstrcmp(cur_cpu_spec->oprofile_cpu_type, "ppc/e6500"))\r\nreturn -ENODEV;\r\nreturn register_fsl_emb_pmu(&e6500_pmu);\r\n}
