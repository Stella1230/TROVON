void __init sh73a0_map_io(void)\r\n{\r\niotable_init(sh73a0_io_desc, ARRAY_SIZE(sh73a0_io_desc));\r\n}\r\nvoid __init sh73a0_pinmux_init(void)\r\n{\r\nplatform_device_register_simple("pfc-sh73a0", -1, pfc_resources,\r\nARRAY_SIZE(pfc_resources));\r\n}\r\nvoid __init sh73a0_add_standard_devices(void)\r\n{\r\n__raw_writel(__raw_readl(SRCR2) & ~(1 << 18), SRCR2);\r\nplatform_add_devices(sh73a0_devices_dt,\r\nARRAY_SIZE(sh73a0_devices_dt));\r\nplatform_add_devices(sh73a0_early_devices,\r\nARRAY_SIZE(sh73a0_early_devices));\r\nplatform_add_devices(sh73a0_late_devices,\r\nARRAY_SIZE(sh73a0_late_devices));\r\n}\r\nvoid __init sh73a0_init_delay(void)\r\n{\r\nshmobile_setup_delay(1196, 44, 46);\r\n}\r\nvoid __init __weak sh73a0_register_twd(void) { }\r\nvoid __init sh73a0_earlytimer_init(void)\r\n{\r\nsh73a0_init_delay();\r\nsh73a0_clock_init();\r\nshmobile_earlytimer_init();\r\nsh73a0_register_twd();\r\n}\r\nvoid __init sh73a0_add_early_devices(void)\r\n{\r\nearly_platform_add_devices(sh73a0_devices_dt,\r\nARRAY_SIZE(sh73a0_devices_dt));\r\nearly_platform_add_devices(sh73a0_early_devices,\r\nARRAY_SIZE(sh73a0_early_devices));\r\nshmobile_setup_console();\r\n}\r\nvoid __init sh73a0_add_standard_devices_dt(void)\r\n{\r\nstruct platform_device_info devinfo = { .name = "cpufreq-cpu0", .id = -1, };\r\nsh73a0_clock_init();\r\nplatform_add_devices(sh73a0_devices_dt,\r\nARRAY_SIZE(sh73a0_devices_dt));\r\nof_platform_populate(NULL, of_default_bus_match_table, NULL, NULL);\r\nplatform_device_register_full(&devinfo);\r\n}
