static int tipc_eth_addr2str(struct tipc_media_addr *a, char *str_buf,\r\nint str_size)\r\n{\r\nif (str_size < 18)\r\nreturn 1;\r\nsprintf(str_buf, "%pM", a->value);\r\nreturn 0;\r\n}\r\nstatic int tipc_eth_addr2msg(struct tipc_media_addr *a, char *msg_area)\r\n{\r\nmemset(msg_area, 0, TIPC_MEDIA_ADDR_SIZE);\r\nmsg_area[TIPC_MEDIA_TYPE_OFFSET] = TIPC_MEDIA_TYPE_ETH;\r\nmemcpy(msg_area + ETH_ADDR_OFFSET, a->value, ETH_ALEN);\r\nreturn 0;\r\n}\r\nstatic int tipc_eth_msg2addr(const struct tipc_bearer *tb_ptr,\r\nstruct tipc_media_addr *a, char *msg_area)\r\n{\r\nif (msg_area[TIPC_MEDIA_TYPE_OFFSET] != TIPC_MEDIA_TYPE_ETH)\r\nreturn 1;\r\ntipc_l2_media_addr_set(tb_ptr, a, msg_area + ETH_ADDR_OFFSET);\r\nreturn 0;\r\n}
