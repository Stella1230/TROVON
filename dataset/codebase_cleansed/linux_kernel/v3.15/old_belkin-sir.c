static int __init old_belkin_sir_init(void)\r\n{\r\nreturn irda_register_dongle(&old_belkin);\r\n}\r\nstatic void __exit old_belkin_sir_cleanup(void)\r\n{\r\nirda_unregister_dongle(&old_belkin);\r\n}\r\nstatic int old_belkin_open(struct sir_dev *dev)\r\n{\r\nstruct qos_info *qos = &dev->qos;\r\nIRDA_DEBUG(2, "%s()\n", __func__);\r\nsirdev_set_dtr_rts(dev, TRUE, TRUE);\r\nqos->baud_rate.bits &= IR_9600;\r\nqos->min_turn_time.bits = 0x01;\r\nirda_qos_bits_to_value(qos);\r\nreturn 0;\r\n}\r\nstatic int old_belkin_close(struct sir_dev *dev)\r\n{\r\nIRDA_DEBUG(2, "%s()\n", __func__);\r\nsirdev_set_dtr_rts(dev, FALSE, FALSE);\r\nreturn 0;\r\n}\r\nstatic int old_belkin_change_speed(struct sir_dev *dev, unsigned speed)\r\n{\r\nIRDA_DEBUG(2, "%s()\n", __func__);\r\ndev->speed = 9600;\r\nreturn (speed==dev->speed) ? 0 : -EINVAL;\r\n}\r\nstatic int old_belkin_reset(struct sir_dev *dev)\r\n{\r\nIRDA_DEBUG(2, "%s()\n", __func__);\r\ndev->speed = 9600;\r\nreturn 0;\r\n}
