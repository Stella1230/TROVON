void __init plat_early_device_setup(void)\r\n{\r\nearly_platform_add_devices(sh7734_early_devices,\r\nARRAY_SIZE(sh7734_early_devices));\r\n}\r\nvoid __init plat_irq_setup(void)\r\n{\r\n__raw_writel(0xF0000000, INTC_INTMSK0);\r\n__raw_writel(0x80000000, INTC_INTMSK1);\r\n__raw_writel(__raw_readl(INTC_ICR0) & ~0x00800000, INTC_ICR0);\r\n__raw_writel(__raw_readl(INTC_ICR0) | 0x00200000, INTC_ICR0);\r\nregister_intc_controller(&intc_desc);\r\n}\r\nvoid __init plat_irq_setup_pins(int mode)\r\n{\r\nswitch (mode) {\r\ncase IRQ_MODE_IRQ3210:\r\n__raw_writel(__raw_readl(INTC_ICR0) | 0x00800000, INTC_ICR0);\r\nregister_intc_controller(&intc_desc_irq3210);\r\nbreak;\r\ncase IRQ_MODE_IRL3210:\r\n__raw_writel(0x80000000, INTC_INTMSKCLR1);\r\n__raw_writel(0xf0000000, INTC_INTMSKCLR0);\r\nbreak;\r\ncase IRQ_MODE_IRL3210_MASK:\r\n__raw_writel(0x80000000, INTC_INTMSKCLR0);\r\nregister_intc_controller(&intc_desc_irl3210);\r\nbreak;\r\ndefault:\r\nBUG();\r\n}\r\n}
