void m68328_reset (void)\r\n{\r\nlocal_irq_disable();\r\nasm volatile ("moveal #0x10c00000, %a0;\n\t"\r\n"moveb #0, 0xFFFFF300;\n\t"\r\n"moveal 0(%a0), %sp;\n\t"\r\n"moveal 4(%a0), %a0;\n\t"\r\n"jmp (%a0);");\r\n}\r\nvoid __init config_BSP(char *command, int len)\r\n{\r\nprintk(KERN_INFO "\n68328 support D. Jeff Dionne <jeff@uclinux.org>\n");\r\nprintk(KERN_INFO "68328 support Kenneth Albanowski <kjahds@kjshds.com>\n");\r\nprintk(KERN_INFO "68328/Pilot support Bernhard Kuhn <kuhn@lpr.e-technik.tu-muenchen.de>\n");\r\nmach_hwclk = m68328_hwclk;\r\nmach_reset = m68328_reset;\r\n}
