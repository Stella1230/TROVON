static struct snd_info_entry * __init\r\ncreate_info_entry(char *name, void (*read)(struct snd_info_entry *,\r\nstruct snd_info_buffer *))\r\n{\r\nstruct snd_info_entry *entry;\r\nentry = snd_info_create_module_entry(THIS_MODULE, name, snd_seq_root);\r\nif (entry == NULL)\r\nreturn NULL;\r\nentry->content = SNDRV_INFO_CONTENT_TEXT;\r\nentry->c.text.read = read;\r\nif (snd_info_register(entry) < 0) {\r\nsnd_info_free_entry(entry);\r\nreturn NULL;\r\n}\r\nreturn entry;\r\n}\r\nint __init snd_seq_info_init(void)\r\n{\r\nqueues_entry = create_info_entry("queues",\r\nsnd_seq_info_queues_read);\r\nclients_entry = create_info_entry("clients",\r\nsnd_seq_info_clients_read);\r\ntimer_entry = create_info_entry("timer", snd_seq_info_timer_read);\r\nreturn 0;\r\n}\r\nint __exit snd_seq_info_done(void)\r\n{\r\nsnd_info_free_entry(queues_entry);\r\nsnd_info_free_entry(clients_entry);\r\nsnd_info_free_entry(timer_entry);\r\nreturn 0;\r\n}
