static int da9063_i2c_probe(struct i2c_client *i2c,\r\nconst struct i2c_device_id *id)\r\n{\r\nstruct da9063 *da9063;\r\nint ret;\r\nda9063 = devm_kzalloc(&i2c->dev, sizeof(struct da9063), GFP_KERNEL);\r\nif (da9063 == NULL)\r\nreturn -ENOMEM;\r\ni2c_set_clientdata(i2c, da9063);\r\nda9063->dev = &i2c->dev;\r\nda9063->chip_irq = i2c->irq;\r\nda9063->regmap = devm_regmap_init_i2c(i2c, &da9063_regmap_config);\r\nif (IS_ERR(da9063->regmap)) {\r\nret = PTR_ERR(da9063->regmap);\r\ndev_err(da9063->dev, "Failed to allocate register map: %d\n",\r\nret);\r\nreturn ret;\r\n}\r\nreturn da9063_device_init(da9063, i2c->irq);\r\n}\r\nstatic int da9063_i2c_remove(struct i2c_client *i2c)\r\n{\r\nstruct da9063 *da9063 = i2c_get_clientdata(i2c);\r\nda9063_device_exit(da9063);\r\nreturn 0;\r\n}
