static void __init marzen_add_du_device(void)\r\n{\r\nstruct platform_device_info info = {\r\n.name = "rcar-du-r8a7779",\r\n.id = -1,\r\n.res = du_resources,\r\n.num_res = ARRAY_SIZE(du_resources),\r\n.data = &du_pdata,\r\n.size_data = sizeof(du_pdata),\r\n.dma_mask = DMA_BIT_MASK(32),\r\n};\r\nplatform_device_register_full(&info);\r\n}\r\nstatic void __init marzen_init(void)\r\n{\r\nregulator_register_always_on(0, "fixed-3.3V", fixed3v3_power_consumers,\r\nARRAY_SIZE(fixed3v3_power_consumers), 3300000);\r\nregulator_register_fixed(1, dummy_supplies,\r\nARRAY_SIZE(dummy_supplies));\r\npinctrl_register_mappings(marzen_pinctrl_map,\r\nARRAY_SIZE(marzen_pinctrl_map));\r\nr8a7779_pinmux_init();\r\nr8a7779_init_irq_extpin(1);\r\nr8a7779_add_standard_devices();\r\nplatform_device_register_full(&vin1_info);\r\nplatform_device_register_full(&vin3_info);\r\nplatform_add_devices(marzen_devices, ARRAY_SIZE(marzen_devices));\r\nmarzen_add_du_device();\r\n}
