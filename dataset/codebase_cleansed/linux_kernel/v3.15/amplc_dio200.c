static int dio200_attach(struct comedi_device *dev, struct comedi_devconfig *it)\r\n{\r\nconst struct dio200_board *thisboard = comedi_board(dev);\r\nstruct dio200_private *devpriv;\r\nunsigned int irq;\r\nint ret;\r\nirq = it->options[1];\r\ndevpriv = comedi_alloc_devpriv(dev, sizeof(*devpriv));\r\nif (!devpriv)\r\nreturn -ENOMEM;\r\nret = comedi_request_region(dev, it->options[0], thisboard->mainsize);\r\nif (ret)\r\nreturn ret;\r\ndevpriv->io.u.iobase = dev->iobase;\r\ndevpriv->io.regtype = io_regtype;\r\nreturn amplc_dio200_common_attach(dev, irq, 0);\r\n}\r\nstatic void dio200_detach(struct comedi_device *dev)\r\n{\r\namplc_dio200_common_detach(dev);\r\ncomedi_legacy_detach(dev);\r\n}
