void omap2_clkt_iclk_allow_idle(struct clk_hw_omap *clk)\r\n{\r\nu32 v;\r\nvoid __iomem *r;\r\nr = (__force void __iomem *)\r\n((__force u32)clk->enable_reg ^ (CM_AUTOIDLE ^ CM_ICLKEN));\r\nv = omap2_clk_readl(clk, r);\r\nv |= (1 << clk->enable_bit);\r\nomap2_clk_writel(v, clk, r);\r\n}\r\nvoid omap2_clkt_iclk_deny_idle(struct clk_hw_omap *clk)\r\n{\r\nu32 v;\r\nvoid __iomem *r;\r\nr = (__force void __iomem *)\r\n((__force u32)clk->enable_reg ^ (CM_AUTOIDLE ^ CM_ICLKEN));\r\nv = omap2_clk_readl(clk, r);\r\nv &= ~(1 << clk->enable_bit);\r\nomap2_clk_writel(v, clk, r);\r\n}
