static void __init trout_init_early(void)\r\n{\r\narch_ioremap_caller = __msm_ioremap_caller;\r\n}\r\nstatic void __init trout_init_irq(void)\r\n{\r\nmsm_init_irq();\r\n}\r\nstatic void __init trout_fixup(struct tag *tags, char **cmdline,\r\nstruct meminfo *mi)\r\n{\r\nmi->nr_banks = 1;\r\nmi->bank[0].start = PHYS_OFFSET;\r\nmi->bank[0].size = (101*1024*1024);\r\n}\r\nstatic void __init trout_init(void)\r\n{\r\nint rc;\r\nplatform_add_devices(devices, ARRAY_SIZE(devices));\r\nif (IS_ENABLED(CONFIG_MMC)) {\r\nrc = trout_init_mmc(system_rev);\r\nif (rc)\r\npr_crit("MMC init failure (%d)\n", rc);\r\n}\r\n}\r\nstatic void __init trout_map_io(void)\r\n{\r\nmsm_map_common_io();\r\niotable_init(trout_io_desc, ARRAY_SIZE(trout_io_desc));\r\n#ifdef CONFIG_MSM_DEBUG_UART3\r\nwriteb(0x80, TROUT_CPLD_BASE + 0x00);\r\n#endif\r\n}\r\nstatic void __init trout_init_late(void)\r\n{\r\nsmd_debugfs_init();\r\n}
