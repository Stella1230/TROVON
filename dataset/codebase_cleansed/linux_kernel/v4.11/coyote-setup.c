static void __init coyote_init(void)\r\n{\r\nixp4xx_sys_init();\r\ncoyote_flash_resource.start = IXP4XX_EXP_BUS_BASE(0);\r\ncoyote_flash_resource.end = IXP4XX_EXP_BUS_BASE(0) + SZ_32M - 1;\r\n*IXP4XX_EXP_CS0 |= IXP4XX_FLASH_WRITABLE;\r\n*IXP4XX_EXP_CS1 = *IXP4XX_EXP_CS0;\r\nif (machine_is_ixdpg425()) {\r\ncoyote_uart_data[0].membase =\r\n(char*)(IXP4XX_UART1_BASE_VIRT + REG_OFFSET);\r\ncoyote_uart_data[0].mapbase = IXP4XX_UART1_BASE_PHYS;\r\ncoyote_uart_data[0].irq = IRQ_IXP4XX_UART1;\r\n}\r\nplatform_add_devices(coyote_devices, ARRAY_SIZE(coyote_devices));\r\n}
