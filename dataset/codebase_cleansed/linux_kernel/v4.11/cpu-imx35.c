static int mx35_read_cpu_rev(void)\r\n{\r\nu32 rev;\r\nrev = imx_readl(MX35_IO_ADDRESS(MX35_IIM_BASE_ADDR + MXC_IIMSREV));\r\nswitch (rev) {\r\ncase 0x00:\r\nreturn IMX_CHIP_REVISION_1_0;\r\ncase 0x10:\r\nreturn IMX_CHIP_REVISION_2_0;\r\ncase 0x11:\r\nreturn IMX_CHIP_REVISION_2_1;\r\ndefault:\r\nreturn IMX_CHIP_REVISION_UNKNOWN;\r\n}\r\n}\r\nint mx35_revision(void)\r\n{\r\nif (mx35_cpu_rev == -1)\r\nmx35_cpu_rev = mx35_read_cpu_rev();\r\nreturn mx35_cpu_rev;\r\n}
