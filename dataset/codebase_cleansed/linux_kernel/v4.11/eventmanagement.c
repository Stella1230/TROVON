int pem_init_event_action_chains(struct pp_eventmgr *eventmgr)\r\n{\r\nint i;\r\nfor (i = 0; i < AMD_PP_EVENT_MAX; i++)\r\neventmgr->event_chain[i] = NULL;\r\neventmgr->event_chain[AMD_PP_EVENT_SUSPEND] = pem_get_suspend_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_INITIALIZE] = pem_get_initialize_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_UNINITIALIZE] = pem_get_uninitialize_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_POWER_SOURCE_CHANGE] = pem_get_power_source_change_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_HIBERNATE] = pem_get_hibernate_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_RESUME] = pem_get_resume_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_THERMAL_NOTIFICATION] = pem_get_thermal_notification_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_VBIOS_NOTIFICATION] = pem_get_vbios_notification_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_ENTER_THERMAL_STATE] = pem_get_enter_thermal_state_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_EXIT_THERMAL_STATE] = pem_get_exit_thermal_state_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_ENABLE_POWER_PLAY] = pem_get_enable_powerplay_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_DISABLE_POWER_PLAY] = pem_get_disable_powerplay_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_ENABLE_OVER_DRIVE_TEST] = pem_get_enable_overdrive_test_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_DISABLE_OVER_DRIVE_TEST] = pem_get_disable_overdrive_test_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_ENABLE_GFX_CLOCK_GATING] = pem_get_enable_gfx_clock_gating_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_DISABLE_GFX_CLOCK_GATING] = pem_get_disable_gfx_clock_gating_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_ENABLE_CGPG] = pem_get_enable_cgpg_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_DISABLE_CGPG] = pem_get_disable_cgpg_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_COMPLETE_INIT] = pem_get_complete_init_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_SCREEN_ON] = pem_get_screen_on_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_SCREEN_OFF] = pem_get_screen_off_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_PRE_SUSPEND] = pem_get_pre_suspend_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_PRE_RESUME] = pem_get_pre_resume_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_ENABLE_USER_STATE] = pem_enable_user_state_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_READJUST_POWER_STATE] = pem_readjust_power_state_action_chain(eventmgr);\r\neventmgr->event_chain[AMD_PP_EVENT_DISPLAY_CONFIG_CHANGE] = pem_display_config_change_action_chain(eventmgr);\r\nreturn 0;\r\n}\r\nint pem_excute_event_chain(struct pp_eventmgr *eventmgr, const struct action_chain *event_chain, struct pem_event_data *event_data)\r\n{\r\nconst pem_event_action * const *paction_chain;\r\nconst pem_event_action *psub_chain;\r\nint tmp_result = 0;\r\nint result = 0;\r\nif (eventmgr == NULL || event_chain == NULL || event_data == NULL)\r\nreturn -EINVAL;\r\nfor (paction_chain = event_chain->action_chain; NULL != *paction_chain; paction_chain++) {\r\nif (0 != result)\r\nreturn result;\r\nfor (psub_chain = *paction_chain; NULL != *psub_chain; psub_chain++) {\r\ntmp_result = (*psub_chain)(eventmgr, event_data);\r\nif (0 == result)\r\nresult = tmp_result;\r\n}\r\n}\r\nreturn result;\r\n}\r\nconst struct action_chain *pem_get_suspend_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn &suspend_action_chain;\r\n}\r\nconst struct action_chain *pem_get_initialize_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn &initialize_action_chain;\r\n}\r\nconst struct action_chain *pem_get_uninitialize_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn &uninitialize_action_chain;\r\n}\r\nconst struct action_chain *pem_get_power_source_change_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn &power_source_change_action_chain_pp_enabled;\r\n}\r\nconst struct action_chain *pem_get_resume_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn &resume_action_chain;\r\n}\r\nconst struct action_chain *pem_get_hibernate_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn NULL;\r\n}\r\nconst struct action_chain *pem_get_thermal_notification_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn NULL;\r\n}\r\nconst struct action_chain *pem_get_vbios_notification_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn NULL;\r\n}\r\nconst struct action_chain *pem_get_enter_thermal_state_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn NULL;\r\n}\r\nconst struct action_chain *pem_get_exit_thermal_state_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn NULL;\r\n}\r\nconst struct action_chain *pem_get_enable_powerplay_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn NULL;\r\n}\r\nconst struct action_chain *pem_get_disable_powerplay_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn NULL;\r\n}\r\nconst struct action_chain *pem_get_enable_overdrive_test_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn NULL;\r\n}\r\nconst struct action_chain *pem_get_disable_overdrive_test_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn NULL;\r\n}\r\nconst struct action_chain *pem_get_enable_gfx_clock_gating_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn &enable_gfx_clock_gating_action_chain;\r\n}\r\nconst struct action_chain *pem_get_disable_gfx_clock_gating_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn &disable_gfx_clock_gating_action_chain;\r\n}\r\nconst struct action_chain *pem_get_enable_cgpg_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn &enable_cgpg_action_chain;\r\n}\r\nconst struct action_chain *pem_get_disable_cgpg_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn &disable_cgpg_action_chain;\r\n}\r\nconst struct action_chain *pem_get_complete_init_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn &complete_init_action_chain;\r\n}\r\nconst struct action_chain *pem_get_screen_on_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn NULL;\r\n}\r\nconst struct action_chain *pem_get_screen_off_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn NULL;\r\n}\r\nconst struct action_chain *pem_get_pre_suspend_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn NULL;\r\n}\r\nconst struct action_chain *pem_get_pre_resume_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn NULL;\r\n}\r\nconst struct action_chain *pem_enable_user_state_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn &enable_user_state_action_chain;\r\n}\r\nconst struct action_chain *pem_readjust_power_state_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn &readjust_power_state_action_chain;\r\n}\r\nconst struct action_chain *pem_display_config_change_action_chain(struct pp_eventmgr *eventmgr)\r\n{\r\nreturn &display_config_change_action_chain;\r\n}
