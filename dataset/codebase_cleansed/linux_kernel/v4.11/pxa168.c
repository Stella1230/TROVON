void __init pxa168_init_irq(void)\r\n{\r\nicu_init_irq();\r\n}\r\nstatic int __init pxa168_init(void)\r\n{\r\nif (cpu_is_pxa168()) {\r\nmfp_init_base(MFPR_VIRT_BASE);\r\nmfp_init_addr(pxa168_mfp_addr_map);\r\npxa168_clk_init(APB_PHYS_BASE + 0x50000,\r\nAXI_PHYS_BASE + 0x82800,\r\nAPB_PHYS_BASE + 0x15000);\r\n}\r\nreturn 0;\r\n}\r\nvoid __init pxa168_timer_init(void)\r\n{\r\n__raw_writel(APBC_APBCLK | APBC_RST, APBC_TIMERS);\r\n__raw_writel(TIMER_CLK_RST, APBC_TIMERS);\r\ntimer_init(IRQ_PXA168_TIMER1);\r\n}\r\nvoid pxa168_clear_keypad_wakeup(void)\r\n{\r\nuint32_t val;\r\nuint32_t mask = APMU_PXA168_KP_WAKE_CLR;\r\nval = __raw_readl(APMU_WAKE_CLR);\r\n__raw_writel(val | mask, APMU_WAKE_CLR);\r\n}\r\nint __init pxa168_add_usb_host(struct mv_usb_platform_data *pdata)\r\n{\r\npxa168_device_usb_host.dev.platform_data = pdata;\r\nreturn platform_device_register(&pxa168_device_usb_host);\r\n}\r\nvoid pxa168_restart(enum reboot_mode mode, const char *cmd)\r\n{\r\nsoft_restart(0xffff0000);\r\n}
