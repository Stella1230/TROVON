void __init reserve_bios_regions(void)\r\n{\r\nunsigned int bios_start, ebda_start;\r\nif (!x86_platform.legacy.reserve_bios_regions)\r\nreturn;\r\nbios_start = *(unsigned short *)__va(BIOS_RAM_SIZE_KB_PTR);\r\nbios_start <<= 10;\r\nif (bios_start < BIOS_START_MIN || bios_start > BIOS_START_MAX)\r\nbios_start = BIOS_START_MAX;\r\nebda_start = get_bios_ebda();\r\nif (ebda_start >= BIOS_START_MIN && ebda_start < bios_start)\r\nbios_start = ebda_start;\r\nmemblock_reserve(bios_start, 0x100000 - bios_start);\r\n}
