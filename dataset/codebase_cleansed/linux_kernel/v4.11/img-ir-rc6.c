static int img_ir_rc6_scancode(int len, u64 raw, u64 enabled_protocols,\r\nstruct img_ir_scancode_req *request)\r\n{\r\nunsigned int addr, cmd, mode, trl1, trl2;\r\nraw >>= 27;\r\ntrl1 = (raw >> 17) & 0x01;\r\ntrl2 = (raw >> 16) & 0x01;\r\nmode = (raw >> 18) & 0x07;\r\naddr = (raw >> 8) & 0xff;\r\ncmd = raw & 0xff;\r\nif (trl1 == trl2)\r\nreturn -EINVAL;\r\nif (mode)\r\nreturn -EINVAL;\r\nrequest->protocol = RC_TYPE_RC6_0;\r\nrequest->scancode = addr << 8 | cmd;\r\nrequest->toggle = trl2;\r\nreturn IMG_IR_SCANCODE;\r\n}\r\nstatic int img_ir_rc6_filter(const struct rc_scancode_filter *in,\r\nstruct img_ir_filter *out, u64 protocols)\r\n{\r\nreturn -EINVAL;\r\n}
