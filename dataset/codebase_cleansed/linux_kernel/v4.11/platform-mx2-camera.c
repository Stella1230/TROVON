struct platform_device *__init imx_add_mx2_camera(\r\nconst struct imx_mx2_camera_data *data,\r\nconst struct mx2_camera_platform_data *pdata)\r\n{\r\nstruct resource res[] = {\r\n{\r\n.start = data->iobasecsi,\r\n.end = data->iobasecsi + data->iosizecsi - 1,\r\n.flags = IORESOURCE_MEM,\r\n}, {\r\n.start = data->irqcsi,\r\n.end = data->irqcsi,\r\n.flags = IORESOURCE_IRQ,\r\n}, {\r\n.start = data->iobaseemmaprp,\r\n.end = data->iobaseemmaprp + data->iosizeemmaprp - 1,\r\n.flags = IORESOURCE_MEM,\r\n}, {\r\n.start = data->irqemmaprp,\r\n.end = data->irqemmaprp,\r\n.flags = IORESOURCE_IRQ,\r\n},\r\n};\r\nreturn imx_add_platform_device_dmamask(data->devid, 0,\r\nres, data->iobaseemmaprp ? 4 : 2,\r\npdata, sizeof(*pdata), DMA_BIT_MASK(32));\r\n}
