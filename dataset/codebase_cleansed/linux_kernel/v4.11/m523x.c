static void __init m523x_qspi_init(void)\r\n{\r\n#if IS_ENABLED(CONFIG_SPI_COLDFIRE_QSPI)\r\nu16 par;\r\nwriteb(0x1f, MCFGPIO_PAR_QSPI);\r\npar = readw(MCFGPIO_PAR_TIMER);\r\npar &= 0x3f3f;\r\nwritew(par, MCFGPIO_PAR_TIMER);\r\n#endif\r\n}\r\nstatic void __init m523x_i2c_init(void)\r\n{\r\n#if IS_ENABLED(CONFIG_I2C_IMX)\r\nu8 par;\r\npar = readb(MCFGPIO_PAR_FECI2C);\r\npar |= 0x0f;\r\nwriteb(par, MCFGPIO_PAR_FECI2C);\r\n#endif\r\n}\r\nstatic void __init m523x_fec_init(void)\r\n{\r\nwriteb(readb(MCFGPIO_PAR_FECI2C) | 0xf0, MCFGPIO_PAR_FECI2C);\r\n}\r\nvoid __init config_BSP(char *commandp, int size)\r\n{\r\nmach_sched_init = hw_timer_init;\r\nm523x_fec_init();\r\nm523x_qspi_init();\r\nm523x_i2c_init();\r\n}
