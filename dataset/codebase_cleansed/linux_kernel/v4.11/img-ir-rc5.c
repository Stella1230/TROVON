static int img_ir_rc5_scancode(int len, u64 raw, u64 enabled_protocols,\r\nstruct img_ir_scancode_req *request)\r\n{\r\nunsigned int addr, cmd, tgl, start;\r\nraw >>= 2;\r\nstart = (raw >> 13) & 0x01;\r\ntgl = (raw >> 11) & 0x01;\r\naddr = (raw >> 6) & 0x1f;\r\ncmd = raw & 0x3f;\r\ncmd += ((raw >> 12) & 0x01) ? 0 : 0x40;\r\nif (!start)\r\nreturn -EINVAL;\r\nrequest->protocol = RC_TYPE_RC5;\r\nrequest->scancode = addr << 8 | cmd;\r\nrequest->toggle = tgl;\r\nreturn IMG_IR_SCANCODE;\r\n}\r\nstatic int img_ir_rc5_filter(const struct rc_scancode_filter *in,\r\nstruct img_ir_filter *out, u64 protocols)\r\n{\r\nreturn -EINVAL;\r\n}
