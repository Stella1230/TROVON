void cpufreq_add_update_util_hook(int cpu, struct update_util_data *data,\r\nvoid (*func)(struct update_util_data *data, u64 time,\r\nunsigned int flags))\r\n{\r\nif (WARN_ON(!data || !func))\r\nreturn;\r\nif (WARN_ON(per_cpu(cpufreq_update_util_data, cpu)))\r\nreturn;\r\ndata->func = func;\r\nrcu_assign_pointer(per_cpu(cpufreq_update_util_data, cpu), data);\r\n}\r\nvoid cpufreq_remove_update_util_hook(int cpu)\r\n{\r\nrcu_assign_pointer(per_cpu(cpufreq_update_util_data, cpu), NULL);\r\n}
