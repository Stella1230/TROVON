static int ptdump_show(struct seq_file *m, void *v)\r\n{\r\nptdump_walk_pgd_level(m, NULL);\r\nreturn 0;\r\n}\r\nstatic int ptdump_open(struct inode *inode, struct file *filp)\r\n{\r\nreturn single_open(filp, ptdump_show, NULL);\r\n}\r\nstatic int __init pt_dump_debug_init(void)\r\n{\r\npe = debugfs_create_file("kernel_page_tables", S_IRUSR, NULL, NULL,\r\n&ptdump_fops);\r\nif (!pe)\r\nreturn -ENOMEM;\r\nreturn 0;\r\n}\r\nstatic void __exit pt_dump_debug_exit(void)\r\n{\r\ndebugfs_remove_recursive(pe);\r\n}
