static int kxsd9_spi_probe(struct spi_device *spi)\r\n{\r\nstatic const struct regmap_config config = {\r\n.reg_bits = 8,\r\n.val_bits = 8,\r\n.max_register = 0x0e,\r\n};\r\nstruct regmap *regmap;\r\nspi->mode = SPI_MODE_0;\r\nregmap = devm_regmap_init_spi(spi, &config);\r\nif (IS_ERR(regmap)) {\r\ndev_err(&spi->dev, "%s: regmap allocation failed: %ld\n",\r\n__func__, PTR_ERR(regmap));\r\nreturn PTR_ERR(regmap);\r\n}\r\nreturn kxsd9_common_probe(&spi->dev,\r\nregmap,\r\nspi_get_device_id(spi)->name);\r\n}\r\nstatic int kxsd9_spi_remove(struct spi_device *spi)\r\n{\r\nreturn kxsd9_common_remove(&spi->dev);\r\n}
