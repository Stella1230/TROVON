bool _cxl_pci_associate_default_context(struct pci_dev *dev, struct cxl_afu *afu)\r\n{\r\nstruct cxl_context *ctx;\r\nctx = cxl_dev_context_init(dev);\r\nif (IS_ERR(ctx))\r\nreturn false;\r\ndev->dev.archdata.cxl_ctx = ctx;\r\nreturn (cxl_ops->afu_check_and_enable(afu) == 0);\r\n}\r\nvoid _cxl_pci_disable_device(struct pci_dev *dev)\r\n{\r\nstruct cxl_context *ctx = cxl_get_context(dev);\r\nif (ctx) {\r\nif (ctx->status == STARTED) {\r\ndev_err(&dev->dev, "Default context started\n");\r\nreturn;\r\n}\r\ndev->dev.archdata.cxl_ctx = NULL;\r\ncxl_release_context(ctx);\r\n}\r\n}
