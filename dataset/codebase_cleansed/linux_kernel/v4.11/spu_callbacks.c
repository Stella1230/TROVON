long spu_sys_callback(struct spu_syscall_block *s)\r\n{\r\nlong (*syscall)(u64 a1, u64 a2, u64 a3, u64 a4, u64 a5, u64 a6);\r\nif (s->nr_ret >= ARRAY_SIZE(spu_syscall_table)) {\r\npr_debug("%s: invalid syscall #%lld", __func__, s->nr_ret);\r\nreturn -ENOSYS;\r\n}\r\nsyscall = spu_syscall_table[s->nr_ret];\r\npr_debug("SPU-syscall "\r\n"%pSR:syscall%lld(%llx, %llx, %llx, %llx, %llx, %llx)\n",\r\nsyscall,\r\ns->nr_ret,\r\ns->parm[0], s->parm[1], s->parm[2],\r\ns->parm[3], s->parm[4], s->parm[5]);\r\nreturn syscall(s->parm[0], s->parm[1], s->parm[2],\r\ns->parm[3], s->parm[4], s->parm[5]);\r\n}
