int __init tfrc_lib_init(void)\r\n{\r\nint rc = tfrc_li_init();\r\nif (rc)\r\ngoto out;\r\nrc = tfrc_tx_packet_history_init();\r\nif (rc)\r\ngoto out_free_loss_intervals;\r\nrc = tfrc_rx_packet_history_init();\r\nif (rc)\r\ngoto out_free_tx_history;\r\nreturn 0;\r\nout_free_tx_history:\r\ntfrc_tx_packet_history_exit();\r\nout_free_loss_intervals:\r\ntfrc_li_exit();\r\nout:\r\nreturn rc;\r\n}\r\nvoid tfrc_lib_exit(void)\r\n{\r\ntfrc_rx_packet_history_exit();\r\ntfrc_tx_packet_history_exit();\r\ntfrc_li_exit();\r\n}
