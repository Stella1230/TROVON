void __init shx3_cache_init(void)\r\n{\r\nunsigned int ccr;\r\nccr = __raw_readl(SH_CCR);\r\nif (boot_cpu_data.dcache.n_aliases || boot_cpu_data.icache.n_aliases) {\r\nccr |= CCR_CACHE_SNM;\r\nboot_cpu_data.icache.n_aliases = 0;\r\nboot_cpu_data.dcache.n_aliases = 0;\r\npr_info("Enabling hardware synonym avoidance\n");\r\n}\r\n#ifdef CONFIG_SMP\r\nccr |= CCR_CACHE_IBE;\r\n#endif\r\nwritel_uncached(ccr, SH_CCR);\r\n}
