static bool find_by_address(u64 base_address)\r\n{\r\nstruct device_node *dn = of_find_all_nodes(NULL);\r\nstruct resource res;\r\nwhile (dn) {\r\nif (of_can_translate_address(dn)\r\n&& !of_address_to_resource(dn, 0, &res)) {\r\nif (res.start == base_address) {\r\nof_node_put(dn);\r\nreturn true;\r\n}\r\n}\r\ndn = of_find_all_nodes(dn);\r\n}\r\nreturn false;\r\n}\r\nbool __init board_staging_dt_node_available(const struct resource *resource,\r\nunsigned int num_resources)\r\n{\r\nunsigned int i;\r\nfor (i = 0; i < num_resources; i++) {\r\nconst struct resource *r = resource + i;\r\nif (resource_type(r) == IORESOURCE_MEM)\r\nif (find_by_address(r->start))\r\nreturn true;\r\n}\r\nreturn false;\r\n}
