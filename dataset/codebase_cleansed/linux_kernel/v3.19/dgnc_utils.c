int dgnc_ms_sleep(ulong ms)\r\n{\r\ncurrent->state = TASK_INTERRUPTIBLE;\r\nschedule_timeout((ms * HZ) / 1000);\r\nreturn signal_pending(current);\r\n}\r\nchar *dgnc_ioctl_name(int cmd)\r\n{\r\nswitch (cmd) {\r\ncase TCGETA: return "TCGETA";\r\ncase TCGETS: return "TCGETS";\r\ncase TCSETA: return "TCSETA";\r\ncase TCSETS: return "TCSETS";\r\ncase TCSETAW: return "TCSETAW";\r\ncase TCSETSW: return "TCSETSW";\r\ncase TCSETAF: return "TCSETAF";\r\ncase TCSETSF: return "TCSETSF";\r\ncase TCSBRK: return "TCSBRK";\r\ncase TCXONC: return "TCXONC";\r\ncase TCFLSH: return "TCFLSH";\r\ncase TIOCGSID: return "TIOCGSID";\r\ncase TIOCGETD: return "TIOCGETD";\r\ncase TIOCSETD: return "TIOCSETD";\r\ncase TIOCGWINSZ: return "TIOCGWINSZ";\r\ncase TIOCSWINSZ: return "TIOCSWINSZ";\r\ncase TIOCMGET: return "TIOCMGET";\r\ncase TIOCMSET: return "TIOCMSET";\r\ncase TIOCMBIS: return "TIOCMBIS";\r\ncase TIOCMBIC: return "TIOCMBIC";\r\ncase DIGI_SETA: return "DIGI_SETA";\r\ncase DIGI_SETAW: return "DIGI_SETAW";\r\ncase DIGI_SETAF: return "DIGI_SETAF";\r\ncase DIGI_SETFLOW: return "DIGI_SETFLOW";\r\ncase DIGI_SETAFLOW: return "DIGI_SETAFLOW";\r\ncase DIGI_GETFLOW: return "DIGI_GETFLOW";\r\ncase DIGI_GETAFLOW: return "DIGI_GETAFLOW";\r\ncase DIGI_GETA: return "DIGI_GETA";\r\ncase DIGI_GEDELAY: return "DIGI_GEDELAY";\r\ncase DIGI_SEDELAY: return "DIGI_SEDELAY";\r\ncase DIGI_GETCUSTOMBAUD: return "DIGI_GETCUSTOMBAUD";\r\ncase DIGI_SETCUSTOMBAUD: return "DIGI_SETCUSTOMBAUD";\r\ncase TIOCMODG: return "TIOCMODG";\r\ncase TIOCMODS: return "TIOCMODS";\r\ncase TIOCSDTR: return "TIOCSDTR";\r\ncase TIOCCDTR: return "TIOCCDTR";\r\ndefault: return "unknown";\r\n}\r\n}
