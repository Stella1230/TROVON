static int __init omap3xxx_dt_clk_init(int soc_type)\r\n{\r\nif (soc_type == OMAP3_SOC_AM35XX || soc_type == OMAP3_SOC_OMAP3630 ||\r\nsoc_type == OMAP3_SOC_OMAP3430_ES1 ||\r\nsoc_type == OMAP3_SOC_OMAP3430_ES2_PLUS)\r\nti_dt_clocks_register(omap3xxx_clks);\r\nif (soc_type == OMAP3_SOC_AM35XX)\r\nti_dt_clocks_register(am35xx_clks);\r\nif (soc_type == OMAP3_SOC_OMAP3630 || soc_type == OMAP3_SOC_AM35XX ||\r\nsoc_type == OMAP3_SOC_OMAP3430_ES2_PLUS)\r\nti_dt_clocks_register(omap36xx_am35xx_omap3430es2plus_clks);\r\nif (soc_type == OMAP3_SOC_OMAP3430_ES1)\r\nti_dt_clocks_register(omap3430es1_clks);\r\nif (soc_type == OMAP3_SOC_OMAP3430_ES2_PLUS ||\r\nsoc_type == OMAP3_SOC_OMAP3630)\r\nti_dt_clocks_register(omap36xx_omap3430es2plus_clks);\r\nif (soc_type == OMAP3_SOC_OMAP3430_ES1 ||\r\nsoc_type == OMAP3_SOC_OMAP3430_ES2_PLUS ||\r\nsoc_type == OMAP3_SOC_OMAP3630)\r\nti_dt_clocks_register(omap34xx_omap36xx_clks);\r\nif (soc_type == OMAP3_SOC_OMAP3630)\r\nti_dt_clocks_register(omap36xx_clks);\r\nomap2_clk_disable_autoidle_all();\r\nomap2_clk_enable_init_clocks(enable_init_clks,\r\nARRAY_SIZE(enable_init_clks));\r\npr_info("Clocking rate (Crystal/Core/MPU): %ld.%01ld/%ld/%ld MHz\n",\r\n(clk_get_rate(clk_get_sys(NULL, "osc_sys_ck")) / 1000000),\r\n(clk_get_rate(clk_get_sys(NULL, "osc_sys_ck")) / 100000) % 10,\r\n(clk_get_rate(clk_get_sys(NULL, "core_ck")) / 1000000),\r\n(clk_get_rate(clk_get_sys(NULL, "arm_fck")) / 1000000));\r\nif (soc_type != OMAP3_SOC_TI81XX && soc_type != OMAP3_SOC_OMAP3430_ES1)\r\nomap3_clk_lock_dpll5();\r\nreturn 0;\r\n}\r\nint __init omap3430_dt_clk_init(void)\r\n{\r\nreturn omap3xxx_dt_clk_init(OMAP3_SOC_OMAP3430_ES2_PLUS);\r\n}\r\nint __init omap3630_dt_clk_init(void)\r\n{\r\nreturn omap3xxx_dt_clk_init(OMAP3_SOC_OMAP3630);\r\n}\r\nint __init am35xx_dt_clk_init(void)\r\n{\r\nreturn omap3xxx_dt_clk_init(OMAP3_SOC_AM35XX);\r\n}\r\nint __init ti81xx_dt_clk_init(void)\r\n{\r\nreturn omap3xxx_dt_clk_init(OMAP3_SOC_TI81XX);\r\n}
