static int keystone_smp_boot_secondary(unsigned int cpu,\r\nstruct task_struct *idle)\r\n{\r\nunsigned long start = virt_to_idmap(&secondary_startup);\r\nint error;\r\npr_debug("keystone-smp: booting cpu %d, vector %08lx\n",\r\ncpu, start);\r\nerror = keystone_cpu_smc(KEYSTONE_MON_CPU_UP_IDX, cpu, start);\r\nif (error)\r\npr_err("CPU %d bringup failed with %d\n", cpu, error);\r\nreturn error;\r\n}\r\nstatic void __cpuinit keystone_smp_secondary_initmem(unsigned int cpu)\r\n{\r\npgd_t *pgd0 = pgd_offset_k(0);\r\ncpu_set_ttbr(1, __pa(pgd0) + TTBR1_OFFSET);\r\nlocal_flush_tlb_all();\r\n}\r\nstatic inline void __cpuinit keystone_smp_secondary_initmem(unsigned int cpu)\r\n{}
