void __init omap3xxx_clockdomains_init(void)\r\n{\r\nstruct clockdomain **sc;\r\nunsigned int rev;\r\nif (!cpu_is_omap34xx())\r\nreturn;\r\nclkdm_register_platform_funcs(&omap3_clkdm_operations);\r\nclkdm_register_clkdms(clockdomains_common);\r\nrev = omap_rev();\r\nif (rev == AM35XX_REV_ES1_0 || rev == AM35XX_REV_ES1_1) {\r\nclkdm_register_clkdms(clockdomains_am35x);\r\nclkdm_register_autodeps(clkdm_am35x_autodeps);\r\n} else {\r\nclkdm_register_clkdms(clockdomains_omap3430);\r\nsc = (rev == OMAP3430_REV_ES1_0) ?\r\nclockdomains_omap3430es1 : clockdomains_omap3430es2plus;\r\nclkdm_register_clkdms(sc);\r\nclkdm_register_autodeps(clkdm_autodeps);\r\n}\r\nclkdm_complete_init();\r\n}
