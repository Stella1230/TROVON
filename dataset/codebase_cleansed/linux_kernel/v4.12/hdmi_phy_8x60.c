static void hdmi_phy_8x60_powerup(struct hdmi_phy *phy,\r\nunsigned long int pixclock)\r\n{\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG0,\r\nHDMI_8x60_PHY_REG0_DESER_DEL_CTRL(3));\r\nif (pixclock == 27000000) {\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG1,\r\nHDMI_8x60_PHY_REG1_DTEST_MUX_SEL(5) |\r\nHDMI_8x60_PHY_REG1_OUTVOL_SWING_CTRL(3));\r\n} else {\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG1,\r\nHDMI_8x60_PHY_REG1_DTEST_MUX_SEL(5) |\r\nHDMI_8x60_PHY_REG1_OUTVOL_SWING_CTRL(4));\r\n}\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG2,\r\nHDMI_8x60_PHY_REG2_PD_PWRGEN |\r\nHDMI_8x60_PHY_REG2_PD_PLL |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_4 |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_3 |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_2 |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_1 |\r\nHDMI_8x60_PHY_REG2_PD_DESER);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG2,\r\nHDMI_8x60_PHY_REG2_PD_PLL |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_4 |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_3 |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_2 |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_1 |\r\nHDMI_8x60_PHY_REG2_PD_DESER);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG2,\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_4 |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_3 |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_2 |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_1 |\r\nHDMI_8x60_PHY_REG2_PD_DESER);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG3,\r\nHDMI_8x60_PHY_REG3_PLL_ENABLE);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG9, 0);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG12,\r\nHDMI_8x60_PHY_REG12_RETIMING_EN |\r\nHDMI_8x60_PHY_REG12_PLL_LOCK_DETECT_EN);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG2,\r\nHDMI_8x60_PHY_REG2_PD_DESER);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG2,\r\nHDMI_8x60_PHY_REG2_RCV_SENSE_EN |\r\nHDMI_8x60_PHY_REG2_PD_DESER);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG4, 0);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG5, 0);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG6, 0);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG7, 0);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG8, 0);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG9, 0);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG10, 0);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG11, 0);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG12,\r\nHDMI_8x60_PHY_REG12_RETIMING_EN |\r\nHDMI_8x60_PHY_REG12_PLL_LOCK_DETECT_EN |\r\nHDMI_8x60_PHY_REG12_FORCE_LOCK);\r\n}\r\nstatic void hdmi_phy_8x60_powerdown(struct hdmi_phy *phy)\r\n{\r\nhdmi_phy_write(phy, REG_HDMI_PHY_CTRL,\r\nHDMI_PHY_CTRL_SW_RESET);\r\nudelay(10);\r\nhdmi_phy_write(phy, REG_HDMI_PHY_CTRL, 0);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG2,\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_4 |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_3 |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_2 |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_1 |\r\nHDMI_8x60_PHY_REG2_PD_DESER);\r\nudelay(10);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG3, 0);\r\nhdmi_phy_write(phy, REG_HDMI_8x60_PHY_REG2,\r\nHDMI_8x60_PHY_REG2_RCV_SENSE_EN |\r\nHDMI_8x60_PHY_REG2_PD_PWRGEN |\r\nHDMI_8x60_PHY_REG2_PD_PLL |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_4 |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_3 |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_2 |\r\nHDMI_8x60_PHY_REG2_PD_DRIVE_1 |\r\nHDMI_8x60_PHY_REG2_PD_DESER);\r\n}
