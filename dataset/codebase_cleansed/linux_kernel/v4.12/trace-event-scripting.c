static int flush_script_unsupported(void)\r\n{\r\nreturn 0;\r\n}\r\nstatic int stop_script_unsupported(void)\r\n{\r\nreturn 0;\r\n}\r\nstatic void process_event_unsupported(union perf_event *event __maybe_unused,\r\nstruct perf_sample *sample __maybe_unused,\r\nstruct perf_evsel *evsel __maybe_unused,\r\nstruct addr_location *al __maybe_unused)\r\n{\r\n}\r\nstatic void print_python_unsupported_msg(void)\r\n{\r\nfprintf(stderr, "Python scripting not supported."\r\n" Install libpython and rebuild perf to enable it.\n"\r\n"For example:\n # apt-get install python-dev (ubuntu)"\r\n"\n # yum install python-devel (Fedora)"\r\n"\n etc.\n");\r\n}\r\nstatic int python_start_script_unsupported(const char *script __maybe_unused,\r\nint argc __maybe_unused,\r\nconst char **argv __maybe_unused)\r\n{\r\nprint_python_unsupported_msg();\r\nreturn -1;\r\n}\r\nstatic int python_generate_script_unsupported(struct pevent *pevent\r\n__maybe_unused,\r\nconst char *outfile\r\n__maybe_unused)\r\n{\r\nprint_python_unsupported_msg();\r\nreturn -1;\r\n}\r\nstatic void register_python_scripting(struct scripting_ops *scripting_ops)\r\n{\r\nif (scripting_context == NULL)\r\nscripting_context = malloc(sizeof(*scripting_context));\r\nif (scripting_context == NULL ||\r\nscript_spec_register("Python", scripting_ops) ||\r\nscript_spec_register("py", scripting_ops)) {\r\npr_err("Error registering Python script extension: disabling it\n");\r\nzfree(&scripting_context);\r\n}\r\n}\r\nvoid setup_python_scripting(void)\r\n{\r\nregister_python_scripting(&python_scripting_unsupported_ops);\r\n}\r\nvoid setup_python_scripting(void)\r\n{\r\nregister_python_scripting(&python_scripting_ops);\r\n}\r\nstatic void print_perl_unsupported_msg(void)\r\n{\r\nfprintf(stderr, "Perl scripting not supported."\r\n" Install libperl and rebuild perf to enable it.\n"\r\n"For example:\n # apt-get install libperl-dev (ubuntu)"\r\n"\n # yum install 'perl(ExtUtils::Embed)' (Fedora)"\r\n"\n etc.\n");\r\n}\r\nstatic int perl_start_script_unsupported(const char *script __maybe_unused,\r\nint argc __maybe_unused,\r\nconst char **argv __maybe_unused)\r\n{\r\nprint_perl_unsupported_msg();\r\nreturn -1;\r\n}\r\nstatic int perl_generate_script_unsupported(struct pevent *pevent\r\n__maybe_unused,\r\nconst char *outfile __maybe_unused)\r\n{\r\nprint_perl_unsupported_msg();\r\nreturn -1;\r\n}\r\nstatic void register_perl_scripting(struct scripting_ops *scripting_ops)\r\n{\r\nif (scripting_context == NULL)\r\nscripting_context = malloc(sizeof(*scripting_context));\r\nif (scripting_context == NULL ||\r\nscript_spec_register("Perl", scripting_ops) ||\r\nscript_spec_register("pl", scripting_ops)) {\r\npr_err("Error registering Perl script extension: disabling it\n");\r\nzfree(&scripting_context);\r\n}\r\n}\r\nvoid setup_perl_scripting(void)\r\n{\r\nregister_perl_scripting(&perl_scripting_unsupported_ops);\r\n}\r\nvoid setup_perl_scripting(void)\r\n{\r\nregister_perl_scripting(&perl_scripting_ops);\r\n}
