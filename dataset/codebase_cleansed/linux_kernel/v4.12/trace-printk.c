static void trace_printk_irq_work(struct irq_work *work)\r\n{\r\ntrace_printk("(irq) This is a static string that will use trace_bputs\n");\r\ntrace_printk(trace_printk_test_global_str_irq);\r\ntrace_printk("(irq) This is a %s that will use trace_bprintk()\n",\r\n"static string");\r\ntrace_printk(trace_printk_test_global_str_fmt,\r\n"(irq) ", "dynamic string");\r\n}\r\nstatic int __init trace_printk_init(void)\r\n{\r\ninit_irq_work(&irqwork, trace_printk_irq_work);\r\ntrace_printk("This is a static string that will use trace_bputs\n");\r\ntrace_printk(trace_printk_test_global_str);\r\nirq_work_queue(&irqwork);\r\ntrace_printk("This is a %s that will use trace_bprintk()\n",\r\n"static string");\r\ntrace_printk(trace_printk_test_global_str_fmt, "", "dynamic string");\r\nreturn 0;\r\n}\r\nstatic void __exit trace_printk_exit(void)\r\n{\r\n}
