static void msm8974_pro_clock_override(void)\r\n{\r\nsdcc1_apps_clk_src_init.parent_names = gcc_xo_gpll0_gpll4;\r\nsdcc1_apps_clk_src_init.num_parents = 3;\r\nsdcc1_apps_clk_src.freq_tbl = ftbl_gcc_sdcc1_apps_clk_pro;\r\nsdcc1_apps_clk_src.parent_map = gcc_xo_gpll0_gpll4_map;\r\ngcc_msm8974_clocks[GPLL4] = &gpll4.clkr;\r\ngcc_msm8974_clocks[GPLL4_VOTE] = &gpll4_vote;\r\ngcc_msm8974_clocks[GCC_SDCC1_CDCCAL_SLEEP_CLK] =\r\n&gcc_sdcc1_cdccal_sleep_clk.clkr;\r\ngcc_msm8974_clocks[GCC_SDCC1_CDCCAL_FF_CLK] =\r\n&gcc_sdcc1_cdccal_ff_clk.clkr;\r\n}\r\nstatic int gcc_msm8974_probe(struct platform_device *pdev)\r\n{\r\nint ret;\r\nstruct device *dev = &pdev->dev;\r\nbool pro;\r\nconst struct of_device_id *id;\r\nid = of_match_device(gcc_msm8974_match_table, dev);\r\nif (!id)\r\nreturn -ENODEV;\r\npro = !!(id->data);\r\nif (pro)\r\nmsm8974_pro_clock_override();\r\nret = qcom_cc_register_board_clk(dev, "xo_board", "xo", 19200000);\r\nif (ret)\r\nreturn ret;\r\nret = qcom_cc_register_sleep_clk(dev);\r\nif (ret)\r\nreturn ret;\r\nreturn qcom_cc_probe(pdev, &gcc_msm8974_desc);\r\n}\r\nstatic int __init gcc_msm8974_init(void)\r\n{\r\nreturn platform_driver_register(&gcc_msm8974_driver);\r\n}\r\nstatic void __exit gcc_msm8974_exit(void)\r\n{\r\nplatform_driver_unregister(&gcc_msm8974_driver);\r\n}
