int __init clockevent_probe(void)\r\n{\r\nstruct device_node *np;\r\nconst struct of_device_id *match;\r\nof_init_fn_1_ret init_func;\r\nint ret, clockevents = 0;\r\nfor_each_matching_node_and_match(np, __clkevt_of_table, &match) {\r\nif (!of_device_is_available(np))\r\ncontinue;\r\ninit_func = match->data;\r\nret = init_func(np);\r\nif (ret) {\r\npr_warn("Failed to initialize '%s' (%d)\n",\r\nnp->name, ret);\r\ncontinue;\r\n}\r\nclockevents++;\r\n}\r\nif (!clockevents) {\r\npr_crit("%s: no matching clockevent found\n", __func__);\r\nreturn -ENODEV;\r\n}\r\nreturn 0;\r\n}
