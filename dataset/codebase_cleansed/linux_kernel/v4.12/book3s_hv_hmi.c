void wait_for_subcore_guest_exit(void)\r\n{\r\nint i;\r\nif (!local_paca->sibling_subcore_state)\r\nreturn;\r\nfor (i = 0; i < MAX_SUBCORE_PER_CORE; i++)\r\nwhile (local_paca->sibling_subcore_state->in_guest[i])\r\ncpu_relax();\r\n}\r\nvoid wait_for_tb_resync(void)\r\n{\r\nif (!local_paca->sibling_subcore_state)\r\nreturn;\r\nwhile (test_bit(CORE_TB_RESYNC_REQ_BIT,\r\n&local_paca->sibling_subcore_state->flags))\r\ncpu_relax();\r\n}
