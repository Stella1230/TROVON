asmlinkage int sys_cacheflush(unsigned long addr, unsigned long len,\r\nunsigned int op)\r\n{\r\nstruct vm_area_struct *vma;\r\nif (len == 0)\r\nreturn 0;\r\nif (op)\r\nreturn -EINVAL;\r\nif (addr + len < addr)\r\nreturn -EFAULT;\r\nvma = find_vma(current->mm, addr);\r\nif (vma == NULL || addr < vma->vm_start || addr + len > vma->vm_end)\r\nreturn -EFAULT;\r\nflush_cache_range(vma, addr, addr + len);\r\nreturn 0;\r\n}\r\nasmlinkage int sys_getpagesize(void)\r\n{\r\nreturn PAGE_SIZE;\r\n}
