static int __init cpufreq_dt_platdev_init(void)\r\n{\r\nstruct device_node *np = of_find_node_by_path("/");\r\nconst struct of_device_id *match;\r\nif (!np)\r\nreturn -ENODEV;\r\nmatch = of_match_node(machines, np);\r\nof_node_put(np);\r\nif (!match)\r\nreturn -ENODEV;\r\nreturn PTR_ERR_OR_ZERO(platform_device_register_data(NULL, "cpufreq-dt",\r\n-1, match->data,\r\nsizeof(struct cpufreq_dt_platform_data)));\r\n}
