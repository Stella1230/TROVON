static int pwm_lpss_probe_platform(struct platform_device *pdev)\r\n{\r\nconst struct pwm_lpss_boardinfo *info;\r\nconst struct acpi_device_id *id;\r\nstruct pwm_lpss_chip *lpwm;\r\nstruct resource *r;\r\nid = acpi_match_device(pdev->dev.driver->acpi_match_table, &pdev->dev);\r\nif (!id)\r\nreturn -ENODEV;\r\ninfo = (const struct pwm_lpss_boardinfo *)id->driver_data;\r\nr = platform_get_resource(pdev, IORESOURCE_MEM, 0);\r\nlpwm = pwm_lpss_probe(&pdev->dev, r, info);\r\nif (IS_ERR(lpwm))\r\nreturn PTR_ERR(lpwm);\r\nplatform_set_drvdata(pdev, lpwm);\r\npm_runtime_set_active(&pdev->dev);\r\npm_runtime_enable(&pdev->dev);\r\nreturn 0;\r\n}\r\nstatic int pwm_lpss_remove_platform(struct platform_device *pdev)\r\n{\r\nstruct pwm_lpss_chip *lpwm = platform_get_drvdata(pdev);\r\npm_runtime_disable(&pdev->dev);\r\nreturn pwm_lpss_remove(lpwm);\r\n}
