DWtype __lshrdi3(DWtype u, word_type b)\r\n{\r\nconst DWunion uu = {.ll = u};\r\nconst word_type bm = (sizeof (Wtype) * BITS_PER_UNIT) - b;\r\nDWunion w;\r\nif (b == 0)\r\nreturn u;\r\nif (bm <= 0) {\r\nw.s.high = 0;\r\nw.s.low = (UWtype) uu.s.high >> -bm;\r\n} else {\r\nconst UWtype carries = (UWtype) uu.s.high << bm;\r\nw.s.high = (UWtype) uu.s.high >> b;\r\nw.s.low = ((UWtype) uu.s.low >> b) | carries;\r\n}\r\nreturn w.ll;\r\n}
