struct usb_interface *comedi_to_usb_interface(struct comedi_device *dev)\r\n{\r\nreturn dev->hw_dev ? to_usb_interface(dev->hw_dev) : NULL;\r\n}\r\nstruct usb_device *comedi_to_usb_dev(struct comedi_device *dev)\r\n{\r\nstruct usb_interface *intf = comedi_to_usb_interface(dev);\r\nreturn intf ? interface_to_usbdev(intf) : NULL;\r\n}\r\nint comedi_usb_auto_config(struct usb_interface *intf,\r\nstruct comedi_driver *driver,\r\nunsigned long context)\r\n{\r\nreturn comedi_auto_config(&intf->dev, driver, context);\r\n}\r\nvoid comedi_usb_auto_unconfig(struct usb_interface *intf)\r\n{\r\ncomedi_auto_unconfig(&intf->dev);\r\n}\r\nint comedi_usb_driver_register(struct comedi_driver *comedi_driver,\r\nstruct usb_driver *usb_driver)\r\n{\r\nint ret;\r\nret = comedi_driver_register(comedi_driver);\r\nif (ret < 0)\r\nreturn ret;\r\nret = usb_register(usb_driver);\r\nif (ret < 0) {\r\ncomedi_driver_unregister(comedi_driver);\r\nreturn ret;\r\n}\r\nreturn 0;\r\n}\r\nvoid comedi_usb_driver_unregister(struct comedi_driver *comedi_driver,\r\nstruct usb_driver *usb_driver)\r\n{\r\nusb_deregister(usb_driver);\r\ncomedi_driver_unregister(comedi_driver);\r\n}\r\nstatic int __init comedi_usb_init(void)\r\n{\r\nreturn 0;\r\n}\r\nstatic void __exit comedi_usb_exit(void)\r\n{\r\n}
