static void usbhs_write32(struct usbhs_priv *priv, u32 reg, u32 data)\r\n{\r\niowrite32(data, priv->base + reg);\r\n}\r\nstatic int usbhs_rcar3_power_ctrl(struct platform_device *pdev,\r\nvoid __iomem *base, int enable)\r\n{\r\nstruct usbhs_priv *priv = usbhs_pdev_to_priv(pdev);\r\nusbhs_write32(priv, UGCTRL2, UGCTRL2_RESERVED_3 | UGCTRL2_USB0SEL_OTG);\r\nif (enable) {\r\nusbhs_bset(priv, LPSTS, LPSTS_SUSPM, LPSTS_SUSPM);\r\nudelay(45);\r\n} else {\r\nusbhs_bset(priv, LPSTS, LPSTS_SUSPM, 0);\r\n}\r\nreturn 0;\r\n}\r\nstatic int usbhs_rcar3_get_id(struct platform_device *pdev)\r\n{\r\nreturn USBHS_GADGET;\r\n}
