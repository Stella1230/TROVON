u8 acpi_ut_valid_nameseg(char *name)\r\n{\r\nu32 i;\r\nfor (i = 0; i < ACPI_NAME_SIZE; i++) {\r\nif (!acpi_ut_valid_name_char(name[i], i)) {\r\nreturn (FALSE);\r\n}\r\n}\r\nreturn (TRUE);\r\n}\r\nu8 acpi_ut_valid_name_char(char character, u32 position)\r\n{\r\nif (!((character >= 'A' && character <= 'Z') ||\r\n(character >= '0' && character <= '9') || (character == '_'))) {\r\nif (character == '!' && position == 3) {\r\nreturn (TRUE);\r\n}\r\nreturn (FALSE);\r\n}\r\nreturn (TRUE);\r\n}\r\nvoid acpi_ut_check_and_repair_ascii(u8 *name, char *repaired_name, u32 count)\r\n{\r\nu32 i;\r\nfor (i = 0; i < count; i++) {\r\nrepaired_name[i] = (char)name[i];\r\nif (!name[i]) {\r\nreturn;\r\n}\r\nif (!isprint(name[i])) {\r\nrepaired_name[i] = ' ';\r\n}\r\n}\r\n}
