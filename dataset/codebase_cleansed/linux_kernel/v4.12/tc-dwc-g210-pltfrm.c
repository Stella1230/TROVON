static int tc_dwc_g210_pltfm_probe(struct platform_device *pdev)\r\n{\r\nint err;\r\nconst struct of_device_id *of_id;\r\nstruct ufs_hba_variant_ops *vops;\r\nstruct device *dev = &pdev->dev;\r\nof_id = of_match_node(tc_dwc_g210_pltfm_match, dev->of_node);\r\nvops = (struct ufs_hba_variant_ops *)of_id->data;\r\nerr = ufshcd_pltfrm_init(pdev, vops);\r\nif (err)\r\ndev_err(dev, "ufshcd_pltfrm_init() failed %d\n", err);\r\nreturn err;\r\n}\r\nstatic int tc_dwc_g210_pltfm_remove(struct platform_device *pdev)\r\n{\r\nstruct ufs_hba *hba = platform_get_drvdata(pdev);\r\npm_runtime_get_sync(&(pdev)->dev);\r\nufshcd_remove(hba);\r\nreturn 0;\r\n}
