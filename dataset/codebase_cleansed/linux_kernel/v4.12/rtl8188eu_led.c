void SwLedOn(struct adapter *padapter, struct LED_871x *pLed)\r\n{\r\nu8 LedCfg;\r\nif (padapter->bSurpriseRemoved || padapter->bDriverStopped)\r\nreturn;\r\nLedCfg = usb_read8(padapter, REG_LEDCFG2);\r\nusb_write8(padapter, REG_LEDCFG2, (LedCfg&0xf0) | BIT(5) | BIT(6));\r\npLed->bLedOn = true;\r\n}\r\nvoid SwLedOff(struct adapter *padapter, struct LED_871x *pLed)\r\n{\r\nu8 LedCfg;\r\nif (padapter->bSurpriseRemoved || padapter->bDriverStopped)\r\ngoto exit;\r\nLedCfg = usb_read8(padapter, REG_LEDCFG2);\r\nLedCfg &= 0x90;\r\nusb_write8(padapter, REG_LEDCFG2, (LedCfg | BIT(3)));\r\nLedCfg = usb_read8(padapter, REG_MAC_PINMUX_CFG);\r\nLedCfg &= 0xFE;\r\nusb_write8(padapter, REG_MAC_PINMUX_CFG, LedCfg);\r\nexit:\r\npLed->bLedOn = false;\r\n}\r\nvoid rtw_hal_sw_led_init(struct adapter *padapter)\r\n{\r\nstruct led_priv *pledpriv = &(padapter->ledpriv);\r\nInitLed871x(padapter, &(pledpriv->SwLed0));\r\n}\r\nvoid rtw_hal_sw_led_deinit(struct adapter *padapter)\r\n{\r\nstruct led_priv *ledpriv = &(padapter->ledpriv);\r\nDeInitLed871x(&(ledpriv->SwLed0));\r\n}
