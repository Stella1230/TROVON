int dpmcp_open(struct fsl_mc_io *mc_io,\r\nu32 cmd_flags,\r\nint dpmcp_id,\r\nu16 *token)\r\n{\r\nstruct mc_command cmd = { 0 };\r\nstruct dpmcp_cmd_open *cmd_params;\r\nint err;\r\ncmd.header = mc_encode_cmd_header(DPMCP_CMDID_OPEN,\r\ncmd_flags, 0);\r\ncmd_params = (struct dpmcp_cmd_open *)cmd.params;\r\ncmd_params->dpmcp_id = cpu_to_le32(dpmcp_id);\r\nerr = mc_send_command(mc_io, &cmd);\r\nif (err)\r\nreturn err;\r\n*token = mc_cmd_hdr_read_token(&cmd);\r\nreturn err;\r\n}\r\nint dpmcp_close(struct fsl_mc_io *mc_io,\r\nu32 cmd_flags,\r\nu16 token)\r\n{\r\nstruct mc_command cmd = { 0 };\r\ncmd.header = mc_encode_cmd_header(DPMCP_CMDID_CLOSE,\r\ncmd_flags, token);\r\nreturn mc_send_command(mc_io, &cmd);\r\n}\r\nint dpmcp_reset(struct fsl_mc_io *mc_io,\r\nu32 cmd_flags,\r\nu16 token)\r\n{\r\nstruct mc_command cmd = { 0 };\r\ncmd.header = mc_encode_cmd_header(DPMCP_CMDID_RESET,\r\ncmd_flags, token);\r\nreturn mc_send_command(mc_io, &cmd);\r\n}\r\nint dpmcp_get_api_version(struct fsl_mc_io *mc_io,\r\nu32 cmd_flags,\r\nu16 *major_ver,\r\nu16 *minor_ver)\r\n{\r\nstruct mc_command cmd = { 0 };\r\nint err;\r\ncmd.header = mc_encode_cmd_header(DPMCP_CMDID_GET_API_VERSION,\r\ncmd_flags, 0);\r\nerr = mc_send_command(mc_io, &cmd);\r\nif (err)\r\nreturn err;\r\nmc_cmd_read_api_version(&cmd, major_ver, minor_ver);\r\nreturn 0;\r\n}
