static int tsc2004_cmd(struct device *dev, u8 cmd)\r\n{\r\nu8 tx = TSC200X_CMD | TSC200X_CMD_12BIT | cmd;\r\ns32 data;\r\nstruct i2c_client *i2c = to_i2c_client(dev);\r\ndata = i2c_smbus_write_byte(i2c, tx);\r\nif (data < 0) {\r\ndev_err(dev, "%s: failed, command: %x i2c error: %d\n",\r\n__func__, cmd, data);\r\nreturn data;\r\n}\r\nreturn 0;\r\n}\r\nstatic int tsc2004_probe(struct i2c_client *i2c,\r\nconst struct i2c_device_id *id)\r\n{\r\nreturn tsc200x_probe(&i2c->dev, i2c->irq, &tsc2004_input_id,\r\ndevm_regmap_init_i2c(i2c, &tsc200x_regmap_config),\r\ntsc2004_cmd);\r\n}\r\nstatic int tsc2004_remove(struct i2c_client *i2c)\r\n{\r\nreturn tsc200x_remove(&i2c->dev);\r\n}
