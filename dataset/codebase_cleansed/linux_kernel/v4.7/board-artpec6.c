static void __init artpec6_init_machine(void)\r\n{\r\nstruct regmap *regmap;\r\nregmap = syscon_regmap_lookup_by_compatible("axis,artpec6-syscon");\r\nif (!IS_ERR(regmap)) {\r\nregmap_write(regmap, ARTPEC6_DMACFG_REGNUM,\r\nARTPEC6_DMACFG_UARTS_BURST);\r\n};\r\nof_platform_populate(NULL, of_default_bus_match_table, NULL, NULL);\r\n}\r\nstatic void artpec6_l2c310_write_sec(unsigned long val, unsigned reg)\r\n{\r\nstruct arm_smccc_res res;\r\narm_smccc_smc(SECURE_OP_L2C_WRITEREG, reg, val, 0,\r\n0, 0, 0, 0, &res);\r\nWARN_ON(res.a0);\r\n}
