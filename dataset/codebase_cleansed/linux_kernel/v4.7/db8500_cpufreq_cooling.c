static int db8500_cpufreq_cooling_probe(struct platform_device *pdev)\r\n{\r\nstruct thermal_cooling_device *cdev;\r\ncdev = cpufreq_cooling_register(cpu_present_mask);\r\nif (IS_ERR(cdev)) {\r\nint ret = PTR_ERR(cdev);\r\nif (ret != -EPROBE_DEFER)\r\ndev_err(&pdev->dev,\r\n"Failed to register cooling device %d\n",\r\nret);\r\nreturn ret;\r\n}\r\nplatform_set_drvdata(pdev, cdev);\r\ndev_info(&pdev->dev, "Cooling device registered: %s\n", cdev->type);\r\nreturn 0;\r\n}\r\nstatic int db8500_cpufreq_cooling_remove(struct platform_device *pdev)\r\n{\r\nstruct thermal_cooling_device *cdev = platform_get_drvdata(pdev);\r\ncpufreq_cooling_unregister(cdev);\r\nreturn 0;\r\n}\r\nstatic int db8500_cpufreq_cooling_suspend(struct platform_device *pdev,\r\npm_message_t state)\r\n{\r\nreturn -ENOSYS;\r\n}\r\nstatic int db8500_cpufreq_cooling_resume(struct platform_device *pdev)\r\n{\r\nreturn -ENOSYS;\r\n}\r\nstatic int __init db8500_cpufreq_cooling_init(void)\r\n{\r\nreturn platform_driver_register(&db8500_cpufreq_cooling_driver);\r\n}\r\nstatic void __exit db8500_cpufreq_cooling_exit(void)\r\n{\r\nplatform_driver_unregister(&db8500_cpufreq_cooling_driver);\r\n}
