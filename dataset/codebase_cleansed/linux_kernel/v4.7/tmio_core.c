int tmio_core_mmc_enable(void __iomem *cnf, int shift, unsigned long base)\r\n{\r\nsd_config_write16(cnf, shift, CNF_CMD, SDCREN);\r\nsd_config_write32(cnf, shift, CNF_CTL_BASE, base & 0xfffe);\r\nsd_config_write8(cnf, shift, CNF_PWR_CTL_3, 0x01);\r\nsd_config_write8(cnf, shift, CNF_STOP_CLK_CTL, 0x1f);\r\nsd_config_write8(cnf, shift, CNF_PWR_CTL_2, 0x00);\r\nreturn 0;\r\n}\r\nint tmio_core_mmc_resume(void __iomem *cnf, int shift, unsigned long base)\r\n{\r\nsd_config_write16(cnf, shift, CNF_CMD, SDCREN);\r\nsd_config_write32(cnf, shift, CNF_CTL_BASE, base & 0xfffe);\r\nreturn 0;\r\n}\r\nvoid tmio_core_mmc_pwr(void __iomem *cnf, int shift, int state)\r\n{\r\nsd_config_write8(cnf, shift, CNF_PWR_CTL_2, state ? 0x02 : 0x00);\r\n}\r\nvoid tmio_core_mmc_clk_div(void __iomem *cnf, int shift, int state)\r\n{\r\nsd_config_write8(cnf, shift, CNF_SD_CLK_MODE, state ? 1 : 0);\r\n}
