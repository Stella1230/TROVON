static void __init r8a7779_map_io(void)\r\n{\r\ndebug_ll_io_init();\r\niotable_init(r8a7779_io_desc, ARRAY_SIZE(r8a7779_io_desc));\r\n}\r\nstatic void __init r8a7779_init_irq_dt(void)\r\n{\r\nirqchip_init();\r\n__raw_writel(0xffffffff, INT2NTSR0);\r\n__raw_writel(0x3fffffff, INT2NTSR1);\r\n__raw_writel(0xfffffff0, INT2SMSKCR0);\r\n__raw_writel(0xfff7ffff, INT2SMSKCR1);\r\n__raw_writel(0xfffbffdf, INT2SMSKCR2);\r\n__raw_writel(0xbffffffc, INT2SMSKCR3);\r\n__raw_writel(0x003fee3f, INT2SMSKCR4);\r\n}\r\nstatic u32 __init r8a7779_read_mode_pins(void)\r\n{\r\nstatic u32 mode;\r\nstatic bool mode_valid;\r\nif (!mode_valid) {\r\nvoid __iomem *modemr = ioremap_nocache(MODEMR, PAGE_SIZE);\r\nBUG_ON(!modemr);\r\nmode = ioread32(modemr);\r\niounmap(modemr);\r\nmode_valid = true;\r\n}\r\nreturn mode;\r\n}\r\nstatic void __init r8a7779_init_time(void)\r\n{\r\nr8a7779_clocks_init(r8a7779_read_mode_pins());\r\nclocksource_probe();\r\n}
