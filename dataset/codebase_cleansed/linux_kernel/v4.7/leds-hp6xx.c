static void hp6xxled_green_set(struct led_classdev *led_cdev,\r\nenum led_brightness value)\r\n{\r\nu8 v8;\r\nv8 = inb(PKDR);\r\nif (value)\r\noutb(v8 & (~PKDR_LED_GREEN), PKDR);\r\nelse\r\noutb(v8 | PKDR_LED_GREEN, PKDR);\r\n}\r\nstatic void hp6xxled_red_set(struct led_classdev *led_cdev,\r\nenum led_brightness value)\r\n{\r\nu16 v16;\r\nv16 = inw(HD64461_GPBDR);\r\nif (value)\r\noutw(v16 & (~HD64461_GPBDR_LED_RED), HD64461_GPBDR);\r\nelse\r\noutw(v16 | HD64461_GPBDR_LED_RED, HD64461_GPBDR);\r\n}\r\nstatic int hp6xxled_probe(struct platform_device *pdev)\r\n{\r\nint ret;\r\nret = devm_led_classdev_register(&pdev->dev, &hp6xx_red_led);\r\nif (ret < 0)\r\nreturn ret;\r\nreturn devm_led_classdev_register(&pdev->dev, &hp6xx_green_led);\r\n}
