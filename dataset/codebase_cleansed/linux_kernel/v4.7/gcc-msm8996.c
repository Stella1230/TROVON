static int gcc_msm8996_probe(struct platform_device *pdev)\r\n{\r\nstruct clk *clk;\r\nstruct device *dev = &pdev->dev;\r\nint i;\r\nstruct regmap *regmap;\r\nregmap = qcom_cc_map(pdev, &gcc_msm8996_desc);\r\nif (IS_ERR(regmap))\r\nreturn PTR_ERR(regmap);\r\nregmap_update_bits(regmap, 0x52008, BIT(21), BIT(21));\r\nfor (i = 0; i < ARRAY_SIZE(gcc_msm8996_hws); i++) {\r\nclk = devm_clk_register(dev, gcc_msm8996_hws[i]);\r\nif (IS_ERR(clk))\r\nreturn PTR_ERR(clk);\r\n}\r\nreturn qcom_cc_really_probe(pdev, &gcc_msm8996_desc, regmap);\r\n}\r\nstatic int __init gcc_msm8996_init(void)\r\n{\r\nreturn platform_driver_register(&gcc_msm8996_driver);\r\n}\r\nstatic void __exit gcc_msm8996_exit(void)\r\n{\r\nplatform_driver_unregister(&gcc_msm8996_driver);\r\n}
