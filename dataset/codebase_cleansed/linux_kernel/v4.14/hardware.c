const char *parisc_hardware_description(struct parisc_device_id *id)\r\n{\r\nstruct hp_hardware *listptr;\r\nfor (listptr = hp_hardware_list; listptr->hw_type != HPHW_FAULTY; listptr++) {\r\nif ((listptr->hw_type == id->hw_type) &&\r\n(listptr->hversion == id->hversion) &&\r\n(listptr->sversion == id->sversion)){\r\nreturn listptr->name;\r\n}\r\n}\r\nswitch (id->hw_type) {\r\ncase HPHW_NPROC:\r\nreturn "Unknown machine";\r\ncase HPHW_A_DIRECT:\r\nswitch (id->sversion) {\r\ncase 0x0D: return "MUX port";\r\ncase 0x0E: return "RS-232 port";\r\n}\r\nbreak;\r\ncase HPHW_MEMORY:\r\nreturn "Memory";\r\n}\r\nreturn "unknown device";\r\n}\r\nenum cpu_type\r\nparisc_get_cpu_type(unsigned long hversion)\r\n{\r\nstruct hp_cpu_type_mask *ptr;\r\nunsigned short model = ((unsigned short) (hversion)) >> 4;\r\nfor (ptr = hp_cpu_type_mask_list; 0 != ptr->mask; ptr++) {\r\nif (ptr->model == (model & ptr->mask))\r\nreturn ptr->cpu;\r\n}\r\npanic("could not identify CPU type\n");\r\nreturn pcx;\r\n}
