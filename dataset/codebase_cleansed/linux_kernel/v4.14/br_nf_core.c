static void fake_update_pmtu(struct dst_entry *dst, struct sock *sk,\r\nstruct sk_buff *skb, u32 mtu)\r\n{\r\n}\r\nstatic void fake_redirect(struct dst_entry *dst, struct sock *sk,\r\nstruct sk_buff *skb)\r\n{\r\n}\r\nstatic u32 *fake_cow_metrics(struct dst_entry *dst, unsigned long old)\r\n{\r\nreturn NULL;\r\n}\r\nstatic struct neighbour *fake_neigh_lookup(const struct dst_entry *dst,\r\nstruct sk_buff *skb,\r\nconst void *daddr)\r\n{\r\nreturn NULL;\r\n}\r\nstatic unsigned int fake_mtu(const struct dst_entry *dst)\r\n{\r\nreturn dst->dev->mtu;\r\n}\r\nvoid br_netfilter_rtable_init(struct net_bridge *br)\r\n{\r\nstruct rtable *rt = &br->fake_rtable;\r\natomic_set(&rt->dst.__refcnt, 1);\r\nrt->dst.dev = br->dev;\r\nrt->dst.path = &rt->dst;\r\ndst_init_metrics(&rt->dst, br_dst_default_metrics, true);\r\nrt->dst.flags = DST_NOXFRM | DST_FAKE_RTABLE;\r\nrt->dst.ops = &fake_dst_ops;\r\n}\r\nint __init br_nf_core_init(void)\r\n{\r\nreturn dst_entries_init(&fake_dst_ops);\r\n}\r\nvoid br_nf_core_fini(void)\r\n{\r\ndst_entries_destroy(&fake_dst_ops);\r\n}
