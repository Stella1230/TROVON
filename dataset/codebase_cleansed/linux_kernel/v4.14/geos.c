static void __init register_geos(void)\r\n{\r\nplatform_add_devices(geos_devs, ARRAY_SIZE(geos_devs));\r\n}\r\nstatic int __init geos_init(void)\r\n{\r\nconst char *vendor, *product;\r\nif (!is_geode())\r\nreturn 0;\r\nvendor = dmi_get_system_info(DMI_SYS_VENDOR);\r\nif (!vendor || strcmp(vendor, "Traverse Technologies"))\r\nreturn 0;\r\nproduct = dmi_get_system_info(DMI_PRODUCT_NAME);\r\nif (!product || strcmp(product, "Geos"))\r\nreturn 0;\r\nprintk(KERN_INFO "%s: system is recognized as \"%s %s\"\n",\r\nKBUILD_MODNAME, vendor, product);\r\nregister_geos();\r\nreturn 0;\r\n}
