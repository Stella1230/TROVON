static u8 lpc_read_bytes(unsigned int offset, unsigned int length, u8 *dest)\r\n{\r\nint i;\r\nint sum = 0;\r\nfor (i = 0; i < length; ++i) {\r\ndest[i] = inb(offset + i);\r\nsum += dest[i];\r\n}\r\nreturn sum;\r\n}\r\nstatic u8 lpc_write_bytes(unsigned int offset, unsigned int length, u8 *msg)\r\n{\r\nint i;\r\nint sum = 0;\r\nfor (i = 0; i < length; ++i) {\r\noutb(msg[i], offset + i);\r\nsum += msg[i];\r\n}\r\nreturn sum;\r\n}\r\nu8 cros_ec_lpc_read_bytes(unsigned int offset, unsigned int length, u8 *dest)\r\n{\r\nif (length == 0)\r\nreturn 0;\r\nif (offset >= MEC_EMI_RANGE_START && offset <= MEC_EMI_RANGE_END) {\r\nif (WARN_ON(offset + length - 1 > MEC_EMI_RANGE_END))\r\nreturn 0;\r\nreturn cros_ec_lpc_io_bytes_mec(MEC_IO_READ, offset, length,\r\ndest);\r\n}\r\nif (WARN_ON(offset + length > MEC_EMI_RANGE_START &&\r\noffset < MEC_EMI_RANGE_START))\r\nreturn 0;\r\nreturn lpc_read_bytes(offset, length, dest);\r\n}\r\nu8 cros_ec_lpc_write_bytes(unsigned int offset, unsigned int length, u8 *msg)\r\n{\r\nif (length == 0)\r\nreturn 0;\r\nif (offset >= MEC_EMI_RANGE_START && offset <= MEC_EMI_RANGE_END) {\r\nif (WARN_ON(offset + length - 1 > MEC_EMI_RANGE_END))\r\nreturn 0;\r\nreturn cros_ec_lpc_io_bytes_mec(MEC_IO_WRITE, offset, length,\r\nmsg);\r\n}\r\nif (WARN_ON(offset + length > MEC_EMI_RANGE_START &&\r\noffset < MEC_EMI_RANGE_START))\r\nreturn 0;\r\nreturn lpc_write_bytes(offset, length, msg);\r\n}\r\nvoid cros_ec_lpc_reg_init(void)\r\n{\r\ncros_ec_lpc_mec_init();\r\n}\r\nvoid cros_ec_lpc_reg_destroy(void)\r\n{\r\ncros_ec_lpc_mec_destroy();\r\n}\r\nu8 cros_ec_lpc_read_bytes(unsigned int offset, unsigned int length, u8 *dest)\r\n{\r\nreturn lpc_read_bytes(offset, length, dest);\r\n}\r\nu8 cros_ec_lpc_write_bytes(unsigned int offset, unsigned int length, u8 *msg)\r\n{\r\nreturn lpc_write_bytes(offset, length, msg);\r\n}\r\nvoid cros_ec_lpc_reg_init(void)\r\n{\r\n}\r\nvoid cros_ec_lpc_reg_destroy(void)\r\n{\r\n}
