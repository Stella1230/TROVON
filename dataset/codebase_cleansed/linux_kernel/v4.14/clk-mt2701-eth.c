static int clk_mt2701_eth_probe(struct platform_device *pdev)\r\n{\r\nstruct clk_onecell_data *clk_data;\r\nint r;\r\nstruct device_node *node = pdev->dev.of_node;\r\nclk_data = mtk_alloc_clk_data(CLK_ETHSYS_NR);\r\nmtk_clk_register_gates(node, eth_clks, ARRAY_SIZE(eth_clks),\r\nclk_data);\r\nr = of_clk_add_provider(node, of_clk_src_onecell_get, clk_data);\r\nif (r)\r\ndev_err(&pdev->dev,\r\n"could not register clock provider: %s: %d\n",\r\npdev->name, r);\r\nmtk_register_reset_controller(node, 1, 0x34);\r\nreturn r;\r\n}
