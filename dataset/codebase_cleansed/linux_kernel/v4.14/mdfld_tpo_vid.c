static struct drm_display_mode *tpo_vid_get_config_mode(struct drm_device *dev)\r\n{\r\nstruct drm_display_mode *mode;\r\nmode = kzalloc(sizeof(*mode), GFP_KERNEL);\r\nif (!mode)\r\nreturn NULL;\r\nmode->hdisplay = 864;\r\nmode->vdisplay = 480;\r\nmode->hsync_start = 873;\r\nmode->hsync_end = 876;\r\nmode->htotal = 887;\r\nmode->vsync_start = 487;\r\nmode->vsync_end = 490;\r\nmode->vtotal = 499;\r\nmode->clock = 33264;\r\ndrm_mode_set_name(mode);\r\ndrm_mode_set_crtcinfo(mode, 0);\r\nmode->type |= DRM_MODE_TYPE_PREFERRED;\r\nreturn mode;\r\n}\r\nstatic int tpo_vid_get_panel_info(struct drm_device *dev,\r\nint pipe,\r\nstruct panel_info *pi)\r\n{\r\nif (!dev || !pi)\r\nreturn -EINVAL;\r\npi->width_mm = TPO_PANEL_WIDTH;\r\npi->height_mm = TPO_PANEL_HEIGHT;\r\nreturn 0;\r\n}
