static int __init r8a7791_cpg_mssr_init(struct device *dev)\r\n{\r\nconst struct rcar_gen2_cpg_pll_config *cpg_pll_config;\r\nstruct device_node *np = dev->of_node;\r\nunsigned int i;\r\nu32 cpg_mode;\r\nint error;\r\nerror = rcar_rst_read_mode_pins(&cpg_mode);\r\nif (error)\r\nreturn error;\r\ncpg_pll_config = &cpg_pll_configs[CPG_PLL_CONFIG_INDEX(cpg_mode)];\r\nif (of_device_is_compatible(np, "renesas,r8a7793-cpg-mssr")) {\r\nfor (i = 0; i < ARRAY_SIZE(r8a7791_core_clks); i++)\r\nif (r8a7791_core_clks[i].id == R8A7791_CLK_ZG) {\r\nr8a7791_core_clks[i].div = 5;\r\nbreak;\r\n}\r\n}\r\nreturn rcar_gen2_cpg_init(cpg_pll_config, 2, cpg_mode);\r\n}
