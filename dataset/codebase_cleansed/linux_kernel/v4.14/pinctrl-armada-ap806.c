static int armada_ap806_pinctrl_probe(struct platform_device *pdev)\r\n{\r\nstruct mvebu_pinctrl_soc_info *soc = &armada_ap806_pinctrl_info;\r\nconst struct of_device_id *match =\r\nof_match_device(armada_ap806_pinctrl_of_match, &pdev->dev);\r\nif (!match || !pdev->dev.parent)\r\nreturn -ENODEV;\r\nsoc->variant = 0;\r\nsoc->controls = armada_ap806_mpp_controls;\r\nsoc->ncontrols = ARRAY_SIZE(armada_ap806_mpp_controls);\r\nsoc->gpioranges = armada_ap806_mpp_gpio_ranges;\r\nsoc->ngpioranges = ARRAY_SIZE(armada_ap806_mpp_gpio_ranges);\r\nsoc->modes = armada_ap806_mpp_modes;\r\nsoc->nmodes = armada_ap806_mpp_controls[0].npins;\r\npdev->dev.platform_data = soc;\r\nreturn mvebu_pinctrl_simple_regmap_probe(pdev, pdev->dev.parent, 0);\r\n}
