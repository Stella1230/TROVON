static int ez_input_mapping(struct hid_device *hdev, struct hid_input *hi,\r\nstruct hid_field *field, struct hid_usage *usage,\r\nunsigned long **bit, int *max)\r\n{\r\nif ((usage->hid & HID_USAGE_PAGE) != HID_UP_CONSUMER)\r\nreturn 0;\r\nswitch (usage->hid & HID_USAGE) {\r\ncase 0x230: ez_map_key(BTN_MOUSE); break;\r\ncase 0x231: ez_map_rel(REL_WHEEL); break;\r\ncase 0x232: ez_map_rel(REL_HWHEEL); break;\r\ndefault:\r\nreturn 0;\r\n}\r\nreturn 1;\r\n}\r\nstatic int ez_event(struct hid_device *hdev, struct hid_field *field,\r\nstruct hid_usage *usage, __s32 value)\r\n{\r\nif (!(hdev->claimed & HID_CLAIMED_INPUT) || !field->hidinput ||\r\n!usage->type)\r\nreturn 0;\r\nif (usage->type == EV_REL && usage->code == REL_HWHEEL) {\r\nstruct input_dev *input = field->hidinput->input;\r\ninput_event(input, usage->type, REL_WHEEL, -value);\r\nreturn 1;\r\n}\r\nreturn 0;\r\n}
