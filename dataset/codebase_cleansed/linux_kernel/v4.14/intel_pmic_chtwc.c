static int intel_cht_wc_pmic_get_power(struct regmap *regmap, int reg,\r\nint bit, u64 *value)\r\n{\r\nint data;\r\nif (regmap_read(regmap, reg, &data))\r\nreturn -EIO;\r\n*value = (data & bit) ? 1 : 0;\r\nreturn 0;\r\n}\r\nstatic int intel_cht_wc_pmic_update_power(struct regmap *regmap, int reg,\r\nint bitmask, bool on)\r\n{\r\nreturn regmap_update_bits(regmap, reg, bitmask, on ? 1 : 0);\r\n}\r\nstatic int intel_cht_wc_pmic_opregion_probe(struct platform_device *pdev)\r\n{\r\nstruct intel_soc_pmic *pmic = dev_get_drvdata(pdev->dev.parent);\r\nreturn intel_pmic_install_opregion_handler(&pdev->dev,\r\nACPI_HANDLE(pdev->dev.parent),\r\npmic->regmap,\r\n&intel_cht_wc_pmic_opregion_data);\r\n}
