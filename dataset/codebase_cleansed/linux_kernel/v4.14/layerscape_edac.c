static int __init fsl_ddr_mc_init(void)\r\n{\r\nint res;\r\nswitch (edac_op_state) {\r\ncase EDAC_OPSTATE_POLL:\r\ncase EDAC_OPSTATE_INT:\r\nbreak;\r\ndefault:\r\nedac_op_state = EDAC_OPSTATE_INT;\r\nbreak;\r\n}\r\nres = platform_driver_register(&fsl_ddr_mc_err_driver);\r\nif (res) {\r\npr_err("MC fails to register\n");\r\nreturn res;\r\n}\r\nreturn 0;\r\n}\r\nstatic void __exit fsl_ddr_mc_exit(void)\r\n{\r\nplatform_driver_unregister(&fsl_ddr_mc_err_driver);\r\n}
