static int dp83848_ack_interrupt(struct phy_device *phydev)\r\n{\r\nint err = phy_read(phydev, DP83848_MISR);\r\nreturn err < 0 ? err : 0;\r\n}\r\nstatic int dp83848_config_intr(struct phy_device *phydev)\r\n{\r\nint control, ret;\r\ncontrol = phy_read(phydev, DP83848_MICR);\r\nif (control < 0)\r\nreturn control;\r\nif (phydev->interrupts == PHY_INTERRUPT_ENABLED) {\r\ncontrol |= DP83848_MICR_INT_OE;\r\ncontrol |= DP83848_MICR_INTEN;\r\nret = phy_write(phydev, DP83848_MISR, DP83848_INT_EN_MASK);\r\nif (ret < 0)\r\nreturn ret;\r\n} else {\r\ncontrol &= ~DP83848_MICR_INTEN;\r\n}\r\nreturn phy_write(phydev, DP83848_MICR, control);\r\n}
