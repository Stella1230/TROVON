input_system_error_t ia_css_isys_init(void)\r\n{\r\nbackend_channel_cfg_t backend_ch0;\r\nbackend_channel_cfg_t backend_ch1;\r\ntarget_cfg2400_t targetB;\r\ntarget_cfg2400_t targetC;\r\nuint32_t acq_mem_region_size = 24;\r\nuint32_t acq_nof_mem_regions = 2;\r\ninput_system_error_t error = INPUT_SYSTEM_ERR_NO_ERROR;\r\nmemset(&backend_ch0, 0, sizeof(backend_channel_cfg_t));\r\nmemset(&backend_ch1, 0, sizeof(backend_channel_cfg_t));\r\nmemset(&targetB, 0, sizeof(targetB));\r\nmemset(&targetC, 0, sizeof(targetC));\r\nerror = input_system_configuration_reset();\r\nif (error != INPUT_SYSTEM_ERR_NO_ERROR)\r\nreturn error;\r\nerror = input_system_csi_xmem_channel_cfg(\r\n0,\r\nINPUT_SYSTEM_PORT_A,\r\nbackend_ch0,\r\n32,\r\n6,\r\nacq_mem_region_size,\r\nacq_nof_mem_regions,\r\ntargetB,\r\n3);\r\nif (error != INPUT_SYSTEM_ERR_NO_ERROR)\r\nreturn error;\r\nerror = input_system_csi_xmem_channel_cfg(\r\n1,\r\nINPUT_SYSTEM_PORT_B,\r\nbackend_ch0,\r\n16,\r\n3,\r\nacq_mem_region_size,\r\nacq_nof_mem_regions,\r\ntargetB,\r\n3);\r\nif (error != INPUT_SYSTEM_ERR_NO_ERROR)\r\nreturn error;\r\nerror = input_system_csi_xmem_channel_cfg(\r\n2,\r\nINPUT_SYSTEM_PORT_C,\r\nbackend_ch1,\r\n32,\r\n3,\r\nacq_mem_region_size,\r\nacq_nof_mem_regions,\r\ntargetC,\r\n2);\r\nif (error != INPUT_SYSTEM_ERR_NO_ERROR)\r\nreturn error;\r\nerror = input_system_configuration_commit();\r\nreturn error;\r\n}\r\ninput_system_error_t ia_css_isys_init(void)\r\n{\r\ninput_system_error_t error = INPUT_SYSTEM_ERR_NO_ERROR;\r\nia_css_isys_csi_rx_lut_rmgr_init();\r\nia_css_isys_ibuf_rmgr_init();\r\nia_css_isys_dma_channel_rmgr_init();\r\nia_css_isys_stream2mmio_sid_rmgr_init();\r\nisys2401_dma_set_max_burst_size(ISYS2401_DMA0_ID,\r\n1 );\r\nisys_irqc_status_enable(ISYS_IRQ0_ID);\r\nisys_irqc_status_enable(ISYS_IRQ1_ID);\r\nisys_irqc_status_enable(ISYS_IRQ2_ID);\r\nreturn error;\r\n}\r\nvoid ia_css_isys_uninit(void)\r\n{\r\n}\r\nvoid ia_css_isys_uninit(void)\r\n{\r\nia_css_isys_csi_rx_lut_rmgr_uninit();\r\nia_css_isys_ibuf_rmgr_uninit();\r\nia_css_isys_dma_channel_rmgr_uninit();\r\nia_css_isys_stream2mmio_sid_rmgr_uninit();\r\n}
