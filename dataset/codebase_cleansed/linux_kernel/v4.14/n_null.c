static int n_null_open(struct tty_struct *tty)\r\n{\r\nreturn 0;\r\n}\r\nstatic void n_null_close(struct tty_struct *tty)\r\n{\r\n}\r\nstatic ssize_t n_null_read(struct tty_struct *tty, struct file *file,\r\nunsigned char __user * buf, size_t nr)\r\n{\r\nreturn -EOPNOTSUPP;\r\n}\r\nstatic ssize_t n_null_write(struct tty_struct *tty, struct file *file,\r\nconst unsigned char *buf, size_t nr)\r\n{\r\nreturn -EOPNOTSUPP;\r\n}\r\nstatic void n_null_receivebuf(struct tty_struct *tty,\r\nconst unsigned char *cp, char *fp,\r\nint cnt)\r\n{\r\n}\r\nstatic int __init n_null_init(void)\r\n{\r\nBUG_ON(tty_register_ldisc(N_NULL, &null_ldisc));\r\nreturn 0;\r\n}\r\nstatic void __exit n_null_exit(void)\r\n{\r\ntty_unregister_ldisc(N_NULL);\r\n}
