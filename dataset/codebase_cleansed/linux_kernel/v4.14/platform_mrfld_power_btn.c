static int mrfld_power_btn_scu_status_change(struct notifier_block *nb,\r\nunsigned long code, void *data)\r\n{\r\nif (code == SCU_DOWN) {\r\nplatform_device_unregister(&mrfld_power_btn_dev);\r\nreturn 0;\r\n}\r\nreturn platform_device_register(&mrfld_power_btn_dev);\r\n}\r\nstatic int __init register_mrfld_power_btn(void)\r\n{\r\nif (intel_mid_identify_cpu() != INTEL_MID_CPU_CHIP_TANGIER)\r\nreturn -ENODEV;\r\nintel_scu_notifier_add(&mrfld_power_btn_scu_notifier);\r\nreturn 0;\r\n}\r\nstatic void __init *mrfld_power_btn_platform_data(void *info)\r\n{\r\nstruct resource *res = mrfld_power_btn_resources;\r\nstruct sfi_device_table_entry *pentry = info;\r\nres->start = res->end = pentry->irq;\r\nreturn NULL;\r\n}
