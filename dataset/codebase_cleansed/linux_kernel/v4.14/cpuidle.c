static int s3c64xx_enter_idle(struct cpuidle_device *dev,\r\nstruct cpuidle_driver *drv,\r\nint index)\r\n{\r\nunsigned long tmp;\r\ntmp = __raw_readl(S3C64XX_PWR_CFG);\r\ntmp &= ~S3C64XX_PWRCFG_CFG_WFI_MASK;\r\ntmp |= S3C64XX_PWRCFG_CFG_WFI_IDLE;\r\n__raw_writel(tmp, S3C64XX_PWR_CFG);\r\ncpu_do_idle();\r\nreturn index;\r\n}\r\nstatic int __init s3c64xx_init_cpuidle(void)\r\n{\r\nif (soc_is_s3c64xx())\r\nreturn cpuidle_register(&s3c64xx_cpuidle_driver, NULL);\r\nreturn 0;\r\n}
