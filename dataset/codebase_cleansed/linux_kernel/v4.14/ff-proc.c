static void proc_dump_clock_config(struct snd_info_entry *entry,\r\nstruct snd_info_buffer *buffer)\r\n{\r\nstruct snd_ff *ff = entry->private_data;\r\nff->spec->protocol->dump_clock_config(ff, buffer);\r\n}\r\nstatic void proc_dump_sync_status(struct snd_info_entry *entry,\r\nstruct snd_info_buffer *buffer)\r\n{\r\nstruct snd_ff *ff = entry->private_data;\r\nff->spec->protocol->dump_sync_status(ff, buffer);\r\n}\r\nstatic void add_node(struct snd_ff *ff, struct snd_info_entry *root,\r\nconst char *name,\r\nvoid (*op)(struct snd_info_entry *e,\r\nstruct snd_info_buffer *b))\r\n{\r\nstruct snd_info_entry *entry;\r\nentry = snd_info_create_card_entry(ff->card, name, root);\r\nif (entry == NULL)\r\nreturn;\r\nsnd_info_set_text_ops(entry, ff, op);\r\nif (snd_info_register(entry) < 0)\r\nsnd_info_free_entry(entry);\r\n}\r\nvoid snd_ff_proc_init(struct snd_ff *ff)\r\n{\r\nstruct snd_info_entry *root;\r\nroot = snd_info_create_card_entry(ff->card, "firewire",\r\nff->card->proc_root);\r\nif (root == NULL)\r\nreturn;\r\nroot->mode = S_IFDIR | S_IRUGO | S_IXUGO;\r\nif (snd_info_register(root) < 0) {\r\nsnd_info_free_entry(root);\r\nreturn;\r\n}\r\nadd_node(ff, root, "clock-config", proc_dump_clock_config);\r\nadd_node(ff, root, "sync-status", proc_dump_sync_status);\r\n}
