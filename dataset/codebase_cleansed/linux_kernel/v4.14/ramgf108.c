u32\r\ngf108_ram_probe_fbp_amount(const struct nvkm_ram_func *func, u32 fbpao,\r\nstruct nvkm_device *device, int fbp, int *pltcs)\r\n{\r\nu32 fbpt = nvkm_rd32(device, 0x022438);\r\nu32 fbpat = nvkm_rd32(device, 0x02243c);\r\nu32 fbpas = fbpat / fbpt;\r\nu32 fbpa = fbp * fbpas;\r\nu32 size = 0;\r\nwhile (fbpas--) {\r\nif (!(fbpao & BIT(fbpa)))\r\nsize += func->probe_fbpa_amount(device, fbpa);\r\nfbpa++;\r\n}\r\n*pltcs = 1;\r\nreturn size;\r\n}\r\nint\r\ngf108_ram_new(struct nvkm_fb *fb, struct nvkm_ram **pram)\r\n{\r\nreturn gf100_ram_new_(&gf108_ram, fb, pram);\r\n}
