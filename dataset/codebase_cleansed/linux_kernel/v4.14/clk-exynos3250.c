static void __init exynos3_core_down_clock(void __iomem *reg_base)\r\n{\r\nunsigned int tmp;\r\ntmp = (PWR_CTRL1_CORE2_DOWN_RATIO(7) | PWR_CTRL1_CORE1_DOWN_RATIO(7) |\r\nPWR_CTRL1_DIV2_DOWN_EN | PWR_CTRL1_DIV1_DOWN_EN |\r\nPWR_CTRL1_USE_CORE1_WFE | PWR_CTRL1_USE_CORE0_WFE |\r\nPWR_CTRL1_USE_CORE1_WFI | PWR_CTRL1_USE_CORE0_WFI);\r\n__raw_writel(tmp, reg_base + PWR_CTRL1);\r\n__raw_writel(0x0, reg_base + PWR_CTRL2);\r\n}\r\nstatic void __init exynos3250_cmu_init(struct device_node *np)\r\n{\r\nstruct samsung_clk_provider *ctx;\r\nctx = samsung_cmu_register_one(np, &cmu_info);\r\nif (!ctx)\r\nreturn;\r\nexynos_register_cpu_clock(ctx, CLK_ARM_CLK, "armclk",\r\nmout_core_p[0], mout_core_p[1], 0x14200,\r\ne3250_armclk_d, ARRAY_SIZE(e3250_armclk_d),\r\nCLK_CPU_HAS_DIV1);\r\nexynos3_core_down_clock(ctx->reg_base);\r\n}\r\nstatic void __init exynos3250_cmu_dmc_init(struct device_node *np)\r\n{\r\nsamsung_cmu_register_one(np, &dmc_cmu_info);\r\n}\r\nstatic int __init exynos3250_cmu_isp_probe(struct platform_device *pdev)\r\n{\r\nstruct device_node *np = pdev->dev.of_node;\r\nsamsung_cmu_register_one(np, &isp_cmu_info);\r\nreturn 0;\r\n}\r\nstatic int __init exynos3250_cmu_platform_init(void)\r\n{\r\nreturn platform_driver_probe(&exynos3250_cmu_isp_driver,\r\nexynos3250_cmu_isp_probe);\r\n}
