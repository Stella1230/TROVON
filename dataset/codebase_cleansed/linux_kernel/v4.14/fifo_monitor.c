void fifo_channel_get_state(\r\nconst fifo_monitor_ID_t ID,\r\nconst fifo_channel_t channel_id,\r\nfifo_channel_state_t *state)\r\n{\r\nassert(channel_id < N_FIFO_CHANNEL);\r\nassert(state != NULL);\r\nswitch (channel_id) {\r\ncase FIFO_CHANNEL_ISP0_TO_SP0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_SND_SP);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_SND_SP);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_RCV_ISP);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_RCV_ISP);\r\nbreak;\r\ncase FIFO_CHANNEL_SP0_TO_ISP0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SND_ISP);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SND_ISP);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_RCV_SP);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_RCV_SP);\r\nbreak;\r\ncase FIFO_CHANNEL_ISP0_TO_IF0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_SND_PIF_A);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_SND_PIF_A);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_PIF_A);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_PIF_A);\r\nbreak;\r\ncase FIFO_CHANNEL_IF0_TO_ISP0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_PIF_A);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_PIF_A);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_RCV_PIF_A);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_RCV_PIF_A);\r\nbreak;\r\ncase FIFO_CHANNEL_ISP0_TO_IF1:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_SND_PIF_B);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_SND_PIF_B);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_PIF_B);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_PIF_B);\r\nbreak;\r\ncase FIFO_CHANNEL_IF1_TO_ISP0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_PIF_B);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_PIF_B);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_RCV_PIF_B);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_RCV_PIF_B);\r\nbreak;\r\ncase FIFO_CHANNEL_ISP0_TO_DMA0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_SND_DMA);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_SND_DMA);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_DMA_FR_ISP);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_DMA_FR_ISP);\r\nbreak;\r\ncase FIFO_CHANNEL_DMA0_TO_ISP0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_DMA2ISP);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_DMA2ISP);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_RCV_DMA);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_RCV_DMA);\r\nbreak;\r\ncase FIFO_CHANNEL_ISP0_TO_GDC0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_SND_GDC);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_SND_GDC);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_GDC);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_GDC);\r\nbreak;\r\ncase FIFO_CHANNEL_GDC0_TO_ISP0:\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_GDC);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_GDC);\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_RCV_GDC);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_RCV_GDC);\r\nbreak;\r\ncase FIFO_CHANNEL_ISP0_TO_GDC1:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_ISP2GDC2);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_ISP2GDC2);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_CELLS2GDC2);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_CELLS2GDC2);\r\nbreak;\r\ncase FIFO_CHANNEL_GDC1_TO_ISP0:\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_GDC22CELLS);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_GDC22CELLS);\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_GDC22ISP);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_GDC22ISP);\r\nbreak;\r\ncase FIFO_CHANNEL_ISP0_TO_HOST0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_SND_GPD);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_SND_GPD);\r\n{\r\nhrt_data value = ia_css_device_load_uint32(0x0000000000380014ULL);\r\nstate->fifo_valid = !_hrt_get_bit(value, 0);\r\nstate->sink_accept = false;\r\n}\r\nbreak;\r\ncase FIFO_CHANNEL_HOST0_TO_ISP0:\r\n{\r\nhrt_data value = ia_css_device_load_uint32(0x000000000038001CULL);\r\nstate->fifo_valid = false;\r\nstate->sink_accept = !_hrt_get_bit(value, 0);\r\n}\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_RCV_GPD);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_ISP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_RCV_GPD);\r\nbreak;\r\ncase FIFO_CHANNEL_SP0_TO_IF0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SND_PIF_A);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SND_PIF_A);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_PIF_A);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_PIF_A);\r\nbreak;\r\ncase FIFO_CHANNEL_IF0_TO_SP0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_PIF_A);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_PIF_A);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_RCV_PIF_A);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_RCV_PIF_A);\r\nbreak;\r\ncase FIFO_CHANNEL_SP0_TO_IF1:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SND_PIF_B);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SND_PIF_B);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_PIF_B);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_PIF_B);\r\nbreak;\r\ncase FIFO_CHANNEL_IF1_TO_SP0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_PIF_B);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_PIF_B);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_RCV_PIF_B);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nISP_STR_MON_PORT_RCV_PIF_B);\r\nbreak;\r\ncase FIFO_CHANNEL_SP0_TO_IF2:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SND_SIF);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SND_SIF);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_SIF);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_SIF);\r\nbreak;\r\ncase FIFO_CHANNEL_IF2_TO_SP0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_SIF);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_SIF);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_RCV_SIF);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_RCV_SIF);\r\nbreak;\r\ncase FIFO_CHANNEL_SP0_TO_DMA0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SND_DMA);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SND_DMA);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_DMA_FR_SP);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_DMA_FR_SP);\r\nbreak;\r\ncase FIFO_CHANNEL_DMA0_TO_SP0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_DMA2SP);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_DMA2SP);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_RCV_DMA);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_RCV_DMA);\r\nbreak;\r\ncase FIFO_CHANNEL_SP0_TO_GDC0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_B_IDX,\r\nSP_STR_MON_PORT_B_SP2GDC1);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_B_IDX,\r\nSP_STR_MON_PORT_B_SP2GDC1);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_CELLS2GDC1);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_CELLS2GDC1);\r\nbreak;\r\ncase FIFO_CHANNEL_GDC0_TO_SP0:\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_GDC12CELLS);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_GDC12CELLS);\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_B_IDX,\r\nSP_STR_MON_PORT_B_GDC12SP);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_B_IDX,\r\nSP_STR_MON_PORT_B_GDC12SP);\r\nbreak;\r\ncase FIFO_CHANNEL_SP0_TO_GDC1:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_B_IDX,\r\nSP_STR_MON_PORT_B_SP2GDC2);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_B_IDX,\r\nSP_STR_MON_PORT_B_SP2GDC2);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_CELLS2GDC2);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_CELLS2GDC2);\r\nbreak;\r\ncase FIFO_CHANNEL_GDC1_TO_SP0:\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_GDC22CELLS);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_GDC22CELLS);\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_B_IDX,\r\nSP_STR_MON_PORT_B_GDC22SP);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_B_IDX,\r\nSP_STR_MON_PORT_B_GDC22SP);\r\nbreak;\r\ncase FIFO_CHANNEL_SP0_TO_HOST0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SND_GPD);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SND_GPD);\r\n{\r\nhrt_data value = ia_css_device_load_uint32(0x0000000000380010ULL);\r\nstate->fifo_valid = !_hrt_get_bit(value, 0);\r\nstate->sink_accept = false;\r\n}\r\nbreak;\r\ncase FIFO_CHANNEL_HOST0_TO_SP0:\r\n{\r\nhrt_data value = ia_css_device_load_uint32(0x0000000000380018ULL);\r\nstate->fifo_valid = false;\r\nstate->sink_accept = !_hrt_get_bit(value, 0);\r\n}\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_RCV_GPD);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_RCV_GPD);\r\nbreak;\r\ncase FIFO_CHANNEL_SP0_TO_STREAM2MEM0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SND_MC);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SND_MC);\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_MC);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_RCV_MC);\r\nbreak;\r\ncase FIFO_CHANNEL_STREAM2MEM0_TO_SP0:\r\nstate->fifo_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_MC);\r\nstate->sink_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_MOD_STREAM_STAT_IDX,\r\nMOD_STR_MON_PORT_SND_MC);\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_RCV_MC);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_RCV_MC);\r\nbreak;\r\ncase FIFO_CHANNEL_SP0_TO_INPUT_SYSTEM0:\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SP2ISYS);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_SP2ISYS);\r\nstate->fifo_valid = false;\r\nstate->sink_accept = false;\r\nbreak;\r\ncase FIFO_CHANNEL_INPUT_SYSTEM0_TO_SP0:\r\nstate->fifo_valid = false;\r\nstate->sink_accept = false;\r\nstate->src_valid = fifo_monitor_status_valid(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_ISYS2SP);\r\nstate->fifo_accept = fifo_monitor_status_accept(ID,\r\nHIVE_GP_REGS_SP_STREAM_STAT_IDX,\r\nSP_STR_MON_PORT_ISYS2SP);\r\nbreak;\r\ndefault:\r\nassert(0);\r\nbreak;\r\n}\r\nreturn;\r\n}\r\nvoid fifo_switch_get_state(\r\nconst fifo_monitor_ID_t ID,\r\nconst fifo_switch_t switch_id,\r\nfifo_switch_state_t *state)\r\n{\r\nhrt_data data = (hrt_data)-1;\r\nassert(ID == FIFO_MONITOR0_ID);\r\nassert(switch_id < N_FIFO_SWITCH);\r\nassert(state != NULL);\r\n(void)ID;\r\ndata = gp_device_reg_load(GP_DEVICE0_ID, FIFO_SWITCH_ADDR[switch_id]);\r\nstate->is_none = (data == HIVE_ISP_CSS_STREAM_SWITCH_NONE);\r\nstate->is_sp = (data == HIVE_ISP_CSS_STREAM_SWITCH_SP);\r\nstate->is_isp = (data == HIVE_ISP_CSS_STREAM_SWITCH_ISP);\r\nreturn;\r\n}\r\nvoid fifo_monitor_get_state(\r\nconst fifo_monitor_ID_t ID,\r\nfifo_monitor_state_t *state)\r\n{\r\nfifo_channel_t ch_id;\r\nfifo_switch_t sw_id;\r\nassert(ID < N_FIFO_MONITOR_ID);\r\nassert(state != NULL);\r\nfor (ch_id = 0; ch_id < N_FIFO_CHANNEL; ch_id++) {\r\nfifo_channel_get_state(ID, ch_id,\r\n&(state->fifo_channels[ch_id]));\r\n}\r\nfor (sw_id = 0; sw_id < N_FIFO_SWITCH; sw_id++) {\r\nfifo_switch_get_state(ID, sw_id,\r\n&(state->fifo_switches[sw_id]));\r\n}\r\nreturn;\r\n}\r\nSTORAGE_CLASS_INLINE bool fifo_monitor_status_valid (\r\nconst fifo_monitor_ID_t ID,\r\nconst unsigned int reg,\r\nconst unsigned int port_id)\r\n{\r\nhrt_data data = fifo_monitor_reg_load(ID, reg);\r\nreturn (data >> (((port_id * 2) + _hive_str_mon_valid_offset))) & 0x1;\r\n}\r\nSTORAGE_CLASS_INLINE bool fifo_monitor_status_accept(\r\nconst fifo_monitor_ID_t ID,\r\nconst unsigned int reg,\r\nconst unsigned int port_id)\r\n{\r\nhrt_data data = fifo_monitor_reg_load(ID, reg);\r\nreturn (data >> (((port_id * 2) + _hive_str_mon_accept_offset))) & 0x1;\r\n}
