static int sh5pci_read(struct pci_bus *bus, unsigned int devfn, int where,\r\nint size, u32 *val)\r\n{\r\nSH5PCI_WRITE(PAR, CONFIG_CMD(bus, devfn, where));\r\nswitch (size) {\r\ncase 1:\r\n*val = (u8)SH5PCI_READ_BYTE(PDR + (where & 3));\r\nbreak;\r\ncase 2:\r\n*val = (u16)SH5PCI_READ_SHORT(PDR + (where & 2));\r\nbreak;\r\ncase 4:\r\n*val = SH5PCI_READ(PDR);\r\nbreak;\r\n}\r\nreturn PCIBIOS_SUCCESSFUL;\r\n}\r\nstatic int sh5pci_write(struct pci_bus *bus, unsigned int devfn, int where,\r\nint size, u32 val)\r\n{\r\nSH5PCI_WRITE(PAR, CONFIG_CMD(bus, devfn, where));\r\nswitch (size) {\r\ncase 1:\r\nSH5PCI_WRITE_BYTE(PDR + (where & 3), (u8)val);\r\nbreak;\r\ncase 2:\r\nSH5PCI_WRITE_SHORT(PDR + (where & 2), (u16)val);\r\nbreak;\r\ncase 4:\r\nSH5PCI_WRITE(PDR, val);\r\nbreak;\r\n}\r\nreturn PCIBIOS_SUCCESSFUL;\r\n}
