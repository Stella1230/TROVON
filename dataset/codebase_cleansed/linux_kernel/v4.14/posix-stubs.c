asmlinkage long sys_ni_posix_timers(void)\r\n{\r\npr_err_once("process %d (%s) attempted a POSIX timer syscall "\r\n"while CONFIG_POSIX_TIMERS is not set\n",\r\ncurrent->pid, current->comm);\r\nreturn -ENOSYS;\r\n}\r\nint do_clock_gettime(clockid_t which_clock, struct timespec64 *tp)\r\n{\r\nswitch (which_clock) {\r\ncase CLOCK_REALTIME:\r\nktime_get_real_ts64(tp);\r\nbreak;\r\ncase CLOCK_MONOTONIC:\r\nktime_get_ts64(tp);\r\nbreak;\r\ncase CLOCK_BOOTTIME:\r\nget_monotonic_boottime64(tp);\r\nbreak;\r\ndefault:\r\nreturn -EINVAL;\r\n}\r\nreturn 0;\r\n}
