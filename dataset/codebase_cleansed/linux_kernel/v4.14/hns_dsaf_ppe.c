void hns_ppe_set_tso_enable(struct hns_ppe_cb *ppe_cb, u32 value)\r\n{\r\ndsaf_set_dev_bit(ppe_cb, PPEV2_CFG_TSO_EN_REG, 0, !!value);\r\n}\r\nvoid hns_ppe_set_rss_key(struct hns_ppe_cb *ppe_cb,\r\nconst u32 rss_key[HNS_PPEV2_RSS_KEY_NUM])\r\n{\r\nu32 key_item;\r\nfor (key_item = 0; key_item < HNS_PPEV2_RSS_KEY_NUM; key_item++)\r\ndsaf_write_dev(ppe_cb, PPEV2_RSS_KEY_REG + key_item * 0x4,\r\nrss_key[key_item]);\r\n}\r\nvoid hns_ppe_set_indir_table(struct hns_ppe_cb *ppe_cb,\r\nconst u32 rss_tab[HNS_PPEV2_RSS_IND_TBL_SIZE])\r\n{\r\nint i;\r\nint reg_value;\r\nfor (i = 0; i < (HNS_PPEV2_RSS_IND_TBL_SIZE / 4); i++) {\r\nreg_value = dsaf_read_dev(ppe_cb,\r\nPPEV2_INDRECTION_TBL_REG + i * 0x4);\r\ndsaf_set_field(reg_value, PPEV2_CFG_RSS_TBL_4N0_M,\r\nPPEV2_CFG_RSS_TBL_4N0_S,\r\nrss_tab[i * 4 + 0] & 0x1F);\r\ndsaf_set_field(reg_value, PPEV2_CFG_RSS_TBL_4N1_M,\r\nPPEV2_CFG_RSS_TBL_4N1_S,\r\nrss_tab[i * 4 + 1] & 0x1F);\r\ndsaf_set_field(reg_value, PPEV2_CFG_RSS_TBL_4N2_M,\r\nPPEV2_CFG_RSS_TBL_4N2_S,\r\nrss_tab[i * 4 + 2] & 0x1F);\r\ndsaf_set_field(reg_value, PPEV2_CFG_RSS_TBL_4N3_M,\r\nPPEV2_CFG_RSS_TBL_4N3_S,\r\nrss_tab[i * 4 + 3] & 0x1F);\r\ndsaf_write_dev(\r\nppe_cb, PPEV2_INDRECTION_TBL_REG + i * 0x4, reg_value);\r\n}\r\n}\r\nstatic void __iomem *\r\nhns_ppe_common_get_ioaddr(struct ppe_common_cb *ppe_common)\r\n{\r\nreturn ppe_common->dsaf_dev->ppe_base + PPE_COMMON_REG_OFFSET;\r\n}\r\nint hns_ppe_common_get_cfg(struct dsaf_device *dsaf_dev, int comm_index)\r\n{\r\nstruct ppe_common_cb *ppe_common;\r\nint ppe_num;\r\nif (!HNS_DSAF_IS_DEBUG(dsaf_dev))\r\nppe_num = HNS_PPE_SERVICE_NW_ENGINE_NUM;\r\nelse\r\nppe_num = HNS_PPE_DEBUG_NW_ENGINE_NUM;\r\nppe_common = devm_kzalloc(dsaf_dev->dev, sizeof(*ppe_common) +\r\nppe_num * sizeof(struct hns_ppe_cb), GFP_KERNEL);\r\nif (!ppe_common)\r\nreturn -ENOMEM;\r\nppe_common->ppe_num = ppe_num;\r\nppe_common->dsaf_dev = dsaf_dev;\r\nppe_common->comm_index = comm_index;\r\nif (!HNS_DSAF_IS_DEBUG(dsaf_dev))\r\nppe_common->ppe_mode = PPE_COMMON_MODE_SERVICE;\r\nelse\r\nppe_common->ppe_mode = PPE_COMMON_MODE_DEBUG;\r\nppe_common->dev = dsaf_dev->dev;\r\nppe_common->io_base = hns_ppe_common_get_ioaddr(ppe_common);\r\ndsaf_dev->ppe_common[comm_index] = ppe_common;\r\nreturn 0;\r\n}\r\nvoid hns_ppe_common_free_cfg(struct dsaf_device *dsaf_dev, u32 comm_index)\r\n{\r\ndsaf_dev->ppe_common[comm_index] = NULL;\r\n}\r\nstatic void __iomem *hns_ppe_get_iobase(struct ppe_common_cb *ppe_common,\r\nint ppe_idx)\r\n{\r\nreturn ppe_common->dsaf_dev->ppe_base + ppe_idx * PPE_REG_OFFSET;\r\n}\r\nstatic void hns_ppe_get_cfg(struct ppe_common_cb *ppe_common)\r\n{\r\nu32 i;\r\nstruct hns_ppe_cb *ppe_cb;\r\nu32 ppe_num = ppe_common->ppe_num;\r\nfor (i = 0; i < ppe_num; i++) {\r\nppe_cb = &ppe_common->ppe_cb[i];\r\nppe_cb->dev = ppe_common->dev;\r\nppe_cb->next = NULL;\r\nppe_cb->ppe_common_cb = ppe_common;\r\nppe_cb->index = i;\r\nppe_cb->io_base = hns_ppe_get_iobase(ppe_common, i);\r\nppe_cb->virq = 0;\r\n}\r\n}\r\nstatic void hns_ppe_cnt_clr_ce(struct hns_ppe_cb *ppe_cb)\r\n{\r\ndsaf_set_dev_bit(ppe_cb, PPE_TNL_0_5_CNT_CLR_CE_REG,\r\nPPE_CNT_CLR_CE_B, 1);\r\n}\r\nstatic void hns_ppe_set_vlan_strip(struct hns_ppe_cb *ppe_cb, int en)\r\n{\r\ndsaf_write_dev(ppe_cb, PPEV2_VLAN_STRIP_EN_REG, en);\r\n}\r\nstatic void hns_ppe_checksum_hw(struct hns_ppe_cb *ppe_cb, u32 value)\r\n{\r\ndsaf_set_dev_field(ppe_cb, PPE_CFG_PRO_CHECK_EN_REG,\r\n0xfffffff, 0, value);\r\n}\r\nstatic void hns_ppe_set_qid_mode(struct ppe_common_cb *ppe_common,\r\nenum ppe_qid_mode qid_mdoe)\r\n{\r\ndsaf_set_dev_field(ppe_common, PPE_COM_CFG_QID_MODE_REG,\r\nPPE_CFG_QID_MODE_CF_QID_MODE_M,\r\nPPE_CFG_QID_MODE_CF_QID_MODE_S, qid_mdoe);\r\n}\r\nstatic void hns_ppe_set_qid(struct ppe_common_cb *ppe_common, u32 qid)\r\n{\r\nu32 qid_mod = dsaf_read_dev(ppe_common, PPE_COM_CFG_QID_MODE_REG);\r\nif (!dsaf_get_field(qid_mod, PPE_CFG_QID_MODE_DEF_QID_M,\r\nPPE_CFG_QID_MODE_DEF_QID_S)) {\r\ndsaf_set_field(qid_mod, PPE_CFG_QID_MODE_DEF_QID_M,\r\nPPE_CFG_QID_MODE_DEF_QID_S, qid);\r\ndsaf_write_dev(ppe_common, PPE_COM_CFG_QID_MODE_REG, qid_mod);\r\n}\r\n}\r\nstatic void hns_ppe_set_port_mode(struct hns_ppe_cb *ppe_cb,\r\nenum ppe_port_mode mode)\r\n{\r\ndsaf_write_dev(ppe_cb, PPE_CFG_XGE_MODE_REG, mode);\r\n}\r\nstatic int hns_ppe_common_init_hw(struct ppe_common_cb *ppe_common)\r\n{\r\nenum ppe_qid_mode qid_mode;\r\nstruct dsaf_device *dsaf_dev = ppe_common->dsaf_dev;\r\nenum dsaf_mode dsaf_mode = dsaf_dev->dsaf_mode;\r\ndsaf_dev->misc_op->ppe_comm_srst(dsaf_dev, 0);\r\nmdelay(100);\r\ndsaf_dev->misc_op->ppe_comm_srst(dsaf_dev, 1);\r\nmdelay(100);\r\nif (ppe_common->ppe_mode == PPE_COMMON_MODE_SERVICE) {\r\nswitch (dsaf_mode) {\r\ncase DSAF_MODE_ENABLE_FIX:\r\ncase DSAF_MODE_DISABLE_FIX:\r\nqid_mode = PPE_QID_MODE0;\r\nhns_ppe_set_qid(ppe_common, 0);\r\nbreak;\r\ncase DSAF_MODE_ENABLE_0VM:\r\ncase DSAF_MODE_DISABLE_2PORT_64VM:\r\nqid_mode = PPE_QID_MODE3;\r\nbreak;\r\ncase DSAF_MODE_ENABLE_8VM:\r\ncase DSAF_MODE_DISABLE_2PORT_16VM:\r\nqid_mode = PPE_QID_MODE4;\r\nbreak;\r\ncase DSAF_MODE_ENABLE_16VM:\r\ncase DSAF_MODE_DISABLE_6PORT_0VM:\r\nqid_mode = PPE_QID_MODE5;\r\nbreak;\r\ncase DSAF_MODE_ENABLE_32VM:\r\ncase DSAF_MODE_DISABLE_6PORT_16VM:\r\nqid_mode = PPE_QID_MODE2;\r\nbreak;\r\ncase DSAF_MODE_ENABLE_128VM:\r\ncase DSAF_MODE_DISABLE_6PORT_4VM:\r\nqid_mode = PPE_QID_MODE1;\r\nbreak;\r\ncase DSAF_MODE_DISABLE_2PORT_8VM:\r\nqid_mode = PPE_QID_MODE7;\r\nbreak;\r\ncase DSAF_MODE_DISABLE_6PORT_2VM:\r\nqid_mode = PPE_QID_MODE6;\r\nbreak;\r\ndefault:\r\ndev_err(ppe_common->dev,\r\n"get ppe queue mode failed! dsaf_mode=%d\n",\r\ndsaf_mode);\r\nreturn -EINVAL;\r\n}\r\nhns_ppe_set_qid_mode(ppe_common, qid_mode);\r\n}\r\ndsaf_set_dev_bit(ppe_common, PPE_COM_COMMON_CNT_CLR_CE_REG,\r\nPPE_COMMON_CNT_CLR_CE_B, 1);\r\nreturn 0;\r\n}\r\nstatic void hns_ppe_exc_irq_en(struct hns_ppe_cb *ppe_cb, int en)\r\n{\r\nu32 clr_vlue = 0xfffffffful;\r\nu32 msk_vlue = en ? 0xfffffffful : 0;\r\nu32 vld_msk = 0;\r\ndsaf_set_bit(vld_msk, 0, 1);\r\ndsaf_set_bit(vld_msk, 1, 1);\r\ndsaf_set_bit(vld_msk, 7, 1);\r\ndsaf_write_dev(ppe_cb, PPE_RINT_REG, clr_vlue);\r\ndsaf_write_dev(ppe_cb, PPE_INTEN_REG, msk_vlue & vld_msk);\r\n}\r\nstatic void hns_ppe_init_hw(struct hns_ppe_cb *ppe_cb)\r\n{\r\nstruct ppe_common_cb *ppe_common_cb = ppe_cb->ppe_common_cb;\r\nu32 port = ppe_cb->index;\r\nstruct dsaf_device *dsaf_dev = ppe_common_cb->dsaf_dev;\r\nint i;\r\nnetdev_rss_key_fill(ppe_cb->rss_key, HNS_PPEV2_RSS_KEY_SIZE);\r\ndsaf_dev->misc_op->ppe_srst(dsaf_dev, port, 0);\r\nmdelay(10);\r\ndsaf_dev->misc_op->ppe_srst(dsaf_dev, port, 1);\r\nhns_ppe_exc_irq_en(ppe_cb, 0);\r\nif (ppe_common_cb->ppe_mode == PPE_COMMON_MODE_DEBUG) {\r\nhns_ppe_set_port_mode(ppe_cb, PPE_MODE_GE);\r\ndsaf_write_dev(ppe_cb, PPE_CFG_PAUSE_IDLE_CNT_REG, 0);\r\n} else {\r\nhns_ppe_set_port_mode(ppe_cb, PPE_MODE_XGE);\r\n}\r\nhns_ppe_checksum_hw(ppe_cb, 0xffffffff);\r\nhns_ppe_cnt_clr_ce(ppe_cb);\r\nif (!AE_IS_VER1(dsaf_dev->dsaf_ver)) {\r\nhns_ppe_set_vlan_strip(ppe_cb, 0);\r\ndsaf_write_dev(ppe_cb, PPE_CFG_MAX_FRAME_LEN_REG,\r\nHNS_PPEV2_MAX_FRAME_LEN);\r\nhns_ppe_set_rss_key(ppe_cb, ppe_cb->rss_key);\r\nfor (i = 0; i < HNS_PPEV2_RSS_IND_TBL_SIZE; i++)\r\nppe_cb->rss_indir_table[i] = i;\r\nhns_ppe_set_indir_table(ppe_cb, ppe_cb->rss_indir_table);\r\n}\r\n}\r\nstatic void hns_ppe_uninit_hw(struct hns_ppe_cb *ppe_cb)\r\n{\r\nu32 port;\r\nif (ppe_cb->ppe_common_cb) {\r\nstruct dsaf_device *dsaf_dev = ppe_cb->ppe_common_cb->dsaf_dev;\r\nport = ppe_cb->index;\r\ndsaf_dev->misc_op->ppe_srst(dsaf_dev, port, 0);\r\n}\r\n}\r\nvoid hns_ppe_uninit_ex(struct ppe_common_cb *ppe_common)\r\n{\r\nu32 i;\r\nfor (i = 0; i < ppe_common->ppe_num; i++) {\r\nif (ppe_common->dsaf_dev->mac_cb[i])\r\nhns_ppe_uninit_hw(&ppe_common->ppe_cb[i]);\r\nmemset(&ppe_common->ppe_cb[i], 0, sizeof(struct hns_ppe_cb));\r\n}\r\n}\r\nvoid hns_ppe_uninit(struct dsaf_device *dsaf_dev)\r\n{\r\nu32 i;\r\nfor (i = 0; i < HNS_PPE_COM_NUM; i++) {\r\nif (dsaf_dev->ppe_common[i])\r\nhns_ppe_uninit_ex(dsaf_dev->ppe_common[i]);\r\nhns_rcb_common_free_cfg(dsaf_dev, i);\r\nhns_ppe_common_free_cfg(dsaf_dev, i);\r\n}\r\n}\r\nvoid hns_ppe_reset_common(struct dsaf_device *dsaf_dev, u8 ppe_common_index)\r\n{\r\nu32 i;\r\nint ret;\r\nstruct ppe_common_cb *ppe_common;\r\nppe_common = dsaf_dev->ppe_common[ppe_common_index];\r\nret = hns_ppe_common_init_hw(ppe_common);\r\nif (ret)\r\nreturn;\r\nfor (i = 0; i < ppe_common->ppe_num; i++) {\r\nif (dsaf_dev->mac_cb[i])\r\nhns_ppe_init_hw(&ppe_common->ppe_cb[i]);\r\n}\r\nret = hns_rcb_common_init_hw(dsaf_dev->rcb_common[ppe_common_index]);\r\nif (ret)\r\nreturn;\r\nhns_rcb_common_init_commit_hw(dsaf_dev->rcb_common[ppe_common_index]);\r\n}\r\nvoid hns_ppe_update_stats(struct hns_ppe_cb *ppe_cb)\r\n{\r\nstruct hns_ppe_hw_stats *hw_stats = &ppe_cb->hw_stats;\r\nhw_stats->rx_pkts_from_sw\r\n+= dsaf_read_dev(ppe_cb, PPE_HIS_RX_SW_PKT_CNT_REG);\r\nhw_stats->rx_pkts\r\n+= dsaf_read_dev(ppe_cb, PPE_HIS_RX_WR_BD_OK_PKT_CNT_REG);\r\nhw_stats->rx_drop_no_bd\r\n+= dsaf_read_dev(ppe_cb, PPE_HIS_RX_PKT_NO_BUF_CNT_REG);\r\nhw_stats->rx_alloc_buf_fail\r\n+= dsaf_read_dev(ppe_cb, PPE_HIS_RX_APP_BUF_FAIL_CNT_REG);\r\nhw_stats->rx_alloc_buf_wait\r\n+= dsaf_read_dev(ppe_cb, PPE_HIS_RX_APP_BUF_WAIT_CNT_REG);\r\nhw_stats->rx_drop_no_buf\r\n+= dsaf_read_dev(ppe_cb, PPE_HIS_RX_PKT_DROP_FUL_CNT_REG);\r\nhw_stats->rx_err_fifo_full\r\n+= dsaf_read_dev(ppe_cb, PPE_HIS_RX_PKT_DROP_PRT_CNT_REG);\r\nhw_stats->tx_bd_form_rcb\r\n+= dsaf_read_dev(ppe_cb, PPE_HIS_TX_BD_CNT_REG);\r\nhw_stats->tx_pkts_from_rcb\r\n+= dsaf_read_dev(ppe_cb, PPE_HIS_TX_PKT_CNT_REG);\r\nhw_stats->tx_pkts\r\n+= dsaf_read_dev(ppe_cb, PPE_HIS_TX_PKT_OK_CNT_REG);\r\nhw_stats->tx_err_fifo_empty\r\n+= dsaf_read_dev(ppe_cb, PPE_HIS_TX_PKT_EPT_CNT_REG);\r\nhw_stats->tx_err_checksum\r\n+= dsaf_read_dev(ppe_cb, PPE_HIS_TX_PKT_CS_FAIL_CNT_REG);\r\n}\r\nint hns_ppe_get_sset_count(int stringset)\r\n{\r\nif (stringset == ETH_SS_STATS || stringset == ETH_SS_PRIV_FLAGS)\r\nreturn ETH_PPE_STATIC_NUM;\r\nreturn 0;\r\n}\r\nint hns_ppe_get_regs_count(void)\r\n{\r\nreturn ETH_PPE_DUMP_NUM;\r\n}\r\nvoid hns_ppe_get_strings(struct hns_ppe_cb *ppe_cb, int stringset, u8 *data)\r\n{\r\nchar *buff = (char *)data;\r\nint index = ppe_cb->index;\r\nsnprintf(buff, ETH_GSTRING_LEN, "ppe%d_rx_sw_pkt", index);\r\nbuff = buff + ETH_GSTRING_LEN;\r\nsnprintf(buff, ETH_GSTRING_LEN, "ppe%d_rx_pkt_ok", index);\r\nbuff = buff + ETH_GSTRING_LEN;\r\nsnprintf(buff, ETH_GSTRING_LEN, "ppe%d_rx_drop_pkt_no_bd", index);\r\nbuff = buff + ETH_GSTRING_LEN;\r\nsnprintf(buff, ETH_GSTRING_LEN, "ppe%d_rx_alloc_buf_fail", index);\r\nbuff = buff + ETH_GSTRING_LEN;\r\nsnprintf(buff, ETH_GSTRING_LEN, "ppe%d_rx_alloc_buf_wait", index);\r\nbuff = buff + ETH_GSTRING_LEN;\r\nsnprintf(buff, ETH_GSTRING_LEN, "ppe%d_rx_pkt_drop_no_buf", index);\r\nbuff = buff + ETH_GSTRING_LEN;\r\nsnprintf(buff, ETH_GSTRING_LEN, "ppe%d_rx_pkt_err_fifo_full", index);\r\nbuff = buff + ETH_GSTRING_LEN;\r\nsnprintf(buff, ETH_GSTRING_LEN, "ppe%d_tx_bd", index);\r\nbuff = buff + ETH_GSTRING_LEN;\r\nsnprintf(buff, ETH_GSTRING_LEN, "ppe%d_tx_pkt", index);\r\nbuff = buff + ETH_GSTRING_LEN;\r\nsnprintf(buff, ETH_GSTRING_LEN, "ppe%d_tx_pkt_ok", index);\r\nbuff = buff + ETH_GSTRING_LEN;\r\nsnprintf(buff, ETH_GSTRING_LEN, "ppe%d_tx_pkt_err_fifo_empty", index);\r\nbuff = buff + ETH_GSTRING_LEN;\r\nsnprintf(buff, ETH_GSTRING_LEN, "ppe%d_tx_pkt_err_csum_fail", index);\r\n}\r\nvoid hns_ppe_get_stats(struct hns_ppe_cb *ppe_cb, u64 *data)\r\n{\r\nu64 *regs_buff = data;\r\nstruct hns_ppe_hw_stats *hw_stats = &ppe_cb->hw_stats;\r\nregs_buff[0] = hw_stats->rx_pkts_from_sw;\r\nregs_buff[1] = hw_stats->rx_pkts;\r\nregs_buff[2] = hw_stats->rx_drop_no_bd;\r\nregs_buff[3] = hw_stats->rx_alloc_buf_fail;\r\nregs_buff[4] = hw_stats->rx_alloc_buf_wait;\r\nregs_buff[5] = hw_stats->rx_drop_no_buf;\r\nregs_buff[6] = hw_stats->rx_err_fifo_full;\r\nregs_buff[7] = hw_stats->tx_bd_form_rcb;\r\nregs_buff[8] = hw_stats->tx_pkts_from_rcb;\r\nregs_buff[9] = hw_stats->tx_pkts;\r\nregs_buff[10] = hw_stats->tx_err_fifo_empty;\r\nregs_buff[11] = hw_stats->tx_err_checksum;\r\n}\r\nint hns_ppe_init(struct dsaf_device *dsaf_dev)\r\n{\r\nint ret;\r\nint i;\r\nfor (i = 0; i < HNS_PPE_COM_NUM; i++) {\r\nret = hns_ppe_common_get_cfg(dsaf_dev, i);\r\nif (ret)\r\ngoto get_cfg_fail;\r\nret = hns_rcb_common_get_cfg(dsaf_dev, i);\r\nif (ret)\r\ngoto get_cfg_fail;\r\nhns_ppe_get_cfg(dsaf_dev->ppe_common[i]);\r\nret = hns_rcb_get_cfg(dsaf_dev->rcb_common[i]);\r\nif (ret)\r\ngoto get_cfg_fail;\r\n}\r\nfor (i = 0; i < HNS_PPE_COM_NUM; i++)\r\nhns_ppe_reset_common(dsaf_dev, i);\r\nreturn 0;\r\nget_cfg_fail:\r\nfor (i = 0; i < HNS_PPE_COM_NUM; i++) {\r\nhns_rcb_common_free_cfg(dsaf_dev, i);\r\nhns_ppe_common_free_cfg(dsaf_dev, i);\r\n}\r\nreturn ret;\r\n}\r\nvoid hns_ppe_get_regs(struct hns_ppe_cb *ppe_cb, void *data)\r\n{\r\nstruct ppe_common_cb *ppe_common = ppe_cb->ppe_common_cb;\r\nu32 *regs = data;\r\nu32 i;\r\nu32 offset;\r\nregs[0] = dsaf_read_dev(ppe_common, PPE_COM_CFG_QID_MODE_REG);\r\nregs[1] = dsaf_read_dev(ppe_common, PPE_COM_INTEN_REG);\r\nregs[2] = dsaf_read_dev(ppe_common, PPE_COM_RINT_REG);\r\nregs[3] = dsaf_read_dev(ppe_common, PPE_COM_INTSTS_REG);\r\nregs[4] = dsaf_read_dev(ppe_common, PPE_COM_COMMON_CNT_CLR_CE_REG);\r\nfor (i = 0; i < DSAF_TOTAL_QUEUE_NUM; i++) {\r\noffset = PPE_COM_HIS_RX_PKT_QID_DROP_CNT_REG + 0x4 * i;\r\nregs[5 + i] = dsaf_read_dev(ppe_common, offset);\r\noffset = PPE_COM_HIS_RX_PKT_QID_OK_CNT_REG + 0x4 * i;\r\nregs[5 + i + DSAF_TOTAL_QUEUE_NUM]\r\n= dsaf_read_dev(ppe_common, offset);\r\noffset = PPE_COM_HIS_TX_PKT_QID_ERR_CNT_REG + 0x4 * i;\r\nregs[5 + i + DSAF_TOTAL_QUEUE_NUM * 2]\r\n= dsaf_read_dev(ppe_common, offset);\r\noffset = PPE_COM_HIS_TX_PKT_QID_OK_CNT_REG + 0x4 * i;\r\nregs[5 + i + DSAF_TOTAL_QUEUE_NUM * 3]\r\n= dsaf_read_dev(ppe_common, offset);\r\n}\r\nfor (i = 521; i < 524; i++)\r\nregs[i] = 0xeeeeeeee;\r\nregs[525] = dsaf_read_dev(ppe_cb, PPE_CFG_TX_FIFO_THRSLD_REG);\r\nregs[526] = dsaf_read_dev(ppe_cb, PPE_CFG_RX_FIFO_THRSLD_REG);\r\nregs[527] = dsaf_read_dev(ppe_cb, PPE_CFG_RX_FIFO_PAUSE_THRSLD_REG);\r\nregs[528] = dsaf_read_dev(ppe_cb, PPE_CFG_RX_FIFO_SW_BP_THRSLD_REG);\r\nregs[529] = dsaf_read_dev(ppe_cb, PPE_CFG_PAUSE_IDLE_CNT_REG);\r\nregs[530] = dsaf_read_dev(ppe_cb, PPE_CFG_BUS_CTRL_REG);\r\nregs[531] = dsaf_read_dev(ppe_cb, PPE_CFG_TNL_TO_BE_RST_REG);\r\nregs[532] = dsaf_read_dev(ppe_cb, PPE_CURR_TNL_CAN_RST_REG);\r\nregs[533] = dsaf_read_dev(ppe_cb, PPE_CFG_XGE_MODE_REG);\r\nregs[534] = dsaf_read_dev(ppe_cb, PPE_CFG_MAX_FRAME_LEN_REG);\r\nregs[535] = dsaf_read_dev(ppe_cb, PPE_CFG_RX_PKT_MODE_REG);\r\nregs[536] = dsaf_read_dev(ppe_cb, PPE_CFG_RX_VLAN_TAG_REG);\r\nregs[537] = dsaf_read_dev(ppe_cb, PPE_CFG_TAG_GEN_REG);\r\nregs[538] = dsaf_read_dev(ppe_cb, PPE_CFG_PARSE_TAG_REG);\r\nregs[539] = dsaf_read_dev(ppe_cb, PPE_CFG_PRO_CHECK_EN_REG);\r\nregs[540] = dsaf_read_dev(ppe_cb, PPE_INTEN_REG);\r\nregs[541] = dsaf_read_dev(ppe_cb, PPE_RINT_REG);\r\nregs[542] = dsaf_read_dev(ppe_cb, PPE_INTSTS_REG);\r\nregs[543] = dsaf_read_dev(ppe_cb, PPE_CFG_RX_PKT_INT_REG);\r\nregs[544] = dsaf_read_dev(ppe_cb, PPE_CFG_HEAT_DECT_TIME0_REG);\r\nregs[545] = dsaf_read_dev(ppe_cb, PPE_CFG_HEAT_DECT_TIME1_REG);\r\nregs[546] = dsaf_read_dev(ppe_cb, PPE_HIS_RX_SW_PKT_CNT_REG);\r\nregs[547] = dsaf_read_dev(ppe_cb, PPE_HIS_RX_WR_BD_OK_PKT_CNT_REG);\r\nregs[548] = dsaf_read_dev(ppe_cb, PPE_HIS_RX_PKT_NO_BUF_CNT_REG);\r\nregs[549] = dsaf_read_dev(ppe_cb, PPE_HIS_TX_BD_CNT_REG);\r\nregs[550] = dsaf_read_dev(ppe_cb, PPE_HIS_TX_PKT_CNT_REG);\r\nregs[551] = dsaf_read_dev(ppe_cb, PPE_HIS_TX_PKT_OK_CNT_REG);\r\nregs[552] = dsaf_read_dev(ppe_cb, PPE_HIS_TX_PKT_EPT_CNT_REG);\r\nregs[553] = dsaf_read_dev(ppe_cb, PPE_HIS_TX_PKT_CS_FAIL_CNT_REG);\r\nregs[554] = dsaf_read_dev(ppe_cb, PPE_HIS_RX_APP_BUF_FAIL_CNT_REG);\r\nregs[555] = dsaf_read_dev(ppe_cb, PPE_HIS_RX_APP_BUF_WAIT_CNT_REG);\r\nregs[556] = dsaf_read_dev(ppe_cb, PPE_HIS_RX_PKT_DROP_FUL_CNT_REG);\r\nregs[557] = dsaf_read_dev(ppe_cb, PPE_HIS_RX_PKT_DROP_PRT_CNT_REG);\r\nregs[558] = dsaf_read_dev(ppe_cb, PPE_TNL_0_5_CNT_CLR_CE_REG);\r\nregs[559] = dsaf_read_dev(ppe_cb, PPE_CFG_AXI_DBG_REG);\r\nregs[560] = dsaf_read_dev(ppe_cb, PPE_HIS_PRO_ERR_REG);\r\nregs[561] = dsaf_read_dev(ppe_cb, PPE_HIS_TNL_FIFO_ERR_REG);\r\nregs[562] = dsaf_read_dev(ppe_cb, PPE_CURR_CFF_DATA_NUM_REG);\r\nregs[563] = dsaf_read_dev(ppe_cb, PPE_CURR_RX_ST_REG);\r\nregs[564] = dsaf_read_dev(ppe_cb, PPE_CURR_TX_ST_REG);\r\nregs[565] = dsaf_read_dev(ppe_cb, PPE_CURR_RX_FIFO0_REG);\r\nregs[566] = dsaf_read_dev(ppe_cb, PPE_CURR_RX_FIFO1_REG);\r\nregs[567] = dsaf_read_dev(ppe_cb, PPE_CURR_TX_FIFO0_REG);\r\nregs[568] = dsaf_read_dev(ppe_cb, PPE_CURR_TX_FIFO1_REG);\r\nregs[569] = dsaf_read_dev(ppe_cb, PPE_ECO0_REG);\r\nregs[570] = dsaf_read_dev(ppe_cb, PPE_ECO1_REG);\r\nregs[571] = dsaf_read_dev(ppe_cb, PPE_ECO2_REG);\r\nfor (i = 572; i < 576; i++)\r\nregs[i] = 0xeeeeeeee;\r\n}
