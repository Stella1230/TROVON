static u8 qede_dcbnl_getstate(struct net_device *netdev)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->getstate(edev->cdev);\r\n}\r\nstatic u8 qede_dcbnl_setstate(struct net_device *netdev, u8 state)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->setstate(edev->cdev, state);\r\n}\r\nstatic void qede_dcbnl_getpermhwaddr(struct net_device *netdev,\r\nu8 *perm_addr)\r\n{\r\nmemcpy(perm_addr, netdev->dev_addr, netdev->addr_len);\r\n}\r\nstatic void qede_dcbnl_getpgtccfgtx(struct net_device *netdev, int prio,\r\nu8 *prio_type, u8 *pgid, u8 *bw_pct,\r\nu8 *up_map)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nedev->ops->dcb->getpgtccfgtx(edev->cdev, prio, prio_type,\r\npgid, bw_pct, up_map);\r\n}\r\nstatic void qede_dcbnl_getpgbwgcfgtx(struct net_device *netdev,\r\nint pgid, u8 *bw_pct)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nedev->ops->dcb->getpgbwgcfgtx(edev->cdev, pgid, bw_pct);\r\n}\r\nstatic void qede_dcbnl_getpgtccfgrx(struct net_device *netdev, int prio,\r\nu8 *prio_type, u8 *pgid, u8 *bw_pct,\r\nu8 *up_map)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nedev->ops->dcb->getpgtccfgrx(edev->cdev, prio, prio_type, pgid, bw_pct,\r\nup_map);\r\n}\r\nstatic void qede_dcbnl_getpgbwgcfgrx(struct net_device *netdev,\r\nint pgid, u8 *bw_pct)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nedev->ops->dcb->getpgbwgcfgrx(edev->cdev, pgid, bw_pct);\r\n}\r\nstatic void qede_dcbnl_getpfccfg(struct net_device *netdev, int prio,\r\nu8 *setting)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nedev->ops->dcb->getpfccfg(edev->cdev, prio, setting);\r\n}\r\nstatic void qede_dcbnl_setpfccfg(struct net_device *netdev, int prio,\r\nu8 setting)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nedev->ops->dcb->setpfccfg(edev->cdev, prio, setting);\r\n}\r\nstatic u8 qede_dcbnl_getcap(struct net_device *netdev, int capid, u8 *cap)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->getcap(edev->cdev, capid, cap);\r\n}\r\nstatic int qede_dcbnl_getnumtcs(struct net_device *netdev, int tcid, u8 *num)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->getnumtcs(edev->cdev, tcid, num);\r\n}\r\nstatic u8 qede_dcbnl_getpfcstate(struct net_device *netdev)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->getpfcstate(edev->cdev);\r\n}\r\nstatic int qede_dcbnl_getapp(struct net_device *netdev, u8 idtype, u16 id)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->getapp(edev->cdev, idtype, id);\r\n}\r\nstatic u8 qede_dcbnl_getdcbx(struct net_device *netdev)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->getdcbx(edev->cdev);\r\n}\r\nstatic void qede_dcbnl_setpgtccfgtx(struct net_device *netdev, int prio,\r\nu8 pri_type, u8 pgid, u8 bw_pct, u8 up_map)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->setpgtccfgtx(edev->cdev, prio, pri_type, pgid,\r\nbw_pct, up_map);\r\n}\r\nstatic void qede_dcbnl_setpgtccfgrx(struct net_device *netdev, int prio,\r\nu8 pri_type, u8 pgid, u8 bw_pct, u8 up_map)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->setpgtccfgrx(edev->cdev, prio, pri_type, pgid,\r\nbw_pct, up_map);\r\n}\r\nstatic void qede_dcbnl_setpgbwgcfgtx(struct net_device *netdev, int pgid,\r\nu8 bw_pct)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->setpgbwgcfgtx(edev->cdev, pgid, bw_pct);\r\n}\r\nstatic void qede_dcbnl_setpgbwgcfgrx(struct net_device *netdev, int pgid,\r\nu8 bw_pct)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->setpgbwgcfgrx(edev->cdev, pgid, bw_pct);\r\n}\r\nstatic u8 qede_dcbnl_setall(struct net_device *netdev)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->setall(edev->cdev);\r\n}\r\nstatic int qede_dcbnl_setnumtcs(struct net_device *netdev, int tcid, u8 num)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->setnumtcs(edev->cdev, tcid, num);\r\n}\r\nstatic void qede_dcbnl_setpfcstate(struct net_device *netdev, u8 state)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->setpfcstate(edev->cdev, state);\r\n}\r\nstatic int qede_dcbnl_setapp(struct net_device *netdev, u8 idtype, u16 idval,\r\nu8 up)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->setapp(edev->cdev, idtype, idval, up);\r\n}\r\nstatic u8 qede_dcbnl_setdcbx(struct net_device *netdev, u8 state)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->setdcbx(edev->cdev, state);\r\n}\r\nstatic u8 qede_dcbnl_getfeatcfg(struct net_device *netdev, int featid,\r\nu8 *flags)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->getfeatcfg(edev->cdev, featid, flags);\r\n}\r\nstatic u8 qede_dcbnl_setfeatcfg(struct net_device *netdev, int featid, u8 flags)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->setfeatcfg(edev->cdev, featid, flags);\r\n}\r\nstatic int qede_dcbnl_peer_getappinfo(struct net_device *netdev,\r\nstruct dcb_peer_app_info *info,\r\nu16 *count)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->peer_getappinfo(edev->cdev, info, count);\r\n}\r\nstatic int qede_dcbnl_peer_getapptable(struct net_device *netdev,\r\nstruct dcb_app *app)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->peer_getapptable(edev->cdev, app);\r\n}\r\nstatic int qede_dcbnl_cee_peer_getpfc(struct net_device *netdev,\r\nstruct cee_pfc *pfc)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->cee_peer_getpfc(edev->cdev, pfc);\r\n}\r\nstatic int qede_dcbnl_cee_peer_getpg(struct net_device *netdev,\r\nstruct cee_pg *pg)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->cee_peer_getpg(edev->cdev, pg);\r\n}\r\nstatic int qede_dcbnl_ieee_getpfc(struct net_device *netdev,\r\nstruct ieee_pfc *pfc)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->ieee_getpfc(edev->cdev, pfc);\r\n}\r\nstatic int qede_dcbnl_ieee_setpfc(struct net_device *netdev,\r\nstruct ieee_pfc *pfc)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->ieee_setpfc(edev->cdev, pfc);\r\n}\r\nstatic int qede_dcbnl_ieee_getets(struct net_device *netdev,\r\nstruct ieee_ets *ets)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->ieee_getets(edev->cdev, ets);\r\n}\r\nstatic int qede_dcbnl_ieee_setets(struct net_device *netdev,\r\nstruct ieee_ets *ets)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->ieee_setets(edev->cdev, ets);\r\n}\r\nstatic int qede_dcbnl_ieee_getapp(struct net_device *netdev,\r\nstruct dcb_app *app)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->ieee_getapp(edev->cdev, app);\r\n}\r\nstatic int qede_dcbnl_ieee_setapp(struct net_device *netdev,\r\nstruct dcb_app *app)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nint err;\r\nerr = dcb_ieee_setapp(netdev, app);\r\nif (err)\r\nreturn err;\r\nreturn edev->ops->dcb->ieee_setapp(edev->cdev, app);\r\n}\r\nstatic int qede_dcbnl_ieee_peer_getpfc(struct net_device *netdev,\r\nstruct ieee_pfc *pfc)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->ieee_peer_getpfc(edev->cdev, pfc);\r\n}\r\nstatic int qede_dcbnl_ieee_peer_getets(struct net_device *netdev,\r\nstruct ieee_ets *ets)\r\n{\r\nstruct qede_dev *edev = netdev_priv(netdev);\r\nreturn edev->ops->dcb->ieee_peer_getets(edev->cdev, ets);\r\n}\r\nvoid qede_set_dcbnl_ops(struct net_device *dev)\r\n{\r\ndev->dcbnl_ops = &qede_dcbnl_ops;\r\n}
