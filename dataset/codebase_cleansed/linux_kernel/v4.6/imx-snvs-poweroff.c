static void do_imx_poweroff(void)\r\n{\r\nu32 value = readl(snvs_base);\r\nwritel(value | 0x60, snvs_base);\r\n}\r\nstatic int imx_poweroff_probe(struct platform_device *pdev)\r\n{\r\nsnvs_base = of_iomap(pdev->dev.of_node, 0);\r\nif (!snvs_base) {\r\ndev_err(&pdev->dev, "failed to get memory\n");\r\nreturn -ENODEV;\r\n}\r\npm_power_off = do_imx_poweroff;\r\nreturn 0;\r\n}\r\nstatic int __init imx_poweroff_init(void)\r\n{\r\nreturn platform_driver_register(&imx_poweroff_driver);\r\n}
