void bdc_dbg_regs(struct bdc *bdc)\r\n{\r\nu32 temp;\r\ndev_vdbg(bdc->dev, "bdc->regs:%p\n", bdc->regs);\r\ntemp = bdc_readl(bdc->regs, BDC_BDCCFG0);\r\ndev_vdbg(bdc->dev, "bdccfg0:0x%08x\n", temp);\r\ntemp = bdc_readl(bdc->regs, BDC_BDCCFG1);\r\ndev_vdbg(bdc->dev, "bdccfg1:0x%08x\n", temp);\r\ntemp = bdc_readl(bdc->regs, BDC_BDCCAP0);\r\ndev_vdbg(bdc->dev, "bdccap0:0x%08x\n", temp);\r\ntemp = bdc_readl(bdc->regs, BDC_BDCCAP1);\r\ndev_vdbg(bdc->dev, "bdccap1:0x%08x\n", temp);\r\ntemp = bdc_readl(bdc->regs, BDC_USPC);\r\ndev_vdbg(bdc->dev, "uspc:0x%08x\n", temp);\r\ntemp = bdc_readl(bdc->regs, BDC_DVCSA);\r\ndev_vdbg(bdc->dev, "dvcsa:0x%08x\n", temp);\r\ntemp = bdc_readl(bdc->regs, BDC_DVCSB);\r\ndev_vdbg(bdc->dev, "dvcsb:0x%x08\n", temp);\r\n}\r\nvoid bdc_dump_epsts(struct bdc *bdc)\r\n{\r\nu32 temp;\r\ntemp = bdc_readl(bdc->regs, BDC_EPSTS0(0));\r\ndev_vdbg(bdc->dev, "BDC_EPSTS0:0x%08x\n", temp);\r\ntemp = bdc_readl(bdc->regs, BDC_EPSTS1(0));\r\ndev_vdbg(bdc->dev, "BDC_EPSTS1:0x%x\n", temp);\r\ntemp = bdc_readl(bdc->regs, BDC_EPSTS2(0));\r\ndev_vdbg(bdc->dev, "BDC_EPSTS2:0x%08x\n", temp);\r\ntemp = bdc_readl(bdc->regs, BDC_EPSTS3(0));\r\ndev_vdbg(bdc->dev, "BDC_EPSTS3:0x%08x\n", temp);\r\ntemp = bdc_readl(bdc->regs, BDC_EPSTS4(0));\r\ndev_vdbg(bdc->dev, "BDC_EPSTS4:0x%08x\n", temp);\r\ntemp = bdc_readl(bdc->regs, BDC_EPSTS5(0));\r\ndev_vdbg(bdc->dev, "BDC_EPSTS5:0x%08x\n", temp);\r\ntemp = bdc_readl(bdc->regs, BDC_EPSTS6(0));\r\ndev_vdbg(bdc->dev, "BDC_EPSTS6:0x%08x\n", temp);\r\ntemp = bdc_readl(bdc->regs, BDC_EPSTS7(0));\r\ndev_vdbg(bdc->dev, "BDC_EPSTS7:0x%08x\n", temp);\r\n}\r\nvoid bdc_dbg_srr(struct bdc *bdc, u32 srr_num)\r\n{\r\nstruct bdc_sr *sr;\r\ndma_addr_t addr;\r\nint i;\r\nsr = bdc->srr.sr_bds;\r\naddr = bdc->srr.dma_addr;\r\ndev_vdbg(bdc->dev, "bdc_dbg_srr sr:%p dqp_index:%d\n",\r\nsr, bdc->srr.dqp_index);\r\nfor (i = 0; i < NUM_SR_ENTRIES; i++) {\r\nsr = &bdc->srr.sr_bds[i];\r\ndev_vdbg(bdc->dev, "%llx %08x %08x %08x %08x\n",\r\n(unsigned long long)addr,\r\nle32_to_cpu(sr->offset[0]),\r\nle32_to_cpu(sr->offset[1]),\r\nle32_to_cpu(sr->offset[2]),\r\nle32_to_cpu(sr->offset[3]));\r\naddr += sizeof(*sr);\r\n}\r\n}\r\nvoid bdc_dbg_bd_list(struct bdc *bdc, struct bdc_ep *ep)\r\n{\r\nstruct bd_list *bd_list = &ep->bd_list;\r\nstruct bd_table *bd_table;\r\nstruct bdc_bd *bd;\r\nint tbi, bdi, gbdi;\r\ndma_addr_t dma;\r\ngbdi = 0;\r\ndev_vdbg(bdc->dev,\r\n"Dump bd list for %s epnum:%d\n",\r\nep->name, ep->ep_num);\r\ndev_vdbg(bdc->dev,\r\n"tabs:%d max_bdi:%d eqp_bdi:%d hwd_bdi:%d num_bds_table:%d\n",\r\nbd_list->num_tabs, bd_list->max_bdi, bd_list->eqp_bdi,\r\nbd_list->hwd_bdi, bd_list->num_bds_table);\r\nfor (tbi = 0; tbi < bd_list->num_tabs; tbi++) {\r\nbd_table = bd_list->bd_table_array[tbi];\r\nfor (bdi = 0; bdi < bd_list->num_bds_table; bdi++) {\r\nbd = bd_table->start_bd + bdi;\r\ndma = bd_table->dma + (sizeof(struct bdc_bd) * bdi);\r\ndev_vdbg(bdc->dev,\r\n"tbi:%2d bdi:%2d gbdi:%2d virt:%p phys:%llx %08x %08x %08x %08x\n",\r\ntbi, bdi, gbdi++, bd, (unsigned long long)dma,\r\nle32_to_cpu(bd->offset[0]),\r\nle32_to_cpu(bd->offset[1]),\r\nle32_to_cpu(bd->offset[2]),\r\nle32_to_cpu(bd->offset[3]));\r\n}\r\ndev_vdbg(bdc->dev, "\n\n");\r\n}\r\n}
