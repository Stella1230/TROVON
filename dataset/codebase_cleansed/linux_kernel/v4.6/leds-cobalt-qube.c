static void qube_front_led_set(struct led_classdev *led_cdev,\r\nenum led_brightness brightness)\r\n{\r\nif (brightness)\r\nled_value = LED_FRONT_LEFT | LED_FRONT_RIGHT;\r\nelse\r\nled_value = ~(LED_FRONT_LEFT | LED_FRONT_RIGHT);\r\nwriteb(led_value, led_port);\r\n}\r\nstatic int cobalt_qube_led_probe(struct platform_device *pdev)\r\n{\r\nstruct resource *res;\r\nres = platform_get_resource(pdev, IORESOURCE_MEM, 0);\r\nif (!res)\r\nreturn -EBUSY;\r\nled_port = devm_ioremap(&pdev->dev, res->start, resource_size(res));\r\nif (!led_port)\r\nreturn -ENOMEM;\r\nled_value = LED_FRONT_LEFT | LED_FRONT_RIGHT;\r\nwriteb(led_value, led_port);\r\nreturn devm_led_classdev_register(&pdev->dev, &qube_front_led);\r\n}
