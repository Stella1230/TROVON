mpi_limb_t\r\nmpihelp_lshift(mpi_ptr_t wp, mpi_ptr_t up, mpi_size_t usize, unsigned int cnt)\r\n{\r\nmpi_limb_t high_limb, low_limb;\r\nunsigned sh_1, sh_2;\r\nmpi_size_t i;\r\nmpi_limb_t retval;\r\nsh_1 = cnt;\r\nwp += 1;\r\nsh_2 = BITS_PER_MPI_LIMB - sh_1;\r\ni = usize - 1;\r\nlow_limb = up[i];\r\nretval = low_limb >> sh_2;\r\nhigh_limb = low_limb;\r\nwhile (--i >= 0) {\r\nlow_limb = up[i];\r\nwp[i] = (high_limb << sh_1) | (low_limb >> sh_2);\r\nhigh_limb = low_limb;\r\n}\r\nwp[i] = high_limb << sh_1;\r\nreturn retval;\r\n}
