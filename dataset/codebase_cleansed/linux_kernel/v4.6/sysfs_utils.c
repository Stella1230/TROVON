int write_sysfs_attribute(const char *attr_path, const char *new_value,\r\nsize_t len)\r\n{\r\nint fd;\r\nint length;\r\nfd = open(attr_path, O_WRONLY);\r\nif (fd < 0) {\r\ndbg("error opening attribute %s", attr_path);\r\nreturn -1;\r\n}\r\nlength = write(fd, new_value, len);\r\nif (length < 0) {\r\ndbg("error writing to attribute %s", attr_path);\r\nclose(fd);\r\nreturn -1;\r\n}\r\nclose(fd);\r\nreturn 0;\r\n}
