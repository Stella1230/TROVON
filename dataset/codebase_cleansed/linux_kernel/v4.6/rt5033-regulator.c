static int rt5033_regulator_probe(struct platform_device *pdev)\r\n{\r\nstruct rt5033_dev *rt5033 = dev_get_drvdata(pdev->dev.parent);\r\nint ret, i;\r\nstruct regulator_config config = {};\r\nconfig.dev = rt5033->dev;\r\nconfig.driver_data = rt5033;\r\nfor (i = 0; i < ARRAY_SIZE(rt5033_supported_regulators); i++) {\r\nstruct regulator_dev *regulator;\r\nconfig.regmap = rt5033->regmap;\r\nregulator = devm_regulator_register(&pdev->dev,\r\n&rt5033_supported_regulators[i], &config);\r\nif (IS_ERR(regulator)) {\r\nret = PTR_ERR(regulator);\r\ndev_err(&pdev->dev,\r\n"Regulator init failed %d: with error: %d\n",\r\ni, ret);\r\nreturn ret;\r\n}\r\n}\r\nreturn 0;\r\n}
