static int rtl821x_ack_interrupt(struct phy_device *phydev)\r\n{\r\nint err;\r\nerr = phy_read(phydev, RTL821x_INSR);\r\nreturn (err < 0) ? err : 0;\r\n}\r\nstatic int rtl8211f_ack_interrupt(struct phy_device *phydev)\r\n{\r\nint err;\r\nphy_write(phydev, RTL8211F_PAGE_SELECT, 0xa43);\r\nerr = phy_read(phydev, RTL8211F_INSR);\r\nphy_write(phydev, RTL8211F_PAGE_SELECT, 0x0);\r\nreturn (err < 0) ? err : 0;\r\n}\r\nstatic int rtl8211b_config_intr(struct phy_device *phydev)\r\n{\r\nint err;\r\nif (phydev->interrupts == PHY_INTERRUPT_ENABLED)\r\nerr = phy_write(phydev, RTL821x_INER,\r\nRTL821x_INER_INIT);\r\nelse\r\nerr = phy_write(phydev, RTL821x_INER, 0);\r\nreturn err;\r\n}\r\nstatic int rtl8211e_config_intr(struct phy_device *phydev)\r\n{\r\nint err;\r\nif (phydev->interrupts == PHY_INTERRUPT_ENABLED)\r\nerr = phy_write(phydev, RTL821x_INER,\r\nRTL8211E_INER_LINK_STATUS);\r\nelse\r\nerr = phy_write(phydev, RTL821x_INER, 0);\r\nreturn err;\r\n}\r\nstatic int rtl8211f_config_intr(struct phy_device *phydev)\r\n{\r\nint err;\r\nif (phydev->interrupts == PHY_INTERRUPT_ENABLED)\r\nerr = phy_write(phydev, RTL821x_INER,\r\nRTL8211F_INER_LINK_STATUS);\r\nelse\r\nerr = phy_write(phydev, RTL821x_INER, 0);\r\nreturn err;\r\n}\r\nstatic int rtl8211f_config_init(struct phy_device *phydev)\r\n{\r\nint ret;\r\nu16 reg;\r\nret = genphy_config_init(phydev);\r\nif (ret < 0)\r\nreturn ret;\r\nif (phydev->interface == PHY_INTERFACE_MODE_RGMII) {\r\nphy_write(phydev, RTL8211F_PAGE_SELECT, 0xd08);\r\nreg = phy_read(phydev, 0x11);\r\nreg |= RTL8211F_TX_DELAY;\r\nphy_write(phydev, 0x11, reg);\r\nphy_write(phydev, RTL8211F_PAGE_SELECT, 0x0);\r\n}\r\nreturn 0;\r\n}
