static void __init m5441x_clk_init(void)\r\n{\r\nunsigned i;\r\nfor (i = 0; i < ARRAY_SIZE(enable_clks); ++i)\r\n__clk_init_enabled(enable_clks[i]);\r\nfor (i = 0; i < ARRAY_SIZE(disable_clks); ++i)\r\n__clk_init_disabled(disable_clks[i]);\r\n}\r\nstatic void __init m5441x_uarts_init(void)\r\n{\r\n__raw_writeb(0x0f, MCFGPIO_PAR_UART0);\r\n__raw_writeb(0x00, MCFGPIO_PAR_UART1);\r\n__raw_writeb(0x00, MCFGPIO_PAR_UART2);\r\n}\r\nstatic void __init m5441x_fec_init(void)\r\n{\r\n__raw_writeb(0x03, MCFGPIO_PAR_FEC);\r\n}\r\nvoid __init config_BSP(char *commandp, int size)\r\n{\r\nm5441x_clk_init();\r\nmach_sched_init = hw_timer_init;\r\nm5441x_uarts_init();\r\nm5441x_fec_init();\r\n}\r\nstatic int __init init_BSP(void)\r\n{\r\nplatform_add_devices(m5441x_devices, ARRAY_SIZE(m5441x_devices));\r\nreturn 0;\r\n}
