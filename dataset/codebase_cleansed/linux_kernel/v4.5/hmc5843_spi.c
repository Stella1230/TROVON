static int hmc5843_spi_probe(struct spi_device *spi)\r\n{\r\nint ret;\r\nconst struct spi_device_id *id = spi_get_device_id(spi);\r\nspi->mode = SPI_MODE_3;\r\nspi->max_speed_hz = 8000000;\r\nspi->bits_per_word = 8;\r\nret = spi_setup(spi);\r\nif (ret)\r\nreturn ret;\r\nreturn hmc5843_common_probe(&spi->dev,\r\ndevm_regmap_init_spi(spi, &hmc5843_spi_regmap_config),\r\nid->driver_data, id->name);\r\n}\r\nstatic int hmc5843_spi_remove(struct spi_device *spi)\r\n{\r\nreturn hmc5843_common_remove(&spi->dev);\r\n}
