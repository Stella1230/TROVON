static int init_display(struct fbtft_par *par)\r\n{\r\npar->fbtftops.reset(par);\r\nwrite_reg(par, 0xB0, 0x80);\r\nwrite_reg(par, 0xC0, 0x0A, 0x0A);\r\nwrite_reg(par, 0xC1, 0x45, 0x07);\r\nwrite_reg(par, 0xC2, 0x33);\r\nwrite_reg(par, 0xC5, 0x00, 0x42, 0x80);\r\nwrite_reg(par, 0xB1, 0xD0, 0x11);\r\nwrite_reg(par, 0xB4, 0x02);\r\nwrite_reg(par, 0xB6, 0x00, 0x22, 0x3B);\r\nwrite_reg(par, 0xB7, 0x07);\r\nwrite_reg(par, 0x36, 0x58);\r\nwrite_reg(par, 0xF0, 0x36, 0xA5, 0xD3);\r\nwrite_reg(par, 0xE5, 0x80);\r\nwrite_reg(par, 0xE5, 0x01);\r\nwrite_reg(par, 0xB3, 0x00);\r\nwrite_reg(par, 0xE5, 0x00);\r\nwrite_reg(par, 0xF0, 0x36, 0xA5, 0x53);\r\nwrite_reg(par, 0xE0, 0x00, 0x35, 0x33, 0x00, 0x00, 0x00,\r\n0x00, 0x35, 0x33, 0x00, 0x00, 0x00);\r\nwrite_reg(par, 0x3A, 0x55);\r\nwrite_reg(par, 0x11);\r\nudelay(250);\r\nwrite_reg(par, 0x29);\r\nreturn 0;\r\n}\r\nstatic void set_addr_win(struct fbtft_par *par, int xs, int ys, int xe, int ye)\r\n{\r\nwrite_reg(par, 0x2A, xs >> 8, xs & 0xFF, xe >> 8, xe & 0xFF);\r\nwrite_reg(par, 0x2B, ys >> 8, ys & 0xFF, ye >> 8, ye & 0xFF);\r\nwrite_reg(par, 0x2C);\r\n}\r\nstatic int set_var(struct fbtft_par *par)\r\n{\r\nswitch (par->info->var.rotate) {\r\ncase 270:\r\nwrite_reg(par, 0xB6, 0x00, 0x02, 0x3B);\r\nwrite_reg(par, 0x36, 0x28);\r\nbreak;\r\ncase 180:\r\nwrite_reg(par, 0xB6, 0x00, 0x22, 0x3B);\r\nwrite_reg(par, 0x36, 0x58);\r\nbreak;\r\ncase 90:\r\nwrite_reg(par, 0xB6, 0x00, 0x22, 0x3B);\r\nwrite_reg(par, 0x36, 0x38);\r\nbreak;\r\ndefault:\r\nwrite_reg(par, 0xB6, 0x00, 0x22, 0x3B);\r\nwrite_reg(par, 0x36, 0x08);\r\nbreak;\r\n}\r\nreturn 0;\r\n}
