static int sr_class3_enable(struct omap_sr *sr)\r\n{\r\nunsigned long volt = voltdm_get_voltage(sr->voltdm);\r\nif (!volt) {\r\npr_warn("%s: Curr voltage unknown. Cannot enable %s\n",\r\n__func__, sr->name);\r\nreturn -ENODATA;\r\n}\r\nomap_vp_enable(sr->voltdm);\r\nreturn sr_enable(sr, volt);\r\n}\r\nstatic int sr_class3_disable(struct omap_sr *sr, int is_volt_reset)\r\n{\r\nsr_disable_errgen(sr);\r\nomap_vp_disable(sr->voltdm);\r\nsr_disable(sr);\r\nif (is_volt_reset)\r\nvoltdm_reset(sr->voltdm);\r\nreturn 0;\r\n}\r\nstatic int sr_class3_configure(struct omap_sr *sr)\r\n{\r\nreturn sr_configure_errgen(sr);\r\n}\r\nstatic int __init sr_class3_init(void)\r\n{\r\npr_info("SmartReflex Class3 initialized\n");\r\nreturn sr_register_class(&class3_data);\r\n}
