int da9063_irq_init(struct da9063 *da9063)\r\n{\r\nint ret;\r\nif (!da9063->chip_irq) {\r\ndev_err(da9063->dev, "No IRQ configured\n");\r\nreturn -EINVAL;\r\n}\r\nret = regmap_add_irq_chip(da9063->regmap, da9063->chip_irq,\r\nIRQF_TRIGGER_LOW | IRQF_ONESHOT | IRQF_SHARED,\r\nda9063->irq_base, &da9063_irq_chip,\r\n&da9063->regmap_irq);\r\nif (ret) {\r\ndev_err(da9063->dev, "Failed to reguest IRQ %d: %d\n",\r\nda9063->chip_irq, ret);\r\nreturn ret;\r\n}\r\nreturn 0;\r\n}\r\nvoid da9063_irq_exit(struct da9063 *da9063)\r\n{\r\nregmap_del_irq_chip(da9063->chip_irq, da9063->regmap_irq);\r\n}
