int FPU_to_exp16(FPU_REG const *a, FPU_REG *x)\r\n{\r\nint sign = getsign(a);\r\n*(long long *)&(x->sigl) = *(const long long *)&(a->sigl);\r\nsetexponent16(x, exponent(a));\r\nif (exponent16(x) == EXP_UNDER) {\r\nif (x->sigh & 0x80000000) {\r\naddexponent(x, 1);\r\n} else {\r\naddexponent(x, 1);\r\nFPU_normalize_nuo(x);\r\n}\r\n}\r\nif (!(x->sigh & 0x80000000)) {\r\nEXCEPTION(EX_INTERNAL | 0x180);\r\n}\r\nreturn sign;\r\n}
