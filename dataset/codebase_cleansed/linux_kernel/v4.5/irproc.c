void __init irda_proc_register(void)\r\n{\r\nint i;\r\nproc_irda = proc_mkdir("irda", init_net.proc_net);\r\nif (proc_irda == NULL)\r\nreturn;\r\nfor (i = 0; i < ARRAY_SIZE(irda_dirs); i++)\r\n(void) proc_create(irda_dirs[i].name, 0, proc_irda,\r\nirda_dirs[i].fops);\r\n}\r\nvoid irda_proc_unregister(void)\r\n{\r\nint i;\r\nif (proc_irda) {\r\nfor (i=0; i<ARRAY_SIZE(irda_dirs); i++)\r\nremove_proc_entry(irda_dirs[i].name, proc_irda);\r\nremove_proc_entry("irda", init_net.proc_net);\r\nproc_irda = NULL;\r\n}\r\n}
