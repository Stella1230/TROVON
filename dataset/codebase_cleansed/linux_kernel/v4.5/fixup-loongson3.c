static void print_fixup_info(const struct pci_dev *pdev)\r\n{\r\ndev_info(&pdev->dev, "Device %x:%x, irq %d\n",\r\npdev->vendor, pdev->device, pdev->irq);\r\n}\r\nint __init pcibios_map_irq(const struct pci_dev *dev, u8 slot, u8 pin)\r\n{\r\nprint_fixup_info(dev);\r\nreturn dev->irq;\r\n}\r\nstatic void pci_fixup_radeon(struct pci_dev *pdev)\r\n{\r\nif (pdev->resource[PCI_ROM_RESOURCE].start)\r\nreturn;\r\nif (!loongson_sysconf.vgabios_addr)\r\nreturn;\r\npdev->resource[PCI_ROM_RESOURCE].start =\r\nloongson_sysconf.vgabios_addr;\r\npdev->resource[PCI_ROM_RESOURCE].end =\r\nloongson_sysconf.vgabios_addr + 256*1024 - 1;\r\npdev->resource[PCI_ROM_RESOURCE].flags |= IORESOURCE_ROM_COPY;\r\ndev_info(&pdev->dev, "BAR %d: assigned %pR for Radeon ROM\n",\r\nPCI_ROM_RESOURCE, &pdev->resource[PCI_ROM_RESOURCE]);\r\n}\r\nint pcibios_plat_dev_init(struct pci_dev *dev)\r\n{\r\nreturn 0;\r\n}
