static void __init omap3_clk_legacy_common_init(void)\r\n{\r\nomap2_clk_disable_autoidle_all();\r\nomap2_clk_enable_init_clocks(enable_init_clks,\r\nARRAY_SIZE(enable_init_clks));\r\npr_info("Clocking rate (Crystal/Core/MPU): %ld.%01ld/%ld/%ld MHz\n",\r\n(clk_get_rate(osc_sys_ck.clk) / 1000000),\r\n(clk_get_rate(osc_sys_ck.clk) / 100000) % 10,\r\n(clk_get_rate(core_ck.clk) / 1000000),\r\n(clk_get_rate(arm_fck.clk) / 1000000));\r\n}\r\nint __init omap3430es1_clk_legacy_init(void)\r\n{\r\nint r;\r\nr = ti_clk_register_legacy_clks(omap3430es1_clks);\r\nr |= ti_clk_register_legacy_clks(omap34xx_omap36xx_clks);\r\nr |= ti_clk_register_legacy_clks(omap3xxx_clks);\r\nomap3_clk_legacy_common_init();\r\nreturn r;\r\n}\r\nint __init omap3430_clk_legacy_init(void)\r\n{\r\nint r;\r\nr = ti_clk_register_legacy_clks(omap34xx_omap36xx_clks);\r\nr |= ti_clk_register_legacy_clks(omap36xx_omap3430es2plus_clks);\r\nr |= ti_clk_register_legacy_clks(omap36xx_am35xx_omap3430es2plus_clks);\r\nr |= ti_clk_register_legacy_clks(omap3xxx_clks);\r\nomap3_clk_legacy_common_init();\r\nomap3_clk_lock_dpll5();\r\nreturn r;\r\n}\r\nint __init omap36xx_clk_legacy_init(void)\r\n{\r\nint r;\r\nti_clk_patch_legacy_clks(omap36xx_clk_patches);\r\nr = ti_clk_register_legacy_clks(omap36xx_clks);\r\nr |= ti_clk_register_legacy_clks(omap36xx_omap3430es2plus_clks);\r\nr |= ti_clk_register_legacy_clks(omap34xx_omap36xx_clks);\r\nr |= ti_clk_register_legacy_clks(omap36xx_am35xx_omap3430es2plus_clks);\r\nr |= ti_clk_register_legacy_clks(omap3xxx_clks);\r\nomap3_clk_legacy_common_init();\r\nomap3_clk_lock_dpll5();\r\nreturn r;\r\n}\r\nint __init am35xx_clk_legacy_init(void)\r\n{\r\nint r;\r\nr = ti_clk_register_legacy_clks(am35xx_clks);\r\nr |= ti_clk_register_legacy_clks(omap36xx_am35xx_omap3430es2plus_clks);\r\nr |= ti_clk_register_legacy_clks(omap3xxx_clks);\r\nomap3_clk_legacy_common_init();\r\nomap3_clk_lock_dpll5();\r\nreturn r;\r\n}
