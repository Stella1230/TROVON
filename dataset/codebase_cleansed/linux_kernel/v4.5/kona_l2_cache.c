void __init kona_l2_cache_init(void)\r\n{\r\nunsigned int result;\r\nint ret;\r\nret = bcm_kona_smc_init();\r\nif (ret) {\r\npr_info("Secure API not available (%d). Skipping L2 init.\n",\r\nret);\r\nreturn;\r\n}\r\nresult = bcm_kona_smc(SSAPI_ENABLE_L2_CACHE, 0, 0, 0, 0);\r\nif (result != SEC_ROM_RET_OK) {\r\npr_err("Secure Monitor call failed (%u)! Skipping L2 init.\n",\r\nresult);\r\nreturn;\r\n}\r\nret = l2x0_of_init(0, ~0);\r\nif (ret)\r\npr_err("Couldn't enable L2 cache: %d\n", ret);\r\n}
