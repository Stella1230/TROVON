static int __init lasat_pci_setup(void)\r\n{\r\nprintk(KERN_DEBUG "PCI: starting\n");\r\nif (IS_LASAT_200())\r\nlasat_pci_controller.pci_ops = &nile4_pci_ops;\r\nelse\r\nlasat_pci_controller.pci_ops = &gt64xxx_pci0_ops;\r\nregister_pci_controller(&lasat_pci_controller);\r\nreturn 0;\r\n}\r\nint __init pcibios_map_irq(const struct pci_dev *dev, u8 slot, u8 pin)\r\n{\r\nswitch (slot) {\r\ncase 1:\r\ncase 2:\r\ncase 3:\r\nreturn LASAT_IRQ_PCIA + (((slot-1) + (pin-1)) % 4);\r\ncase 4:\r\nreturn LASAT_IRQ_ETH1;\r\ncase 5:\r\nreturn LASAT_IRQ_ETH0;\r\ncase 6:\r\nreturn LASAT_IRQ_HDC;\r\ndefault:\r\nreturn 0xff;\r\n}\r\nreturn -1;\r\n}\r\nint pcibios_plat_dev_init(struct pci_dev *dev)\r\n{\r\nreturn 0;\r\n}
