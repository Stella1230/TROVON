void OPENSSL_config(const char *config_name)\r\n{\r\nif (openssl_configured)\r\nreturn;\r\nOPENSSL_load_builtin_modules();\r\n#ifndef OPENSSL_NO_ENGINE\r\nENGINE_load_builtin_engines();\r\n#endif\r\nERR_clear_error();\r\nif (CONF_modules_load_file(NULL, config_name,\r\nCONF_MFLAGS_DEFAULT_SECTION|CONF_MFLAGS_IGNORE_MISSING_FILE) <= 0)\r\n{\r\nBIO *bio_err;\r\nERR_load_crypto_strings();\r\nif ((bio_err=BIO_new_fp(stderr, BIO_NOCLOSE)) != NULL)\r\n{\r\nBIO_printf(bio_err,"Auto configuration failed\n");\r\nERR_print_errors(bio_err);\r\nBIO_free(bio_err);\r\n}\r\nexit(1);\r\n}\r\nreturn;\r\n}\r\nvoid OPENSSL_no_config()\r\n{\r\nopenssl_configured = 1;\r\n}
