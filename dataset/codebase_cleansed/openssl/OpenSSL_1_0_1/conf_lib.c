int CONF_set_default_method(CONF_METHOD *meth)\r\n{\r\ndefault_CONF_method = meth;\r\nreturn 1;\r\n}\r\nCONF *NCONF_new(CONF_METHOD *meth)\r\n{\r\nCONF *ret;\r\nif (meth == NULL)\r\nmeth = NCONF_default();\r\nret = meth->create(meth);\r\nif (ret == NULL)\r\n{\r\nCONFerr(CONF_F_NCONF_NEW,ERR_R_MALLOC_FAILURE);\r\nreturn(NULL);\r\n}\r\nreturn ret;\r\n}\r\nvoid NCONF_free(CONF *conf)\r\n{\r\nif (conf == NULL)\r\nreturn;\r\nconf->meth->destroy(conf);\r\n}\r\nvoid NCONF_free_data(CONF *conf)\r\n{\r\nif (conf == NULL)\r\nreturn;\r\nconf->meth->destroy_data(conf);\r\n}\r\nint NCONF_load(CONF *conf, const char *file, long *eline)\r\n{\r\nif (conf == NULL)\r\n{\r\nCONFerr(CONF_F_NCONF_LOAD,CONF_R_NO_CONF);\r\nreturn 0;\r\n}\r\nreturn conf->meth->load(conf, file, eline);\r\n}\r\nint NCONF_load_fp(CONF *conf, FILE *fp,long *eline)\r\n{\r\nBIO *btmp;\r\nint ret;\r\nif(!(btmp = BIO_new_fp(fp, BIO_NOCLOSE)))\r\n{\r\nCONFerr(CONF_F_NCONF_LOAD_FP,ERR_R_BUF_LIB);\r\nreturn 0;\r\n}\r\nret = NCONF_load_bio(conf, btmp, eline);\r\nBIO_free(btmp);\r\nreturn ret;\r\n}\r\nint NCONF_load_bio(CONF *conf, BIO *bp,long *eline)\r\n{\r\nif (conf == NULL)\r\n{\r\nCONFerr(CONF_F_NCONF_LOAD_BIO,CONF_R_NO_CONF);\r\nreturn 0;\r\n}\r\nreturn conf->meth->load_bio(conf, bp, eline);\r\n}\r\nint NCONF_dump_fp(const CONF *conf, FILE *out)\r\n{\r\nBIO *btmp;\r\nint ret;\r\nif(!(btmp = BIO_new_fp(out, BIO_NOCLOSE))) {\r\nCONFerr(CONF_F_NCONF_DUMP_FP,ERR_R_BUF_LIB);\r\nreturn 0;\r\n}\r\nret = NCONF_dump_bio(conf, btmp);\r\nBIO_free(btmp);\r\nreturn ret;\r\n}\r\nint NCONF_dump_bio(const CONF *conf, BIO *out)\r\n{\r\nif (conf == NULL)\r\n{\r\nCONFerr(CONF_F_NCONF_DUMP_BIO,CONF_R_NO_CONF);\r\nreturn 0;\r\n}\r\nreturn conf->meth->dump(conf, out);\r\n}
