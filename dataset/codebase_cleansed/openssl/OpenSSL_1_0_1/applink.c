static void *app_stdin(void) { return stdin; }\r\nstatic void *app_stdout(void) { return stdout; }\r\nstatic void *app_stderr(void) { return stderr; }\r\nstatic int app_feof(FILE *fp) { return feof(fp); }\r\nstatic int app_ferror(FILE *fp) { return ferror(fp); }\r\nstatic void app_clearerr(FILE *fp) { clearerr(fp); }\r\nstatic int app_fileno(FILE *fp) { return _fileno(fp); }\r\nstatic int app_fsetmod(FILE *fp,char mod)\r\n{ return _setmode (_fileno(fp),mod=='b'?_O_BINARY:_O_TEXT); }\r\nvoid **\r\n#if defined(__BORLANDC__)\r\n__stdcall\r\n#else\r\n__cdecl\r\n#endif\r\nOPENSSL_Applink(void)\r\n{ static int once=1;\r\nstatic void *OPENSSL_ApplinkTable[APPLINK_MAX+1]={(void *)APPLINK_MAX};\r\nif (once)\r\n{ OPENSSL_ApplinkTable[APPLINK_STDIN] = app_stdin;\r\nOPENSSL_ApplinkTable[APPLINK_STDOUT] = app_stdout;\r\nOPENSSL_ApplinkTable[APPLINK_STDERR] = app_stderr;\r\nOPENSSL_ApplinkTable[APPLINK_FPRINTF] = fprintf;\r\nOPENSSL_ApplinkTable[APPLINK_FGETS] = fgets;\r\nOPENSSL_ApplinkTable[APPLINK_FREAD] = fread;\r\nOPENSSL_ApplinkTable[APPLINK_FWRITE] = fwrite;\r\nOPENSSL_ApplinkTable[APPLINK_FSETMOD] = app_fsetmod;\r\nOPENSSL_ApplinkTable[APPLINK_FEOF] = app_feof;\r\nOPENSSL_ApplinkTable[APPLINK_FCLOSE] = fclose;\r\nOPENSSL_ApplinkTable[APPLINK_FOPEN] = fopen;\r\nOPENSSL_ApplinkTable[APPLINK_FSEEK] = fseek;\r\nOPENSSL_ApplinkTable[APPLINK_FTELL] = ftell;\r\nOPENSSL_ApplinkTable[APPLINK_FFLUSH] = fflush;\r\nOPENSSL_ApplinkTable[APPLINK_FERROR] = app_ferror;\r\nOPENSSL_ApplinkTable[APPLINK_CLEARERR] = app_clearerr;\r\nOPENSSL_ApplinkTable[APPLINK_FILENO] = app_fileno;\r\nOPENSSL_ApplinkTable[APPLINK_OPEN] = _open;\r\nOPENSSL_ApplinkTable[APPLINK_READ] = _read;\r\nOPENSSL_ApplinkTable[APPLINK_WRITE] = _write;\r\nOPENSSL_ApplinkTable[APPLINK_LSEEK] = _lseek;\r\nOPENSSL_ApplinkTable[APPLINK_CLOSE] = _close;\r\nonce = 0;\r\n}\r\nreturn OPENSSL_ApplinkTable;\r\n}
