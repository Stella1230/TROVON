BIO_METHOD *BIO_s_null(void)\r\n{\r\nreturn(&null_method);\r\n}\r\nstatic int null_new(BIO *bi)\r\n{\r\nbi->init=1;\r\nbi->num=0;\r\nbi->ptr=(NULL);\r\nreturn(1);\r\n}\r\nstatic int null_free(BIO *a)\r\n{\r\nif (a == NULL) return(0);\r\nreturn(1);\r\n}\r\nstatic int null_read(BIO *b, char *out, int outl)\r\n{\r\nreturn(0);\r\n}\r\nstatic int null_write(BIO *b, const char *in, int inl)\r\n{\r\nreturn(inl);\r\n}\r\nstatic long null_ctrl(BIO *b, int cmd, long num, void *ptr)\r\n{\r\nlong ret=1;\r\nswitch (cmd)\r\n{\r\ncase BIO_CTRL_RESET:\r\ncase BIO_CTRL_EOF:\r\ncase BIO_CTRL_SET:\r\ncase BIO_CTRL_SET_CLOSE:\r\ncase BIO_CTRL_FLUSH:\r\ncase BIO_CTRL_DUP:\r\nret=1;\r\nbreak;\r\ncase BIO_CTRL_GET_CLOSE:\r\ncase BIO_CTRL_INFO:\r\ncase BIO_CTRL_GET:\r\ncase BIO_CTRL_PENDING:\r\ncase BIO_CTRL_WPENDING:\r\ndefault:\r\nret=0;\r\nbreak;\r\n}\r\nreturn(ret);\r\n}\r\nstatic int null_gets(BIO *bp, char *buf, int size)\r\n{\r\nreturn(0);\r\n}\r\nstatic int null_puts(BIO *bp, const char *str)\r\n{\r\nif (str == NULL) return(0);\r\nreturn(strlen(str));\r\n}
