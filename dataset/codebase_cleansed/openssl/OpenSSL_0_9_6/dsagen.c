int cb(int p, int n)\r\n{\r\nchar c='*';\r\nif (p == 0) c='.';\r\nif (p == 1) c='+';\r\nif (p == 2) c='*';\r\nif (p == 3) c='\n';\r\nprintf("%c",c);\r\nfflush(stdout);\r\n}\r\nmain()\r\n{\r\nint i;\r\nBIGNUM *n;\r\nBN_CTX *ctx;\r\nunsigned char seed_buf[20];\r\nDSA *dsa;\r\nint counter,h;\r\nBIO *bio_err=NULL;\r\nif (bio_err == NULL)\r\nbio_err=BIO_new_fp(stderr,BIO_NOCLOSE);\r\nmemcpy(seed_buf,seed,20);\r\ndsa=DSA_generate_parameters(1024,seed,20,&counter,&h,cb);\r\nif (dsa == NULL)\r\nDSA_print(bio_err,dsa,0);\r\n}
