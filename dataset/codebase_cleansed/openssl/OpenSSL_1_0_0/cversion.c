const char *SSLeay_version(int t)\r\n{\r\nif (t == SSLEAY_VERSION)\r\nreturn OPENSSL_VERSION_TEXT;\r\nif (t == SSLEAY_BUILT_ON)\r\n{\r\n#ifdef DATE\r\nstatic char buf[sizeof(DATE)+11];\r\nBIO_snprintf(buf,sizeof buf,"built on: %s",DATE);\r\nreturn(buf);\r\n#else\r\nreturn("built on: date not available");\r\n#endif\r\n}\r\nif (t == SSLEAY_CFLAGS)\r\n{\r\n#ifdef CFLAGS\r\nstatic char buf[sizeof(CFLAGS)+11];\r\nBIO_snprintf(buf,sizeof buf,"compiler: %s",CFLAGS);\r\nreturn(buf);\r\n#else\r\nreturn("compiler: information not available");\r\n#endif\r\n}\r\nif (t == SSLEAY_PLATFORM)\r\n{\r\n#ifdef PLATFORM\r\nstatic char buf[sizeof(PLATFORM)+11];\r\nBIO_snprintf(buf,sizeof buf,"platform: %s", PLATFORM);\r\nreturn(buf);\r\n#else\r\nreturn("platform: information not available");\r\n#endif\r\n}\r\nif (t == SSLEAY_DIR)\r\n{\r\n#ifdef OPENSSLDIR\r\nreturn "OPENSSLDIR: \"" OPENSSLDIR "\"";\r\n#else\r\nreturn "OPENSSLDIR: N/A";\r\n#endif\r\n}\r\nreturn("not available");\r\n}\r\nunsigned long SSLeay(void)\r\n{\r\nreturn(SSLEAY_VERSION_NUMBER);\r\n}
